{"version":3,"file":"js/application.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC1IA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;AChBA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACxBA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrCA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAIA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtFA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;;;;;;;;;;;ACjCA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACvDA;AACA;AAEA;AACA;AAMA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrDA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACRA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACNA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACpBA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;AC7CA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;ACvEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;AChBA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;AClCA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACVA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;ACxCA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;;;;;;;;;;;;;;;AC/FA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;ACoJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAIA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAsBA;AACA;AACA;AAsBA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AAIA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAIA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAIA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAKA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAMA;AAEA;AACA;AACA;AACA;AACA;AAIA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAMA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAGA;AAEA;AAEA;AACA;AACA;AAIA;AACA;AAIA;AACA;AAEA;AAOA;AAGA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAKA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAKA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAKA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAGA;AAEA;AACA;AAEA;AAKA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAKA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAKA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC/sCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3JA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpFA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvFA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpFA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACqHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAIA;AACA;AAIA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACnIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AAYA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAIA;AACA;AACA;;;;;;;;;;;;;;;;;;ACvPA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAsBA;AACA;AACA;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AC3TA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACqDA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;AChSA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAKA;AAEA;AAKA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACzNA;AACA;AACA;;;;;;;;;;;;;;;;;;ACkMA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACjUA;AACA;AACA;;;;;;;;;;;;;;ACvDA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnBA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/EA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACvHA;AAMA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3JA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;AChHA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpBA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AvBnHA;AAeA;;AAfA;;AAAA;AAqFA;;AArFA;AAAA;AAAA;AAAA;;AAAA;AAgMA;;;AAhMA;AAqMA;;;AAeA;AACA;;;;;;;;;;;;AApNA;AACA;AACA;AACA;AACA;AACA;AAGA;AATA;AAUA;AAVA;AAiBA;AAEA;AACA;AAEA;AAtBA;AAsBA;AAGA;AAzBA;AA0BA;AACA;AAAA;AAAA;AACA;AA5BA;AAAA;AAAA;AAkCA;AACA;AAAA;;AAIA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AA3CA;AAAA;AA6CA;AACA;AACA;AAGA;AACA;AACA;AAEA;AAEA;AAxDA;AAAA;AA0DA;AACA;AACA;AACA;AAEA;AAGA;AAlEA;AAmEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAaA;AAxFA;AA0FA;AACA;AACA;AA5FA;AA+FA;AACA;AACA;AACA;AACA;AAnGA;AAuGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AApHA;AAwHA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1IA;AAAA;AAmJA;AACA;AACA;AAEA;AAAA;AAAA;AAIA;AACA;AASA;AArKA;AAsKA;AAAA;AACA;AAGA;AA1KA;AA2KA;AAAA;AAAA;AAAA;;AAMA;AACA;AACA;AAAA;AACA;AAGA;AAvLA;AAwLA;AACA;AAAA;;AAMA;AA/LA;AA6MA;AACA;AACA;AA/MA;AAAA;AAyNA;AACA;AACA;AA3NA;AAAA;AA6NA;AACA;AACA;AACA;AACA;AACA;AAlOA;AAAA;AAqOA;AACA;AACA;AACA;AACA;AAzOA;AAAA;AA4OA;AACA;AACA;AACA;AACA;AACA;AAjPA;;;;;;;;;;;;;;;;;;ACCA;AAAA;AAAA;AAAA;;;AAQA;AAAA;;AATA;AAUA;;;AAYA;AAAA;AAtBA;;AAqCA;AAAA;AArCA;;AAgDA;AAAA;;AAiBA;AAAA;AAjEA;;AAsEA;AAAA;;AAkDA;AACA;;;AAEA;AAAA;;;AA3HA;AA+LA;;;AAyBA;AAAA;;AAoEA;AAAA;AA2BA;AAAA;AAAA;;;;;;;;;;;;;;;;AAtTA;AADA;AAIA;AACA;AAAA;AACA;AACA;AAPA;AAOA;AAEA;AATA;AAeA;AACA;AACA;AACA;AACA;AAnBA;AAAA;AAAA;AAAA;AAAA;AA0BA;AAKA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAhDA;AAsDA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AA5DA;AA6DA;AACA;AAEA;AAhEA;AAgEA;AACA;AAjEA;AAqEA;AAAA;AACA;AAQA;AACA;AAQA;AAvFA;AAwFA;AACA;AACA;AA1FA;AA0FA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AAAA;AA9GA;AA8GA;AAEA;AAhHA;AAiHA;AACA;AACA;AAnHA;AAAA;AA8HA;AACA;AACA;AAEA;AAlIA;AAAA;AAAA;AAAA;AAoIA;AApIA;AAqIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AAGA;AA5JA;AA6JA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAQA;AAQA;AA1LA;AA8LA;AA9LA;AAmMA;AACA;AACA;AArMA;AAAA;AA6MA;AACA;AAMA;AApNA;AAqNA;AACA;AAtNA;AAsNA;AAEA;AAUA;AAAA;AACA;AAnOA;AA+OA;AACA;AACA;AAUA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAvRA;AAAA;AA+RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtSA;AAAA;AA+SA;AACA;AACA;AACA;AACA;AACA;AApTA;;;;;;;;;;;;;;;;;;ACCA;AAAA;;AAKA;AAAA;;AAEA;AAAA;;AARA;AAmBA;;AAEA;AAAA;AAAA;AAAA;AACA;AADA;;AAKA;AAAA;;AACA;AAAA;AA3BA;AAAA;AAAA;AAAA;;AA4EA;AAAA;AAAA;;AA5EA;;AA0FA;AAAA;;AA1FA;AAgGA;;;AA/FA;AAEA;AACA;AAEA;AAQA;AAAA;AAAA;AAAA;AAWA;AACA;AAGA;AACA;AACA;AAUA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAGA;AArDA;AAuDA;AACA;AAAA;;AAIA;AAEA;AAAA;AAEA;AACA;AAEA;AAnEA;AAAA;AAwEA;AACA;AACA;AAEA;AAGA;AAEA;AACA;AACA;AAEA;AArFA;AAmGA;AACA;AAQA;;;;;;;;;;;;;;;;;AC5GA;;;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AAhBA;AAoBA;AACA;AACA;AACA;AAIA;AAAA;AAGA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;;AChCA;AAAA;;;;AAAA;AAEA;AACA;AACA;AACA;AAGA;AATA;AAUA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAbA;AAAA;AAiBA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AApBA;AAyBA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAIA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;;;;;;ACjCA;AAAA;;AAMA;AAAA;;AACA;AAAA;;AAYA;AAAA;;AAGA;AACA;AACA;;AA1BA;;AA0CA;AACA;AACA;;AA5CA;;AA0DA;AAAA;;AAzDA;AAIA;AACA;AAEA;AAMA;AACA;AACA;AACA;AAGA;AACA;AAUA;AACA;AAhCA;AAkCA;AACA;AACA;AACA;AArCA;AAiDA;AAjDA;AAmDA;AACA;AACA;AArDA;;;;;;;;;;;;;;;;;;;ACCA;AACA;AAEA;AAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;ACpBA;;AAWA;AAAA;;AACA;AAAA;;AAZA;AA0BA;;;AAIA;AAAA;;AACA;AAAA;;AAKA;AACA;;AArCA;;;;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAEA;AADA;AAGA;AAXA;AAeA;AACA;AACA;AAEA;AAnBA;AAqBA;AACA;AAGA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AA9CA;;;;;;;;;;;;;;;;;;ACCA;AAAA;;AAMA;AAAA;;AAMA;AAAA;;AAbA;AAqCA;;AArCA;AAAA;;AAAA;AAuDA;;AAvDA;AAAA;AAAA;AAAA;AAAA;;AAyIA;AAAA;;AAzIA;AAsJA;;AAtJA;AAAA;AAAA;AAAA;;AAAA;AA8LA;;;;;;;;;;;;;;;AA7LA;AAEA;AACA;AAJA;AAIA;AAEA;AAIA;AACA;AAEA;AAbA;AAAA;AAgBA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAGA;AArCA;AAAA;AAwCA;AAxCA;AA0CA;AACA;AACA;AA5CA;AA+CA;AACA;AACA;AACA;AACA;AAnDA;AA0DA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AA9DA;AAAA;AAkEA;AACA;AACA;AAEA;AAAA;AAAA;AAtEA;AAAA;AA0EA;AACA;AACA;AAEA;AAAA;AAAA;AA9EA;AAAA;AAgFA;AACA;AAjFA;AAmFA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AA5FA;AAAA;AAgGA;AACA;AACA;AAlGA;AAkGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhHA;AAqHA;AACA;AACA;AAEA;AAAA;AAAA;AAzHA;AAAA;AA+HA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AAEA;AAzIA;AA0JA;AACA;AACA;AACA;AACA;AACA;AA/JA;AAkKA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAtKA;AAAA;AAAA;AA4KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnLA;AAAA;AAuLA;AACA;AACA;AACA;AAIA;AA9LA;AAiMA;AACA;AACA;AAnMA;AAwMA;AACA;AACA;AACA;AACA;AACA;AA7MA;AAAA;AAgNA;AACA;AACA;AACA;AACA;AApNA;AAAA;AAuNA;AACA;AACA;AACA;AACA;AACA;AA5NA;;;;;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAgJA;AAAA;AAhJA;;AAwJA;AAAA;;AAOA;AAAA;AA/JA;;AAsKA;AAAA;;AAOA;AAAA;;AAOA;AAAA;;AAOA;AAAA;;AAOA;AAAA;;AAOA;AAAA;;AAOA;AAAA;;AAhNA;AAqNA;;;AArNA;AAAA;;AAiOA;AAAA;;AAjOA;AAAA;;AAgPA;AAAA;;AAhPA;AAAA;;AA6PA;AAAA;AAKA;AAAA;AAAA;AAlQA;;AAAA;AAAA;;AAAA;AAAA;;;;;;;;AAAA;AAAA;AAGA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AAEA;AAjBA;AAqBA;AArBA;AAqBA;AAEA;AAAA;AADA;AAGA;AAzBA;AA8BA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AAEA;AAGA;AACA;AA/CA;AA+CA;AAEA;AAAA;AADA;AAGA;AAnDA;AAwDA;AACA;AAEA;AA3DA;AA6DA;AACA;AACA;AACA;AACA;AAjEA;AAAA;AAqEA;AArEA;AAqEA;AAEA;AAAA;AADA;AAGA;AAzEA;AA8EA;AACA;AAEA;AAjFA;AAmFA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AAEA;AA5FA;AAgGA;AAhGA;AAgGA;AAEA;AAAA;AADA;AAGA;AApGA;AAyGA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAGA;AACA;AAEA;AAGA;AACA;AAEA;AAIA;AArIA;AAqIA;AAEA;AAAA;AADA;AAGA;AAzIA;AA8IA;AAEA;AAhJA;AAmJA;AACA;AACA;AArJA;AAAA;AA6JA;AAEA;AAEA;AACA;AACA;AACA;AApKA;AAAA;AA2KA;AAEA;AA7KA;AAgLA;AACA;AAFA;AA/KA;AAyLA;AAEA;AA3LA;AA8LA;AACA;AAFA;AA7LA;AAuMA;AAEA;AAzMA;AA4MA;AACA;AAFA;AAgBA;AACA;AAEA;AACA;AAAA;AAWA;AACA;AAEA;AACA;AAAA;AASA;AACA;AAEA;AACA;AAAA;AA3PA;AAAA;AAoQA;AAEA;AAAA;AAGA;AACA;AACA;AAEA;AACA;AACA;AA/QA;AAAA;AAAA;AAqRA;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AA7RA;AAqSA;AACA;AACA;AAEA;AACA;AACA;AA3SA;;;;;;;;;;;;;;;;;;ACMA;AAAA;;AACA;AAAA;;AACA;AAAA;;AAgBA;AAAA;;AAEA;AACA;;AA3BA;;AAoDA;AAAA;AApDA;;AAAA;AAAA;;AAgFA;AAAA;AAhFA;;AAAA;AA4GA;AACA;AACA;;;AAEA;AAAA;;AAeA;AAAA;AA/HA;;AAwJA;AAAA;;AAxJA;AAmKA;;;AAEA;AAAA;AArKA;AAAA;AAAA;;AAAA;AAAA;;AA2MA;AAAA;;;;;;AAzMA;AAFA;AAGA;AACA;AAEA;AAIA;AAGA;AAbA;AAAA;AAeA;AACA;AACA;AACA;AACA;AAKA;AAMA;AACA;AAIA;AAnCA;AAoCA;AACA;AAEA;AACA;AAEA;AAAA;AAEA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAEA;AAEA;AAGA;AAzDA;AA+DA;AACA;AAEA;AAAA;AAAA;AAIA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAhFA;AA2FA;AACA;AACA;AAGA;AAhGA;AAiGA;AACA;AACA;AAEA;AACA;AAtGA;AAkHA;AAGA;AArHA;AAAA;AAuHA;AACA;AACA;AACA;AACA;AAIA;AAGA;AACA;AAKA;AAxIA;AAyIA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AAEA;AAGA;AAUA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAnLA;AAyLA;AACA;AAEA;AAAA;AAAA;AAKA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;AC3MA;;AAAA;AAAA;AAAA;;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAhBA;AAAA;AAsBA;AACA;AACA;AAEA;AAEA;AA5BA;AAAA;AA8BA;AAIA;AACA;AAAA;AACA;AACA;AAEA;AAEA;AACA;AA1CA;AAAA;;;;;;;;;;;;;;;;;;ACAA;AAAA;AAmDA;AAAA;AAAA;AAnDA;AA0DA;AAAA;AAAA;;AA1DA;AAqEA;;AArEA;;AAyFA;AAAA;;AACA;AAAA;;AAOA;AAAA;AAjGA;;AAAA;AAmHA;;AAnHA;;AAwJA;AAAA;;AAEA;AAAA;;AAwBA;AAAA;;AAGA;AAAA;;AAEA;AAAA;;AAvLA;AAiMA;;AAEA;AAAA;AAAA;AAAA;;;;;;;AAnMA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;;AAKA;AACA;AACA;AACA;AACA;AAQA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AAlDA;AAAA;AAAA;AAuDA;AACA;AAxDA;AA6DA;AACA;AAAA;AAAA;;AAMA;AAMA;AAAA;AAAA;AACA;AAOA;AAlFA;AAmFA;AAnFA;AAmFA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAIA;AACA;AACA;AAEA;AAjGA;AAuGA;AACA;AACA;AAzGA;AAAA;AAAA;AAqHA;AArHA;AA8HA;AACA;AACA;AAhIA;AAgIA;AAMA;AAAA;AAAA;AACA;AACA;AAMA;AACA;AAOA;AAAA;AAAA;AAtJA;AAqKA;AACA;AAAA;;AAIA;AAEA;AACA;AACA;AACA;AACA;AAhLA;AAgLA;AAEA;AACA;AAAA;AAAA;AAEA;AArLA;;;;;;;;;;;;;;;;;;ACCA;AAAA;;AAKA;AAAA;;AAEA;AAAA;;AARA;AAmBA;;AAEA;AAAA;AAAA;AAAA;AACA;AADA;;AAIA;AAAA;AAzBA;;AAyCA;AAAA;AAzCA;;AAmDA;AAAA;;AACA;AAAA;;;;AAnDA;AAEA;AACA;AAEA;AAQA;AAAA;AAAA;AAAA;AAYA;AAEA;AACA;AACA;AAMA;AAAA;AAAA;AAAA;AApCA;AAwCA;AAGA;AA3CA;AA6CA;AACA;AACA;AACA;AAhDA;AAsDA;AACA;AACA;AAIA;AACA;AACA;AAIA;AACA;AACA;AAIA;AACA;AACA;AAIA;AACA;AACA;AAIA;AACA;AACA;AAIA;AACA;AACA;AAIA;AACA;AACA;AAOA;AACA;AAEA;;;;;;;;;;;;;;;;;;AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAVA;AAYA;;AAXA;;;;;;;;;;;;;;;;;;ACDA;AAAA;AAIA;AAAA;AAAA;;AAIA;AACA;;AATA;AAmBA;AAAA;AAAA;;AAnBA;AAAA;;AAAA;AAgCA;;AAIA;AAAA;AAAA;AACA;AAAA;AAGA;AAAA;;AASA;AAAA;AAjDA;AAAA;AAAA;;AAuEA;AAAA;;AAGA;AAAA;AA1EA;AAAA;AAAA;;AAAA;AAsGA;;AAtGA;;AAsHA;AAAA;;AAEA;AACA;;AAzHA;AAAA;AAAA;;AAwJA;AAAA;;AAxJA;AAAA;;AA6KA;AAAA;;AACA;AAAA;AAYA;AACA;AAAA;AAIA;AAAA;AAAA;AACA;AAAA;;AAKA;AACA;;;AAaA;AAAA;AAnNA;;;;;;;;AACA;AAEA;AACA;AAOA;AAEA;AACA;AAEA;AAGA;AAMA;AAEA;AACA;AAGA;AAaA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AAEA;AApEA;AAwEA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AApFA;AAAA;AAyFA;AAzFA;AA6FA;AACA;AAEA;AAhGA;AAyGA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AAWA;AACA;AACA;AAEA;AAAA;AAAA;AAMA;AAEA;AACA;AAEA;AAAA;AAAA;AAKA;AAEA;AACA;AACA;AApJA;AAAA;AAAA;AAoKA;AACA;AACA;AAEA;AACA;AAAA;AAEA;AADA;AAGA;AA7KA;AAiLA;AACA;AACA;AAEA;AArLA;AAuLA;AACA;AAEA;AAeA;AACA;AACA;AACA;AACA;AACA;AAKA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACtNA;AACA;AACA;AACA;AACA;AACA;AACA;;AARA;AAUA;;AATA;;;;;;;;;;;;;;;;;;ACAA;AAAA;;AACA;AAAA;;AACA;AAAA;;;AAFA;AAKA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AAEA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AC5BA;AAAA;;AAGA;AACA;;AANA;AAAA;;AAAA;AAAA;AAAA;;;;AACA;AAQA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AAxBA;AAAA;AA6BA;AA7BA;AA8BA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAtCA;AAAA;AA2CA;AACA;AACA;AAQA;AArDA;AAAA;AAAA;AAAA;AAuDA;AAIA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAEA;AAEA;AACA;AAnEA;;;;;;;;;;;;;;;;;;ACAA;;;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAeA;AACA;AAEA;AAAA;AAEA;AApBA;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AAnCA;AAoCA;AACA;AAAA;AAAA;AAAA;AACA;AAtCA;AA2CA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;;;;;;;;;AC1CA;AAAA;;AAAA;AAmEA;;;AAnEA;AAyEA;AACA;AACA;AACA;AACA;;AA7EA;AAAA;AA2FA;AACA;AACA;AACA;AACA;;AA/FA;AAAA;;AAAA;AA4GA;;AAEA;;AA9GA;AAgHA;;AAEA;;AAlHA;AAwHA;AACA;AACA;AACA;;;;;;;AA1HA;AACA;AACA;;AAKA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAbA;AAgBA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAvBA;AAyBA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AAEA;AAVA;AAcA;AAtCA;AAsCA;AAEA;AAAA;AADA;AAEA;AAIA;AAAA;AACA;AA9CA;AAgDA;AACA;AACA;AACA;AAJA;AA/CA;AAuDA;AAvDA;AAuDA;AAEA;AAAA;AADA;AAEA;AA1DA;AAgEA;AACA;AAEA;AACA;AAAA;AAYA;AACA;AACA;AACA;AAnFA;AAsFA;AACA;AACA;AACA;AAzFA;AAkGA;AACA;AACA;AACA;AArGA;AAwGA;AACA;AACA;AAEA;AACA;AAAA;AAIA;AAAA;;;;;;;;;;;;;;;;;;AC/GA;AAAA;AAFA;;AAAA;AAgBA;;AAEA;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;;AAWA;AAAA;;AA9BA;AA2CA;;;AAqBA;AAAA;;;;AA/DA;AAGA;AACA;AACA;AACA;AACA;AARA;AAWA;AACA;AAGA;AAfA;AAsBA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AA1BA;AAkCA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AASA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAIA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAUA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;;;;;;ACvEA;;AAQA;AACA;;AATA;;AACA;AACA;AACA;AAAA;AACA;AAJA;AAYA;AACA;AACA;AACA;AACA;AACA;AAjBA;;;;;;;;;;;;;;;;;ACAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AA2BA;AACA;;AA5BA;;;;AACA;AAEA;AACA;AAAA;AACA;AAGA;AARA;AASA;AACA;AAEA;AAZA;AAcA;AAEA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AArCA;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAaA;AACA;AACA;;;;;;;;;;;;;;;ACtBA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AyBAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACRA;AACA;AACA;AACA;AACA;;;;;ACJA;AACA;AACA;AACA;AACA;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACNA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AEvFA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://uvtsign/./app/javascript/application.js","webpack://uvtsign/./app/javascript/elements/autoresize_textarea.js","webpack://uvtsign/./app/javascript/elements/clipboard_copy.js","webpack://uvtsign/./app/javascript/elements/disable_hidden.js","webpack://uvtsign/./app/javascript/elements/download_button.js","webpack://uvtsign/./app/javascript/elements/dynamic_list.js","webpack://uvtsign/./app/javascript/elements/emails_textarea.js","webpack://uvtsign/./app/javascript/elements/file_dropzone.js","webpack://uvtsign/./app/javascript/elements/folder_autocomplete.js","webpack://uvtsign/./app/javascript/elements/menu_active.js","webpack://uvtsign/./app/javascript/elements/prompt_password.js","webpack://uvtsign/./app/javascript/elements/set_origin_url.js","webpack://uvtsign/./app/javascript/elements/set_timezone.js","webpack://uvtsign/./app/javascript/elements/signature_form.js","webpack://uvtsign/./app/javascript/elements/submit_form.js","webpack://uvtsign/./app/javascript/elements/submitter_autocomplete.js","webpack://uvtsign/./app/javascript/elements/toggle_cookies.js","webpack://uvtsign/./app/javascript/elements/toggle_on_submit.js","webpack://uvtsign/./app/javascript/elements/toggle_visible.js","webpack://uvtsign/./app/javascript/elements/turbo_modal.js","webpack://uvtsign/./app/javascript/lib/turbo_instant_click.js","webpack://uvtsign/./app/javascript/submission_form/crop_canvas.js","webpack://uvtsign/./app/javascript/template_builder/i18n.js","webpack://uvtsign/./app/javascript/template_builder/area.vue","webpack://uvtsign/./app/javascript/template_builder/builder.vue","webpack://uvtsign/./app/javascript/template_builder/conditions_modal.vue","webpack://uvtsign/./app/javascript/template_builder/contenteditable.vue","webpack://uvtsign/./app/javascript/template_builder/controls.vue","webpack://uvtsign/./app/javascript/template_builder/description_modal.vue","webpack://uvtsign/./app/javascript/template_builder/document.vue","webpack://uvtsign/./app/javascript/template_builder/dropzone.vue","webpack://uvtsign/./app/javascript/template_builder/field.vue","webpack://uvtsign/./app/javascript/template_builder/field_settings.vue","webpack://uvtsign/./app/javascript/template_builder/field_submitter.vue","webpack://uvtsign/./app/javascript/template_builder/field_type.vue","webpack://uvtsign/./app/javascript/template_builder/fields.vue","webpack://uvtsign/./app/javascript/template_builder/formula_modal.vue","webpack://uvtsign/./app/javascript/template_builder/icon_drag.vue","webpack://uvtsign/./app/javascript/template_builder/import_list.vue","webpack://uvtsign/./app/javascript/template_builder/logo.vue","webpack://uvtsign/./app/javascript/template_builder/mobile_draw_field.vue","webpack://uvtsign/./app/javascript/template_builder/mobile_fields.vue","webpack://uvtsign/./app/javascript/template_builder/page.vue","webpack://uvtsign/./app/javascript/template_builder/payment_settings.vue","webpack://uvtsign/./app/javascript/template_builder/preview.vue","webpack://uvtsign/./app/javascript/template_builder/replace.vue","webpack://uvtsign/./app/javascript/template_builder/upload.vue","webpack://uvtsign/./app/javascript/application.scss?8149","webpack://uvtsign/./app/javascript/template_builder/area.vue?d55d","webpack://uvtsign/./app/javascript/template_builder/builder.vue?9b53","webpack://uvtsign/./app/javascript/template_builder/conditions_modal.vue?4e5d","webpack://uvtsign/./app/javascript/template_builder/contenteditable.vue?6b06","webpack://uvtsign/./app/javascript/template_builder/controls.vue?fc65","webpack://uvtsign/./app/javascript/template_builder/description_modal.vue?ed0d","webpack://uvtsign/./app/javascript/template_builder/document.vue?57ce","webpack://uvtsign/./app/javascript/template_builder/dropzone.vue?96b1","webpack://uvtsign/./app/javascript/template_builder/field.vue?f61f","webpack://uvtsign/./app/javascript/template_builder/field_settings.vue?83ad","webpack://uvtsign/./app/javascript/template_builder/field_submitter.vue?56f9","webpack://uvtsign/./app/javascript/template_builder/field_type.vue?e2f2","webpack://uvtsign/./app/javascript/template_builder/fields.vue?3589","webpack://uvtsign/./app/javascript/template_builder/formula_modal.vue?a616","webpack://uvtsign/./app/javascript/template_builder/icon_drag.vue?ffa4","webpack://uvtsign/./app/javascript/template_builder/import_list.vue?74f3","webpack://uvtsign/./app/javascript/template_builder/logo.vue?b1f3","webpack://uvtsign/./app/javascript/template_builder/mobile_draw_field.vue?c42d","webpack://uvtsign/./app/javascript/template_builder/mobile_fields.vue?1326","webpack://uvtsign/./app/javascript/template_builder/page.vue?bb6c","webpack://uvtsign/./app/javascript/template_builder/payment_settings.vue?9e29","webpack://uvtsign/./app/javascript/template_builder/preview.vue?4d48","webpack://uvtsign/./app/javascript/template_builder/replace.vue?5372","webpack://uvtsign/./app/javascript/template_builder/upload.vue?75d8","webpack://uvtsign/./app/javascript/template_builder/area.vue?f94b","webpack://uvtsign/./app/javascript/template_builder/builder.vue?c037","webpack://uvtsign/./app/javascript/template_builder/conditions_modal.vue?0fac","webpack://uvtsign/./app/javascript/template_builder/contenteditable.vue?070f","webpack://uvtsign/./app/javascript/template_builder/controls.vue?76c5","webpack://uvtsign/./app/javascript/template_builder/description_modal.vue?3070","webpack://uvtsign/./app/javascript/template_builder/document.vue?1618","webpack://uvtsign/./app/javascript/template_builder/dropzone.vue?f094","webpack://uvtsign/./app/javascript/template_builder/field.vue?21ef","webpack://uvtsign/./app/javascript/template_builder/field_settings.vue?818a","webpack://uvtsign/./app/javascript/template_builder/field_submitter.vue?bc04","webpack://uvtsign/./app/javascript/template_builder/field_type.vue?b5c0","webpack://uvtsign/./app/javascript/template_builder/fields.vue?a2f8","webpack://uvtsign/./app/javascript/template_builder/formula_modal.vue?6063","webpack://uvtsign/./app/javascript/template_builder/icon_drag.vue?7230","webpack://uvtsign/./app/javascript/template_builder/import_list.vue?1988","webpack://uvtsign/./app/javascript/template_builder/logo.vue?9513","webpack://uvtsign/./app/javascript/template_builder/mobile_draw_field.vue?c893","webpack://uvtsign/./app/javascript/template_builder/mobile_fields.vue?7e64","webpack://uvtsign/./app/javascript/template_builder/page.vue?8f1d","webpack://uvtsign/./app/javascript/template_builder/payment_settings.vue?6e87","webpack://uvtsign/./app/javascript/template_builder/preview.vue?53c1","webpack://uvtsign/./app/javascript/template_builder/replace.vue?81ef","webpack://uvtsign/./app/javascript/template_builder/upload.vue?e589","webpack://uvtsign/./app/javascript/template_builder/area.vue?4cf1","webpack://uvtsign/./app/javascript/template_builder/builder.vue?8fdc","webpack://uvtsign/./app/javascript/template_builder/conditions_modal.vue?c797","webpack://uvtsign/./app/javascript/template_builder/contenteditable.vue?3641","webpack://uvtsign/./app/javascript/template_builder/controls.vue?c708","webpack://uvtsign/./app/javascript/template_builder/description_modal.vue?8794","webpack://uvtsign/./app/javascript/template_builder/document.vue?f509","webpack://uvtsign/./app/javascript/template_builder/dropzone.vue?399b","webpack://uvtsign/./app/javascript/template_builder/field.vue?4944","webpack://uvtsign/./app/javascript/template_builder/field_settings.vue?9e3f","webpack://uvtsign/./app/javascript/template_builder/field_submitter.vue?5a1b","webpack://uvtsign/./app/javascript/template_builder/field_type.vue?2d73","webpack://uvtsign/./app/javascript/template_builder/fields.vue?fd6e","webpack://uvtsign/./app/javascript/template_builder/formula_modal.vue?f809","webpack://uvtsign/./app/javascript/template_builder/icon_drag.vue?ace6","webpack://uvtsign/./app/javascript/template_builder/import_list.vue?2cc3","webpack://uvtsign/./app/javascript/template_builder/logo.vue?9a2d","webpack://uvtsign/./app/javascript/template_builder/mobile_draw_field.vue?3ef5","webpack://uvtsign/./app/javascript/template_builder/mobile_fields.vue?f44f","webpack://uvtsign/./app/javascript/template_builder/page.vue?f6df","webpack://uvtsign/./app/javascript/template_builder/payment_settings.vue?707d","webpack://uvtsign/./app/javascript/template_builder/preview.vue?7848","webpack://uvtsign/./app/javascript/template_builder/replace.vue?bb3f","webpack://uvtsign/./app/javascript/template_builder/upload.vue?0616","webpack://uvtsign/webpack/bootstrap","webpack://uvtsign/webpack/runtime/chunk loaded","webpack://uvtsign/webpack/runtime/define property getters","webpack://uvtsign/webpack/runtime/ensure chunk","webpack://uvtsign/webpack/runtime/get javascript chunk filename","webpack://uvtsign/webpack/runtime/get mini-css chunk filename","webpack://uvtsign/webpack/runtime/global","webpack://uvtsign/webpack/runtime/hasOwnProperty shorthand","webpack://uvtsign/webpack/runtime/load script","webpack://uvtsign/webpack/runtime/make namespace object","webpack://uvtsign/webpack/runtime/publicPath","webpack://uvtsign/webpack/runtime/jsonp chunk loading","webpack://uvtsign/webpack/before-startup","webpack://uvtsign/webpack/startup","webpack://uvtsign/webpack/after-startup"],"sourcesContent":["import '@hotwired/turbo'\nimport { encodeMethodIntoRequestBody } from '@hotwired/turbo-rails/app/javascript/turbo/fetch_requests'\n\nimport { createApp, reactive } from 'vue'\nimport TemplateBuilder from './template_builder/builder'\nimport ImportList from './template_builder/import_list'\n\nimport ToggleVisible from './elements/toggle_visible'\nimport ToggleCookies from './elements/toggle_cookies'\nimport DisableHidden from './elements/disable_hidden'\nimport TurboModal from './elements/turbo_modal'\nimport FileDropzone from './elements/file_dropzone'\nimport MenuActive from './elements/menu_active'\nimport ClipboardCopy from './elements/clipboard_copy'\nimport DynamicList from './elements/dynamic_list'\nimport DownloadButton from './elements/download_button'\nimport SetOriginUrl from './elements/set_origin_url'\nimport SetTimezone from './elements/set_timezone'\nimport AutoresizeTextarea from './elements/autoresize_textarea'\nimport SubmittersAutocomplete from './elements/submitter_autocomplete'\nimport FolderAutocomplete from './elements/folder_autocomplete'\nimport SignatureForm from './elements/signature_form'\nimport SubmitForm from './elements/submit_form'\nimport PromptPassword from './elements/prompt_password'\nimport EmailsTextarea from './elements/emails_textarea'\nimport ToggleOnSubmit from './elements/toggle_on_submit'\n\nimport * as TurboInstantClick from './lib/turbo_instant_click'\n\nimport './images/preview.png'\n\nTurboInstantClick.start()\n\ndocument.addEventListener('turbo:before-cache', () => {\n  window.flash?.remove()\n})\n\ndocument.addEventListener('keyup', (e) => {\n  if (e.code === 'Escape') {\n    document.activeElement?.blur()\n  }\n})\n\ndocument.addEventListener('turbo:before-fetch-request', encodeMethodIntoRequestBody)\ndocument.addEventListener('turbo:submit-end', async (event) => {\n  const resp = event.detail?.formSubmission?.result?.fetchResponse?.response\n\n  if (!resp?.headers?.get('content-disposition')?.includes('attachment')) {\n    return\n  }\n\n  const url = URL.createObjectURL(await resp.blob())\n  const link = document.createElement('a')\n\n  link.href = url\n  link.setAttribute('download', decodeURIComponent(resp.headers.get('content-disposition').split('\"')[1]))\n\n  document.body.appendChild(link)\n\n  link.click()\n\n  document.body.removeChild(link)\n\n  URL.revokeObjectURL(url)\n})\n\nconst safeRegisterElement = (name, element, options = {}) => !window.customElements.get(name) && window.customElements.define(name, element, options)\n\nsafeRegisterElement('toggle-visible', ToggleVisible)\nsafeRegisterElement('disable-hidden', DisableHidden)\nsafeRegisterElement('turbo-modal', TurboModal)\nsafeRegisterElement('file-dropzone', FileDropzone)\nsafeRegisterElement('menu-active', MenuActive)\nsafeRegisterElement('clipboard-copy', ClipboardCopy)\nsafeRegisterElement('dynamic-list', DynamicList)\nsafeRegisterElement('download-button', DownloadButton)\nsafeRegisterElement('set-origin-url', SetOriginUrl)\nsafeRegisterElement('set-timezone', SetTimezone)\nsafeRegisterElement('autoresize-textarea', AutoresizeTextarea)\nsafeRegisterElement('submitters-autocomplete', SubmittersAutocomplete)\nsafeRegisterElement('folder-autocomplete', FolderAutocomplete)\nsafeRegisterElement('signature-form', SignatureForm)\nsafeRegisterElement('submit-form', SubmitForm)\nsafeRegisterElement('prompt-password', PromptPassword)\nsafeRegisterElement('emails-textarea', EmailsTextarea)\nsafeRegisterElement('toggle-cookies', ToggleCookies)\nsafeRegisterElement('toggle-on-submit', ToggleOnSubmit)\n\nsafeRegisterElement('template-builder', class extends HTMLElement {\n  connectedCallback () {\n    this.appElem = document.createElement('div')\n\n    this.appElem.classList.add('md:h-screen')\n\n    this.app = createApp(TemplateBuilder, {\n      template: reactive(JSON.parse(this.dataset.template)),\n      backgroundColor: '#faf7f5',\n      withPhone: this.dataset.withPhone === 'true',\n      withLogo: this.dataset.withLogo !== 'false',\n      editable: this.dataset.editable !== 'false',\n      authenticityToken: document.querySelector('meta[name=\"csrf-token\"]')?.content,\n      withPayment: this.dataset.withPayment === 'true',\n      isPaymentConnected: this.dataset.isPaymentConnected === 'true',\n      withFormula: this.dataset.withFormula === 'true',\n      withConditions: this.dataset.withConditions === 'true',\n      currencies: (this.dataset.currencies || '').split(',').filter(Boolean),\n      acceptFileTypes: this.dataset.acceptFileTypes\n    })\n\n    this.app.mount(this.appElem)\n\n    this.appendChild(this.appElem)\n  }\n\n  disconnectedCallback () {\n    this.app?.unmount()\n    this.appElem?.remove()\n  }\n})\n\nsafeRegisterElement('import-list', class extends HTMLElement {\n  connectedCallback () {\n    this.appElem = document.createElement('div')\n\n    this.app = createApp(ImportList, {\n      template: JSON.parse(this.dataset.template),\n      authenticityToken: document.querySelector('meta[name=\"csrf-token\"]')?.content\n    })\n\n    this.app.mount(this.appElem)\n\n    this.appendChild(this.appElem)\n  }\n\n  disconnectedCallback () {\n    this.app?.unmount()\n    this.appElem?.remove()\n  }\n})\n","export default class extends HTMLElement {\n  connectedCallback () {\n    this.resize()\n\n    this.textarea.addEventListener('input', () => this.resize())\n  }\n\n  resize () {\n    if (this.textarea.clientHeight < this.textarea.scrollHeight) {\n      this.textarea.style.height = `${this.textarea.scrollHeight + 5}px`\n    }\n  }\n\n  get textarea () {\n    return this.querySelector('textarea')\n  }\n}\n","export default class extends HTMLElement {\n  connectedCallback () {\n    this.clearChecked()\n\n    this.addEventListener('click', (e) => {\n      e.stopPropagation()\n\n      const text = this.dataset.text || this.innerText.trim()\n\n      if (navigator.clipboard) {\n        navigator.clipboard.writeText(text)\n      } else {\n        if (e.target.tagName !== 'INPUT') {\n          alert(`Clipboard not available. Make sure you're using https://\\nCopy text: ${text}`)\n        }\n      }\n    })\n  }\n\n  clearChecked () {\n    this.querySelectorAll('input').forEach((e) => {\n      e.checked = false\n    })\n  }\n}\n","export default class extends HTMLElement {\n  static observedAttributes = ['class']\n\n  connectedCallback () {\n    this.trigger()\n  }\n\n  attributeChangedCallback (attributeName, oldValue, newValue) {\n    if (attributeName === 'class' && oldValue !== newValue) {\n      this.trigger()\n    }\n  }\n\n  trigger () {\n    const hasHiddenClass = this.classList.contains('hidden')\n    const elements = this.querySelectorAll('input, textarea, select')\n\n    elements.forEach((element) => {\n      if (hasHiddenClass) {\n        element.disabled = true\n\n        if (!element.dataset.wasRequired) {\n          element.dataset.wasRequired = element.required\n        }\n\n        element.required = false\n      } else {\n        element.disabled = false\n\n        if (element.dataset.wasRequired) {\n          element.required = element.dataset.wasRequired === 'true'\n\n          delete element.dataset.wasRequired\n        }\n      }\n    })\n  }\n}\n","import { target, targetable } from '@github/catalyst/lib/targetable'\n\nexport default targetable(class extends HTMLElement {\n  static [target.static] = ['defaultButton', 'loadingButton']\n\n  connectedCallback () {\n    this.addEventListener('click', () => this.downloadFiles())\n  }\n\n  toggleState () {\n    this.defaultButton?.classList?.toggle('hidden')\n    this.loadingButton?.classList?.toggle('hidden')\n  }\n\n  downloadFiles () {\n    if (!this.dataset.src) return\n\n    this.toggleState()\n\n    fetch(this.dataset.src).then(async (response) => {\n      if (response.ok) {\n        const urls = await response.json()\n        const isSafariIos = /iPhone|iPad|iPod/i.test(navigator.userAgent)\n\n        if (isSafariIos && urls.length > 1) {\n          this.downloadSafariIos(urls)\n        } else {\n          this.downloadUrls(urls)\n        }\n      } else {\n        alert('Failed to download files')\n      }\n    })\n  }\n\n  downloadUrls (urls) {\n    const fileRequests = urls.map((url) => {\n      return () => {\n        return fetch(url).then(async (resp) => {\n          const blobUrl = URL.createObjectURL(await resp.blob())\n          const link = document.createElement('a')\n\n          link.href = blobUrl\n          link.setAttribute('download', decodeURI(url.split('/').pop()))\n\n          link.click()\n\n          URL.revokeObjectURL(blobUrl)\n        })\n      }\n    })\n\n    fileRequests.reduce(\n      (prevPromise, request) => prevPromise.then(() => request()),\n      Promise.resolve()\n    ).finally(() => {\n      this.toggleState()\n    })\n  }\n\n  downloadSafariIos (urls) {\n    const fileRequests = urls.map((url) => {\n      return fetch(url).then(async (resp) => {\n        const blob = await resp.blob()\n        const blobUrl = URL.createObjectURL(blob.slice(0, blob.size, 'application/octet-stream'))\n        const link = document.createElement('a')\n\n        link.href = blobUrl\n        link.setAttribute('download', decodeURI(url.split('/').pop()))\n\n        return link\n      })\n    })\n\n    Promise.all(fileRequests).then((links) => {\n      links.forEach((link, index) => {\n        setTimeout(() => {\n          link.click()\n\n          URL.revokeObjectURL(link.href)\n        }, index * 50)\n      })\n    }).finally(() => {\n      this.toggleState()\n    })\n  }\n})\n","import { actionable } from '@github/catalyst/lib/actionable'\nimport { targets, targetable } from '@github/catalyst/lib/targetable'\n\nexport default actionable(targetable(class extends HTMLElement {\n  static [targets.static] = ['items']\n\n  addItem (e) {\n    e.preventDefault()\n\n    const originalItem = this.items[0]\n    const duplicateItem = originalItem.cloneNode(true)\n    const uniqueId = Math.floor(Math.random() * 10 ** 16)\n\n    duplicateItem.querySelectorAll(\"select, textarea, input:not([type='hidden'])\").forEach((input) => {\n      input.value = ''\n      input.checked = false\n      input.removeAttribute('selected')\n    })\n\n    duplicateItem.querySelectorAll('select, textarea, input').forEach((input) => {\n      input.name = input.name.replace('[1]', `[${uniqueId}]`)\n    })\n\n    duplicateItem.querySelectorAll('a.hidden').forEach((button) => button.classList.toggle('hidden'))\n\n    originalItem.parentNode.append(duplicateItem)\n  }\n\n  removeItem (e) {\n    e.preventDefault()\n\n    this.items.find((item) => item.contains(e.target))?.remove()\n  }\n}))\n","const emailRegexp = /([^@;,<>\\s]+@[^@;,<>\\s]+)/g\n\nexport default class extends HTMLElement {\n  connectedCallback () {\n    if (this.dataset.limit) {\n      this.textarea.addEventListener('input', () => {\n        const emails = this.textarea.value.match(emailRegexp) || []\n\n        this.updateCounter(emails.length)\n      })\n    }\n  }\n\n  updateCounter (count) {\n    let counter = document.getElementById('emails_counter')\n    let bulkMessage = document.getElementById('bulk_message')\n\n    if (count < 2) {\n      counter?.remove()\n\n      return\n    }\n\n    if ((count + 10) > this.dataset.limit) {\n      if (!counter) {\n        counter = document.createElement('span')\n\n        counter.id = 'emails_counter'\n        counter.classList.add('text-xs', 'right-0', 'absolute')\n        counter.style.bottom = '-15px'\n\n        this.textarea.parentNode.append(counter)\n      }\n\n      counter.innerText = `${count} / ${this.dataset.limit}`\n    }\n\n    if (this.dataset.bulkEnabled !== 'true') {\n      if (!bulkMessage) {\n        bulkMessage = document.createElement('span')\n\n        bulkMessage.id = 'bulk_message'\n        bulkMessage.classList.add('text-xs', 'left-0', 'absolute')\n        bulkMessage.style.bottom = '-15px'\n\n        this.textarea.parentNode.append(bulkMessage)\n      }\n\n      bulkMessage.innerHTML = '<a class=\"link\" data-turbo=\"false\" href=\"/upgrade\">Upgrade</a> to bulk send multiple recipients'\n    }\n  }\n\n  get textarea () {\n    return this.querySelector('textarea')\n  }\n}\n","import { actionable } from '@github/catalyst/lib/actionable'\nimport { target, targetable } from '@github/catalyst/lib/targetable'\n\nexport default actionable(targetable(class extends HTMLElement {\n  static [target.static] = [\n    'loading',\n    'icon',\n    'input'\n  ]\n\n  connectedCallback () {\n    this.addEventListener('drop', this.onDrop)\n\n    this.addEventListener('dragover', (e) => e.preventDefault())\n\n    document.addEventListener('turbo:submit-end', this.toggleLoading)\n  }\n\n  disconnectedCallback () {\n    document.removeEventListener('turbo:submit-end', this.toggleLoading)\n  }\n\n  onDrop (e) {\n    e.preventDefault()\n\n    this.input.files = e.dataTransfer.files\n\n    this.uploadFiles(e.dataTransfer.files)\n  }\n\n  onSelectFiles (e) {\n    e.preventDefault()\n\n    this.uploadFiles(this.input.files)\n  }\n\n  toggleLoading = (e) => {\n    if (e && e.target && !e.target.contains(this)) {\n      return\n    }\n\n    this.loading.classList.toggle('hidden')\n    this.icon.classList.toggle('hidden')\n    this.classList.toggle('opacity-50')\n  }\n\n  uploadFiles () {\n    this.toggleLoading()\n\n    if (this.dataset.submitOnUpload) {\n      this.closest('form').querySelector('button[type=\"submit\"]').click()\n    }\n  }\n}))\n","import autocomplete from 'autocompleter'\n\nexport default class extends HTMLElement {\n  connectedCallback () {\n    autocomplete({\n      input: this.input,\n      preventSubmit: this.dataset.submitOnSelect === 'true' ? 0 : 1,\n      minLength: 0,\n      showOnFocus: true,\n      onSelect: this.onSelect,\n      render: this.render,\n      fetch: this.fetch\n    })\n  }\n\n  onSelect = (item) => {\n    this.input.value = item.name\n  }\n\n  fetch = (text, resolve) => {\n    const queryParams = new URLSearchParams({ q: text })\n\n    fetch('/template_folders_autocomplete?' + queryParams).then(async (resp) => {\n      const items = await resp.json()\n\n      resolve(items)\n    }).catch(() => {\n      resolve([])\n    })\n  }\n\n  render = (item) => {\n    const div = document.createElement('div')\n\n    div.setAttribute('dir', 'auto')\n\n    div.textContent = item.name\n\n    return div\n  }\n\n  get input () {\n    return this.querySelector('input')\n  }\n}\n","export default class extends HTMLElement {\n  connectedCallback () {\n    this.querySelectorAll('a').forEach((link) => {\n      if (document.location.pathname.startsWith(link.pathname) && !link.getAttribute('href').startsWith('http')) {\n        link.classList.add('bg-base-300')\n      }\n    })\n  }\n}\n","export default class extends HTMLElement {\n  connectedCallback () {\n    const input = document.createElement('input')\n\n    input.type = 'hidden'\n    input.name = 'password'\n    input.value = prompt('Enter PDF password')\n\n    this.form.append(input)\n\n    this.form.requestSubmit()\n\n    this.remove()\n  }\n\n  get form () {\n    return this.closest('form')\n  }\n}\n","export default class extends HTMLElement {\n  connectedCallback () {\n    if (this.dataset.inputId) {\n      document.getElementById(this.dataset.inputId).value = document.location.origin\n    }\n  }\n}\n","export default class extends HTMLElement {\n  connectedCallback () {\n    if (this.dataset.inputId) {\n      const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone\n\n      if (this.dataset.params === 'true') {\n        const params = new URLSearchParams(this.input.value)\n\n        params.set('timezone', timezone)\n\n        this.input.value = params.toString()\n      } else {\n        this.input.value = timezone\n      }\n    }\n  }\n\n  get input () {\n    return document.getElementById(this.dataset.inputId)\n  }\n}\n","import { target, targetable } from '@github/catalyst/lib/targetable'\nimport { cropCanvasAndExportToPNG } from '../submission_form/crop_canvas'\n\nexport default targetable(class extends HTMLElement {\n  static [target.static] = ['canvas', 'input', 'clear', 'button']\n\n  async connectedCallback () {\n    this.canvas.width = this.canvas.parentNode.parentNode.clientWidth\n    this.canvas.height = this.canvas.parentNode.parentNode.clientWidth / 3\n\n    const { default: SignaturePad } = await import('signature_pad')\n\n    this.pad = new SignaturePad(this.canvas)\n\n    this.clear.addEventListener('click', (e) => {\n      e.preventDefault()\n\n      this.pad.clear()\n    })\n\n    this.button.addEventListener('click', (e) => {\n      e.preventDefault()\n\n      this.button.disabled = true\n\n      this.submit()\n    })\n  }\n\n  async submit () {\n    const blob = await cropCanvasAndExportToPNG(this.canvas)\n    const file = new File([blob], 'signature.png', { type: 'image/png' })\n\n    const dataTransfer = new DataTransfer()\n\n    dataTransfer.items.add(file)\n\n    this.input.files = dataTransfer.files\n\n    if (this.input.webkitEntries.length) {\n      this.input.dataset.file = `${dataTransfer.files[0].name}`\n    }\n\n    this.closest('form').requestSubmit()\n  }\n})\n","export default class extends HTMLElement {\n  connectedCallback () {\n    this.querySelector('form').requestSubmit()\n  }\n}\n","import autocomplete from 'autocompleter'\n\nexport default class extends HTMLElement {\n  connectedCallback () {\n    autocomplete({\n      input: this.input,\n      preventSubmit: 1,\n      minLength: 1,\n      showOnFocus: true,\n      debounceWaitMs: 200,\n      onSelect: this.onSelect,\n      render: this.render,\n      fetch: this.fetch\n    })\n  }\n\n  onSelect = (item) => {\n    const fields = ['email', 'name', 'phone']\n    const submitterItemEl = this.closest('submitter-item')\n\n    fields.forEach((field) => {\n      const input = submitterItemEl.querySelector(`submitters-autocomplete[data-field=\"${field}\"] input`)\n      const textarea = submitterItemEl.querySelector(`submitters-autocomplete[data-field=\"${field}\"] textarea`)\n\n      if (input && item[field]) {\n        input.value = item[field]\n      }\n\n      if (textarea && item[field]) {\n        textarea.value = textarea.value.replace(/[^;,\\s]+$/, item[field] + ' ')\n\n        textarea.dispatchEvent(new Event('input', { bubbles: true }))\n      }\n    })\n  }\n\n  fetch = (text, resolve) => {\n    const q = text.split(/[;,\\s]+/).pop().trim()\n\n    if (q) {\n      const queryParams = new URLSearchParams({ q, field: this.dataset.field })\n\n      this.currentFetch ||= fetch('/submitters_autocomplete?' + queryParams)\n\n      this.currentFetch.then(async (resp) => {\n        const items = await resp.json()\n\n        resolve(items)\n      }).catch(() => {\n        resolve([])\n      }).finally(() => {\n        this.currentFetch = null\n      })\n    } else {\n      resolve([])\n    }\n  }\n\n  render = (item) => {\n    const div = document.createElement('div')\n\n    div.setAttribute('dir', 'auto')\n\n    div.textContent = item[this.dataset.field]\n\n    return div\n  }\n\n  get input () {\n    return this.querySelector('input') || this.querySelector('textarea')\n  }\n}\n","export default class extends HTMLElement {\n  connectedCallback () {\n    this.button.addEventListener('click', () => {\n      const expirationDate = new Date()\n\n      expirationDate.setFullYear(expirationDate.getFullYear() + 10)\n\n      const expires = expirationDate.toUTCString()\n\n      document.cookie = this.dataset.key + '=' + this.dataset.value + '; expires=' + expires + '; path=/'\n    })\n  }\n\n  get button () {\n    return this.querySelector('button')\n  }\n}\n","export default class extends HTMLElement {\n  connectedCallback () {\n    document.addEventListener('turbo:submit-end', this.onSubmitEnd)\n\n    this.form.addEventListener('submit', this.onSubmit)\n  }\n\n  disconnectedCallback () {\n    document.removeEventListener('turbo:submit-end', this.onSubmitEnd)\n\n    this.form.removeEventListener('submit', this.onSubmit)\n  }\n\n  onSubmit = () => {\n    this.element.classList.add('invisible')\n  }\n\n  onSubmitEnd = (event) => {\n    if (event.target === this.form) {\n      const resp = event.detail?.formSubmission?.result?.fetchResponse?.response\n\n      if (resp?.status / 100 === 2) {\n        this.element.classList.remove('invisible')\n      }\n    }\n  }\n\n  get element () {\n    return document.getElementById(this.dataset.elementId)\n  }\n\n  get form () {\n    return this.closest('form')\n  }\n}\n","import { actionable } from '@github/catalyst/lib/actionable'\n\nexport default actionable(class extends HTMLElement {\n  trigger (event) {\n    const elementIds = JSON.parse(this.dataset.elementIds)\n\n    elementIds.forEach((elementId) => {\n      document.getElementById(elementId).classList.toggle('hidden', event.target.value !== elementId)\n    })\n  }\n})\n","import { actionable } from '@github/catalyst/lib/actionable'\n\nexport default actionable(class extends HTMLElement {\n  connectedCallback () {\n    document.body.classList.add('overflow-hidden')\n\n    document.addEventListener('keyup', this.onEscKey)\n\n    document.addEventListener('turbo:before-cache', this.close)\n\n    if (this.dataset.closeAfterSubmit !== 'false') {\n      document.addEventListener('turbo:submit-end', this.onSubmit)\n    }\n  }\n\n  disconnectedCallback () {\n    document.body.classList.remove('overflow-hidden')\n\n    document.removeEventListener('keyup', this.onEscKey)\n    document.removeEventListener('turbo:submit-end', this.onSubmit)\n    document.removeEventListener('turbo:before-cache', this.close)\n  }\n\n  onSubmit = (e) => {\n    if (e.detail.success) {\n      this.close()\n    }\n  }\n\n  onEscKey = (e) => {\n    if (e.code === 'Escape') {\n      this.close()\n    }\n  }\n\n  close = (e) => {\n    e?.preventDefault()\n\n    this.remove()\n  }\n})\n","const requestCache = new Map()\nconst cacheTtl = 10 * 1000\n\nfunction isPreloadable (linkElement) {\n  const href = linkElement.getAttribute('href')\n\n  if (!href || href === '#' || linkElement.dataset.turbo === 'false' || linkElement.dataset.prefetch === 'false') {\n    return\n  }\n\n  if (linkElement.origin !== document.location.origin) {\n    return\n  }\n\n  if (!['http:', 'https:'].includes(linkElement.protocol)) {\n    return\n  }\n\n  if (linkElement.pathname + linkElement.search === document.location.pathname + document.location.search) {\n    return\n  }\n\n  if (linkElement.dataset.turboMethod && linkElement.dataset.turboMethod !== 'get') {\n    return\n  }\n\n  return true\n}\n\nfunction mouseoverListener (event) {\n  let linkElement\n\n  if (event.target.tagName === 'A') {\n    linkElement = event.target\n  } else {\n    linkElement = event.target.closest('a')\n  }\n\n  if (!linkElement) {\n    return\n  }\n\n  if (!isPreloadable(linkElement)) {\n    return\n  }\n\n  const url = linkElement.getAttribute('href')\n  const loc = new URL(url, location.protocol + '//' + location.host)\n  const absoluteUrl = loc.toString()\n\n  const cached = requestCache.get(absoluteUrl)\n\n  if (cached && cached.ttl > new Date()) {\n    return\n  }\n\n  const requestOptions = {\n    credentials: 'same-origin',\n    headers: { Accept: 'text/html, application/xhtml+xml', 'VND.PREFETCH': 'true' },\n    method: 'GET',\n    redirect: 'follow'\n  }\n\n  if (linkElement.dataset.turboFrame && linkElement.dataset.turboFrame !== '_top') {\n    requestOptions.headers['Turbo-Frame'] = linkElement.dataset.turboFrame\n  } else if (linkElement.dataset.turboFrame !== '_top') {\n    const turboFrame = linkElement.closest('turbo-frame')\n\n    if (turboFrame) {\n      requestOptions.headers['Turbo-Frame'] = turboFrame.id\n    }\n  }\n\n  requestCache.set(absoluteUrl, { request: fetch(absoluteUrl, requestOptions), ttl: new Date(new Date().getTime() + cacheTtl) })\n}\n\nfunction turboBeforeFetchRequest (event) {\n  if (event.target.tagName !== 'FORM' && event.detail.fetchOptions.method === 'GET') {\n    const cached = requestCache.get(event.detail.url.toString())\n\n    if (cached && cached.ttl > new Date()) {\n      event.detail.response = cached.request\n    }\n  }\n\n  requestCache.clear()\n}\n\nfunction start () {\n  if (!window.turboInstantClickEnabled) {\n    document.addEventListener('turbo:before-fetch-request', turboBeforeFetchRequest)\n    document.addEventListener('mouseover', mouseoverListener, { capture: true, passive: true })\n  }\n\n  window.turboInstantClickEnabled = true\n}\n\nexport { start }\n","function cropCanvasAndExportToPNG (canvas, { errorOnTooSmall } = { errorOnTooSmall: false }) {\n  const ctx = canvas.getContext('2d')\n\n  const width = canvas.width\n  const height = canvas.height\n\n  let topmost = height\n  let bottommost = 0\n  let leftmost = width\n  let rightmost = 0\n\n  const imageData = ctx.getImageData(0, 0, width, height)\n  const pixels = imageData.data\n\n  for (let y = 0; y < height; y++) {\n    for (let x = 0; x < width; x++) {\n      const pixelIndex = (y * width + x) * 4\n      const alpha = pixels[pixelIndex + 3]\n      if (alpha !== 0) {\n        topmost = Math.min(topmost, y)\n        bottommost = Math.max(bottommost, y)\n        leftmost = Math.min(leftmost, x)\n        rightmost = Math.max(rightmost, x)\n      }\n    }\n  }\n\n  const croppedWidth = rightmost - leftmost + 1\n  const croppedHeight = bottommost - topmost + 1\n\n  const croppedCanvas = document.createElement('canvas')\n  croppedCanvas.width = croppedWidth\n  croppedCanvas.height = croppedHeight\n  const croppedCtx = croppedCanvas.getContext('2d')\n\n  if (errorOnTooSmall && (croppedWidth < 20 || croppedHeight < 20)) {\n    return Promise.reject(new Error('Image too small'))\n  }\n\n  croppedCtx.drawImage(canvas, leftmost, topmost, croppedWidth, croppedHeight, 0, 0, croppedWidth, croppedHeight)\n\n  return new Promise((resolve, reject) => {\n    croppedCanvas.toBlob((blob) => {\n      if (blob) {\n        resolve(blob)\n      } else {\n        reject(new Error('Failed to create a PNG blob.'))\n      }\n    }, 'image/png')\n  })\n}\n\nexport { cropCanvasAndExportToPNG }\n","const en = {\n  search_field: 'Search field',\n  field_not_found: 'Field not found',\n  clear: 'Clear',\n  align: 'Align',\n  add_all_required_fields_to_continue: 'Add all required fields to continue',\n  left: 'Left',\n  right: 'Right',\n  center: 'Center',\n  description: 'Description',\n  display_title: 'Display title',\n  with_logo: 'With logo',\n  unchecked: 'Unchecked',\n  equal: 'Equal',\n  not_equal: 'Not equal',\n  contains: 'Contains',\n  does_not_contain: 'Does not contain',\n  not_empty: 'Not empty',\n  empty: 'Empty',\n  select_field_: 'Select field...',\n  select_value_: 'Select value...',\n  remove_condition: 'Remove condition',\n  are_you_sure: 'Are you sure?',\n  sign_yourself: 'Sign Yourself',\n  set_signing_date: 'Set signing date',\n  send: 'Send',\n  remove: 'Remove',\n  edit: 'Edit',\n  settings: 'Settings',\n  up: 'Up',\n  down: 'Down',\n  checked: 'Checked',\n  save: 'Save',\n  cancel: 'Cancel',\n  any: 'Any',\n  drawn: 'Drawn',\n  formula: 'Formula',\n  typed: 'Typed',\n  draw_field_on_the_document: 'Draw {field} field on the document',\n  click_to_upload: 'Click to upload',\n  or_drag_and_drop_files: 'or drag and drop files',\n  uploading: 'Uploading',\n  processing_: 'Processing...',\n  add_pdf_documents_or_images: 'Add PDF documents or images',\n  add_documents_or_images: 'Add documents or images',\n  required: 'Required',\n  default_value: 'Default value',\n  format: 'Format',\n  read_only: 'Read-only',\n  page: 'Page',\n  draw_new_area: 'Draw New Area',\n  copy_to_all_pages: 'Copy to All Pages',\n  add_option: 'Add option',\n  option: 'Option',\n  condition: 'Condition',\n  first_party: 'First Party',\n  second_party: 'Second Party',\n  third_party: 'Third Party',\n  fourth_party: 'Fourth Party',\n  fifth_party: 'Fifth Party',\n  sixth_party: 'Sixth Party',\n  seventh_party: 'Seventh Party',\n  eighth_party: 'Eighth Party',\n  ninth_party: 'Ninth Party',\n  tenth_party: 'Tenth Party',\n  eleventh_party: 'Eleventh Party',\n  twelfth_party: 'Twelfth Party',\n  thirteenth_party: 'Thirteenth Party',\n  fourteenth_party: 'Fourteenth Party',\n  fifteenth_party: 'Fifteenth Party',\n  sixteenth_party: 'Sixteenth Party',\n  seventeenth_party: 'Seventeenth Party',\n  eighteenth_party: 'Eighteenth Party',\n  nineteenth_party: 'Nineteenth Party',\n  twentieth_party: 'Twentieth Party',\n  draw: 'Draw',\n  add: 'Add',\n  or_add_field_without_drawing: 'Or add field without drawing',\n  text: 'Text',\n  number: 'Number',\n  signature: 'Signature',\n  initials: 'Initials',\n  date: 'Date',\n  image: 'Image',\n  file: 'File',\n  select: 'Select',\n  checkbox: 'Checkbox',\n  multiple: 'Multiple',\n  radio: 'Radio',\n  cells: 'Cells',\n  stamp: 'Stamp',\n  payment: 'Payment',\n  phone: 'Phone',\n  field: 'Field',\n  group: 'Group',\n  draw_a_text_field_on_the_page_with_a_mouse: 'Draw a text field on the page with a mouse',\n  draw_field: 'Draw {field} Field',\n  replace: 'Replace',\n  uploading_: 'Uploading...',\n  add_document: 'Add Document'\n}\n\nexport { en }\n","<template>\n  <div\n    class=\"absolute overflow-visible group\"\n    :style=\"positionStyle\"\n    @pointerdown.stop\n    @mousedown.stop=\"startDrag\"\n    @touchstart=\"startTouchDrag\"\n  >\n    <div\n      v-if=\"isSelected || isDraw\"\n      class=\"top-0 bottom-0 right-0 left-0 absolute border border-1.5 pointer-events-none\"\n      :class=\"borderColors[submitterIndex]\"\n    />\n    <div\n      v-if=\"field.type === 'cells' && (isSelected || isDraw)\"\n      class=\"top-0 bottom-0 right-0 left-0 absolute\"\n    >\n      <div\n        v-for=\"(cellW, index) in cells\"\n        :key=\"index\"\n        class=\"absolute top-0 bottom-0 border-r\"\n        :class=\"borderColors[submitterIndex]\"\n        :style=\"{ left: (cellW / area.w) * 100 + '%' }\"\n      >\n        <span\n          v-if=\"index === 0 && editable\"\n          class=\"h-2.5 w-2.5 rounded-full -bottom-1 border-gray-400 bg-white shadow-md border absolute cursor-ew-resize z-10\"\n          style=\"left: -4px\"\n          @mousedown.stop=\"startResizeCell\"\n        />\n      </div>\n    </div>\n    <div\n      v-if=\"field?.type\"\n      class=\"absolute bg-white rounded-t border overflow-visible whitespace-nowrap group-hover:flex group-hover:z-10\"\n      :class=\"{\n        'flex z-10': isNameFocus || isSelected,\n        invisible: !isNameFocus && !isSelected,\n      }\"\n      style=\"top: -25px; height: 25px\"\n      @mousedown.stop\n      @pointerdown.stop\n    >\n      <FieldSubmitter\n        v-model=\"field.submitter_uuid\"\n        class=\"border-r\"\n        :compact=\"true\"\n        :editable=\"\n          editable && (!defaultField || defaultField.role !== submitter?.name)\n        \"\n        :allow-add-new=\"!defaultSubmitters.length\"\n        :menu-classes=\"'dropdown-content bg-white menu menu-xs p-2 shadow rounded-box w-52 rounded-t-none -left-[1px] mt-[1px]'\"\n        :submitters=\"template.submitters\"\n        @update:model-value=\"save\"\n        @click=\"selectedAreaRef.value = area\"\n      />\n      <FieldType\n        v-model=\"field.type\"\n        :button-width=\"27\"\n        :editable=\"editable && !defaultField\"\n        :button-classes=\"'px-1'\"\n        :menu-classes=\"'bg-white rounded-t-none'\"\n        @update:model-value=\"[maybeUpdateOptions(), save()]\"\n        @click=\"selectedAreaRef.value = area\"\n      />\n      <span\n        v-if=\"field.type !== 'checkbox' || field.name\"\n        ref=\"name\"\n        :contenteditable=\"editable && !defaultField\"\n        dir=\"auto\"\n        class=\"pr-1 cursor-text outline-none block\"\n        style=\"min-width: 2px\"\n        @keydown.enter.prevent=\"onNameEnter\"\n        @focus=\"onNameFocus\"\n        @blur=\"onNameBlur\"\n        >{{ optionIndexText }}\n        {{\n          (defaultField ? field.title || field.name : field.name) || defaultName\n        }}</span\n      >\n      <div\n        v-if=\"\n          isSettingsFocus ||\n          (isNameFocus && !['checkbox', 'phone'].includes(field.type))\n        \"\n        class=\"flex items-center ml-1.5\"\n      >\n        <input\n          :id=\"`required-checkbox-${field.uuid}`\"\n          v-model=\"field.required\"\n          type=\"checkbox\"\n          class=\"checkbox checkbox-xs no-animation rounded\"\n          @mousedown.prevent\n        />\n        <label\n          :for=\"`required-checkbox-${field.uuid}`\"\n          class=\"label text-xs\"\n          @click.prevent=\"field.required = !field.required\"\n          @mousedown.prevent\n          >{{ t(\"required\") }}</label\n        >\n        <span\n          v-if=\"field.type !== 'payment'\"\n          class=\"dropdown dropdown-end\"\n          @mouseenter=\"renderDropdown = true\"\n          @touchstart=\"renderDropdown = true\"\n        >\n          <label\n            ref=\"settingsButton\"\n            tabindex=\"0\"\n            :title=\"t('settings')\"\n            class=\"cursor-pointer flex items-center\"\n            style=\"height: 25px\"\n            @focus=\"isSettingsFocus = true\"\n            @blur=\"maybeBlurSettings\"\n          >\n            <IconDotsVertical class=\"w-5 h-5\" />\n          </label>\n          <ul\n            v-if=\"renderDropdown\"\n            ref=\"settingsDropdown\"\n            tabindex=\"0\"\n            class=\"dropdown-content menu menu-xs px-2 pb-2 pt-1 shadow rounded-box w-52 z-10 rounded-t-none\"\n            :style=\"{ backgroundColor: 'white' }\"\n            @dragstart.prevent.stop\n            @click=\"closeDropdown\"\n            @focusout=\"maybeBlurSettings\"\n          >\n            <FieldSettings\n              :field=\"field\"\n              :default-field=\"defaultField\"\n              :editable=\"editable\"\n              :background-color=\"'white'\"\n              :with-required=\"false\"\n              :with-areas=\"false\"\n              @click-formula=\"isShowFormulaModal = true\"\n              @click-description=\"isShowDescriptionModal = true\"\n              @click-condition=\"isShowConditionsModal = true\"\n              @scroll-to=\"\n                [(selectedAreaRef.value = $event), $emit('scroll-to', $event)]\n              \"\n            />\n          </ul>\n        </span>\n      </div>\n      <button\n        v-else-if=\"editable\"\n        class=\"pr-1\"\n        :title=\"t('remove')\"\n        @click.prevent=\"$emit('remove')\"\n      >\n        <IconX width=\"14\" />\n      </button>\n    </div>\n    <div\n      class=\"flex items-center h-full w-full\"\n      dir=\"auto\"\n      :class=\"[\n        bgColors[submitterIndex],\n        field?.default_value\n          ? alignClasses[field.preferences?.align] || ''\n          : 'justify-center',\n      ]\"\n    >\n      <span\n        v-if=\"field\"\n        class=\"flex justify-center items-center space-x-1 h-full\"\n        :class=\"{ 'w-full h-full': field.type == 'checkbox' }\"\n      >\n        <div\n          v-if=\"field?.default_value\"\n          :class=\"{\n            'w-full h-full': field.type == 'checkbox',\n            'text-[1.5vw] lg:text-base': !textOverflowChars,\n            'text-[1.0vw] lg:text-xs': textOverflowChars,\n          }\"\n        >\n          <div\n            ref=\"textContainer\"\n            class=\"flex items-center px-0.5\"\n            :class=\"{ 'w-full h-full': field.type == 'checkbox' }\"\n          >\n            <IconCheck\n              v-if=\"field.type == 'checkbox'\"\n              class=\"aspect-square mx-auto\"\n              :class=\"{\n                '!w-auto !h-full': area.w > area.h,\n                '!w-full !h-auto': area.w <= area.h,\n              }\"\n            />\n            <span\n              v-else-if=\"field.type === 'number'\"\n              class=\"whitespace-pre-wrap\"\n              >{{\n                formatNumber(field.default_value, field.preferences?.format)\n              }}</span\n            >\n            <span v-else class=\"whitespace-pre-wrap\">{{\n              field.default_value\n            }}</span>\n          </div>\n        </div>\n        <component\n          :is=\"fieldIcons[field.type]\"\n          v-else\n          width=\"100%\"\n          height=\"100%\"\n          class=\"max-h-10 opacity-50\"\n        />\n      </span>\n    </div>\n    <div\n      ref=\"touchTarget\"\n      class=\"absolute top-0 bottom-0 right-0 left-0 cursor-pointer\"\n    />\n    <span\n      v-if=\"field?.type && editable\"\n      class=\"h-4 w-4 md:h-2.5 md:w-2.5 -right-1 rounded-full -bottom-1 border-gray-400 bg-white shadow-md border absolute cursor-nwse-resize\"\n      @mousedown.stop=\"startResize\"\n      @touchstart=\"startTouchResize\"\n    />\n    <Teleport v-if=\"isShowFormulaModal\" :to=\"modalContainerEl\">\n      <FormulaModal\n        :field=\"field\"\n        :editable=\"editable && !defaultField\"\n        :build-default-name=\"buildDefaultName\"\n        @close=\"isShowFormulaModal = false\"\n      />\n    </Teleport>\n    <Teleport v-if=\"isShowConditionsModal\" :to=\"modalContainerEl\">\n      <ConditionsModal\n        :field=\"field\"\n        :build-default-name=\"buildDefaultName\"\n        @close=\"isShowConditionsModal = false\"\n      />\n    </Teleport>\n    <Teleport v-if=\"isShowDescriptionModal\" :to=\"modalContainerEl\">\n      <DescriptionModal\n        :field=\"field\"\n        :editable=\"editable && !defaultField\"\n        :build-default-name=\"buildDefaultName\"\n        @close=\"isShowDescriptionModal = false\"\n      />\n    </Teleport>\n  </div>\n</template>\n\n<script>\nimport FieldSubmitter from \"./field_submitter\";\nimport FieldType from \"./field_type\";\nimport Field from \"./field\";\nimport FieldSettings from \"./field_settings\";\nimport FormulaModal from \"./formula_modal\";\nimport ConditionsModal from \"./conditions_modal\";\nimport DescriptionModal from \"./description_modal\";\nimport { IconX, IconCheck, IconDotsVertical } from \"@tabler/icons-vue\";\nimport { v4 } from \"uuid\";\n\nexport default {\n  name: \"FieldArea\",\n  components: {\n    FieldType,\n    IconCheck,\n    FieldSettings,\n    FormulaModal,\n    IconDotsVertical,\n    DescriptionModal,\n    ConditionsModal,\n    FieldSubmitter,\n    IconX,\n  },\n  inject: [\"template\", \"selectedAreaRef\", \"save\", \"t\"],\n  props: {\n    area: {\n      type: Object,\n      required: true,\n    },\n    isDraw: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    defaultField: {\n      type: Object,\n      required: false,\n      default: null,\n    },\n    defaultSubmitters: {\n      type: Array,\n      required: false,\n      default: () => [],\n    },\n    editable: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n    field: {\n      type: Object,\n      required: false,\n      default: null,\n    },\n  },\n  emits: [\n    \"start-resize\",\n    \"stop-resize\",\n    \"start-drag\",\n    \"stop-drag\",\n    \"remove\",\n    \"scroll-to\",\n  ],\n  data() {\n    return {\n      isShowFormulaModal: false,\n      isShowConditionsModal: false,\n      isSettingsFocus: false,\n      isShowDescriptionModal: false,\n      isResize: false,\n      isDragged: false,\n      renderDropdown: false,\n      isNameFocus: false,\n      textOverflowChars: 0,\n      dragFrom: { x: 0, y: 0 },\n    };\n  },\n  computed: {\n    fieldNames: FieldType.computed.fieldNames,\n    fieldIcons: FieldType.computed.fieldIcons,\n    modalContainerEl() {\n      return this.$el.getRootNode().querySelector(\"#uvtsign_modal_container\");\n    },\n    defaultName() {\n      return this.buildDefaultName(this.field, this.template.fields);\n    },\n    alignClasses() {\n      return {\n        center: \"justify-center\",\n        left: \"justify-start\",\n        right: \"justify-end\",\n      };\n    },\n    optionIndexText() {\n      if (this.area.option_uuid && this.field.options) {\n        return `${\n          this.field.options.findIndex(\n            (o) => o.uuid === this.area.option_uuid\n          ) + 1\n        }.`;\n      } else {\n        return \"\";\n      }\n    },\n    cells() {\n      const cells = [];\n\n      let currentWidth = 0;\n\n      while (\n        currentWidth + (this.area.cell_w + this.area.cell_w / 4) <\n        this.area.w\n      ) {\n        currentWidth += this.area.cell_w || 9999999;\n\n        cells.push(currentWidth);\n      }\n\n      return cells;\n    },\n    submitter() {\n      return this.template.submitters.find(\n        (s) => s.uuid === this.field.submitter_uuid\n      );\n    },\n    submitterIndex() {\n      return this.template.submitters.indexOf(this.submitter);\n    },\n    borderColors() {\n      return [\n        \"border-red-500/80\",\n        \"border-sky-500/80\",\n        \"border-emerald-500/80\",\n        \"border-yellow-300/80\",\n        \"border-purple-600/80\",\n        \"border-pink-500/80\",\n        \"border-cyan-500/80\",\n        \"border-orange-500/80\",\n        \"border-lime-500/80\",\n        \"border-indigo-500/80\",\n        \"border-red-500/80\",\n        \"border-sky-500/80\",\n        \"border-emerald-500/80\",\n        \"border-yellow-300/80\",\n        \"border-purple-600/80\",\n        \"border-pink-500/80\",\n        \"border-cyan-500/80\",\n        \"border-orange-500/80\",\n        \"border-lime-500/80\",\n        \"border-indigo-500/80\",\n      ];\n    },\n    bgColors() {\n      return [\n        \"bg-red-100/80\",\n        \"bg-sky-100/80\",\n        \"bg-emerald-100/80\",\n        \"bg-yellow-100/80\",\n        \"bg-purple-100/80\",\n        \"bg-pink-100/80\",\n        \"bg-cyan-100/80\",\n        \"bg-orange-100/80\",\n        \"bg-lime-100/80\",\n        \"bg-indigo-100/80\",\n        \"bg-red-100/80\",\n        \"bg-sky-100/80\",\n        \"bg-emerald-100/80\",\n        \"bg-yellow-100/80\",\n        \"bg-purple-100/80\",\n        \"bg-pink-100/80\",\n        \"bg-cyan-100/80\",\n        \"bg-orange-100/80\",\n        \"bg-lime-100/80\",\n        \"bg-indigo-100/80\",\n      ];\n    },\n    isSelected() {\n      return this.selectedAreaRef.value === this.area;\n    },\n    positionStyle() {\n      const { x, y, w, h } = this.area;\n\n      return {\n        top: y * 100 + \"%\",\n        left: x * 100 + \"%\",\n        width: w * 100 + \"%\",\n        height: h * 100 + \"%\",\n      };\n    },\n  },\n  watch: {\n    \"field.default_value\"() {\n      this.$nextTick(() => {\n        if (\n          [\"date\", \"text\", \"number\"].includes(this.field.type) &&\n          this.field.default_value &&\n          this.$refs.textContainer &&\n          (this.textOverflowChars === 0 ||\n            this.textOverflowChars - 4 > `${this.field.default_value}`.length)\n        ) {\n          this.textOverflowChars =\n            this.$el.clientHeight < this.$refs.textContainer.clientHeight\n              ? `${this.field.default_value}`.length\n              : 0;\n        }\n      });\n    },\n  },\n  mounted() {\n    this.$nextTick(() => {\n      if (\n        [\"date\", \"text\", \"number\"].includes(this.field.type) &&\n        this.field.default_value &&\n        this.$refs.textContainer &&\n        (this.textOverflowChars === 0 ||\n          this.textOverflowChars - 4 > `${this.field.default_value}`.length)\n      ) {\n        this.textOverflowChars =\n          this.$el.clientHeight < this.$refs.textContainer.clientHeight\n            ? `${this.field.default_value}`.length\n            : 0;\n      }\n    });\n  },\n  methods: {\n    buildDefaultName: Field.methods.buildDefaultName,\n    closeDropdown() {\n      document.activeElement.blur();\n    },\n    formatNumber(number, format) {\n      if (format === \"comma\") {\n        return new Intl.NumberFormat(\"en-US\").format(number);\n      } else if (format === \"dot\") {\n        return new Intl.NumberFormat(\"de-DE\").format(number);\n      } else if (format === \"space\") {\n        return new Intl.NumberFormat(\"fr-FR\").format(number);\n      } else {\n        return number;\n      }\n    },\n    maybeBlurSettings(e) {\n      if (\n        !e.relatedTarget ||\n        !this.$refs.settingsDropdown.contains(e.relatedTarget)\n      ) {\n        this.isSettingsFocus = false;\n      }\n    },\n    onNameFocus(e) {\n      this.selectedAreaRef.value = this.area;\n\n      this.isNameFocus = true;\n      this.$refs.name.style.minWidth = this.$refs.name.clientWidth + \"px\";\n\n      if (!this.field.name) {\n        setTimeout(() => {\n          this.$refs.name.innerText = \" \";\n        }, 1);\n      }\n    },\n    startResizeCell(e) {\n      this.$el.getRootNode().addEventListener(\"mousemove\", this.onResizeCell);\n      this.$el.getRootNode().addEventListener(\"mouseup\", this.stopResizeCell);\n\n      this.$emit(\"start-resize\", \"ew\");\n    },\n    stopResizeCell(e) {\n      this.$el\n        .getRootNode()\n        .removeEventListener(\"mousemove\", this.onResizeCell);\n      this.$el\n        .getRootNode()\n        .removeEventListener(\"mouseup\", this.stopResizeCell);\n\n      this.$emit(\"stop-resize\");\n\n      this.save();\n    },\n    onResizeCell(e) {\n      if (e.target.id === \"mask\") {\n        const positionX = e.offsetX / (e.target.clientWidth - 1);\n\n        if (positionX > this.area.x) {\n          this.area.cell_w = positionX - this.area.x;\n        }\n      }\n    },\n    maybeUpdateOptions() {\n      delete this.field.default_value;\n\n      if (![\"radio\", \"multiple\", \"select\"].includes(this.field.type)) {\n        delete this.field.options;\n      }\n\n      if ([\"select\", \"multiple\", \"radio\"].includes(this.field.type)) {\n        this.field.options ||= [{ value: \"\", uuid: v4() }];\n      }\n\n      (this.field.areas || []).forEach((area) => {\n        if (this.field.type === \"cells\") {\n          area.cell_w = (area.w * 2) / Math.floor(area.w / area.h);\n        } else {\n          delete area.cell_w;\n        }\n      });\n    },\n    onNameBlur(e) {\n      if (e.relatedTarget === this.$refs.settingsButton) {\n        this.isSettingsFocus = true;\n      }\n\n      const text = this.$refs.name.innerText.trim();\n\n      this.isNameFocus = false;\n      this.$refs.name.style.minWidth = \"\";\n\n      if (text) {\n        this.field.name = text;\n      } else {\n        this.field.name = \"\";\n        this.$refs.name.innerText = this.defaultName;\n      }\n\n      this.save();\n    },\n    onNameEnter(e) {\n      this.$refs.name.blur();\n    },\n    resize(e) {\n      if (e.target.id === \"mask\") {\n        this.area.w = e.offsetX / e.target.clientWidth - this.area.x;\n        this.area.h = e.offsetY / e.target.clientHeight - this.area.y;\n      }\n    },\n    drag(e) {\n      if (e.target.id === \"mask\") {\n        this.isDragged = true;\n\n        this.area.x = (e.offsetX - this.dragFrom.x) / e.target.clientWidth;\n        this.area.y = (e.offsetY - this.dragFrom.y) / e.target.clientHeight;\n      }\n    },\n    startDrag(e) {\n      this.selectedAreaRef.value = this.area;\n\n      if (!this.editable) {\n        return;\n      }\n\n      const rect = e.target.getBoundingClientRect();\n\n      this.dragFrom = { x: e.clientX - rect.left, y: e.clientY - rect.top };\n\n      this.$el.getRootNode().addEventListener(\"mousemove\", this.drag);\n      this.$el.getRootNode().addEventListener(\"mouseup\", this.stopDrag);\n\n      this.$emit(\"start-drag\");\n    },\n    startTouchDrag(e) {\n      if (e.target !== this.$refs.touchTarget) {\n        return;\n      }\n\n      this.$refs?.name?.blur();\n\n      e.preventDefault();\n\n      this.isDragged = true;\n\n      const rect = e.target.getBoundingClientRect();\n\n      this.selectedAreaRef.value = this.area;\n\n      this.dragFrom = {\n        x: rect.left - e.touches[0].clientX,\n        y: rect.top - e.touches[0].clientY,\n      };\n\n      this.$el.getRootNode().addEventListener(\"touchmove\", this.touchDrag);\n      this.$el.getRootNode().addEventListener(\"touchend\", this.stopTouchDrag);\n\n      this.$emit(\"start-drag\");\n    },\n    touchDrag(e) {\n      const page = this.$parent.$refs.mask.previousSibling;\n      const rect = page.getBoundingClientRect();\n\n      this.area.x =\n        (this.dragFrom.x + e.touches[0].clientX - rect.left) / rect.width;\n      this.area.y =\n        (this.dragFrom.y + e.touches[0].clientY - rect.top) / rect.height;\n    },\n    stopTouchDrag() {\n      this.$el.getRootNode().removeEventListener(\"touchmove\", this.touchDrag);\n      this.$el\n        .getRootNode()\n        .removeEventListener(\"touchend\", this.stopTouchDrag);\n\n      if (this.isDragged) {\n        this.save();\n      }\n\n      this.isDragged = false;\n\n      this.$emit(\"stop-drag\");\n    },\n    stopDrag() {\n      this.$el.getRootNode().removeEventListener(\"mousemove\", this.drag);\n      this.$el.getRootNode().removeEventListener(\"mouseup\", this.stopDrag);\n\n      if (this.isDragged) {\n        this.save();\n      }\n\n      this.isDragged = false;\n\n      this.$emit(\"stop-drag\");\n    },\n    startResize() {\n      this.selectedAreaRef.value = this.area;\n\n      this.$el.getRootNode().addEventListener(\"mousemove\", this.resize);\n      this.$el.getRootNode().addEventListener(\"mouseup\", this.stopResize);\n\n      this.$emit(\"start-resize\", \"nwse\");\n    },\n    stopResize() {\n      this.$el.getRootNode().removeEventListener(\"mousemove\", this.resize);\n      this.$el.getRootNode().removeEventListener(\"mouseup\", this.stopResize);\n\n      this.$emit(\"stop-resize\");\n\n      this.save();\n    },\n    startTouchResize(e) {\n      this.selectedAreaRef.value = this.area;\n\n      this.$refs?.name?.blur();\n\n      e.preventDefault();\n\n      this.$el.getRootNode().addEventListener(\"touchmove\", this.touchResize);\n      this.$el.getRootNode().addEventListener(\"touchend\", this.stopTouchResize);\n\n      this.$emit(\"start-resize\", \"nwse\");\n    },\n    touchResize(e) {\n      const page = this.$parent.$refs.mask.previousSibling;\n      const rect = page.getBoundingClientRect();\n\n      this.area.w =\n        (e.touches[0].clientX - rect.left) / rect.width - this.area.x;\n      this.area.h =\n        (e.touches[0].clientY - rect.top) / rect.height - this.area.y;\n    },\n    stopTouchResize() {\n      this.$el.getRootNode().removeEventListener(\"touchmove\", this.touchResize);\n      this.$el\n        .getRootNode()\n        .removeEventListener(\"touchend\", this.stopTouchResize);\n\n      this.$emit(\"stop-resize\");\n\n      this.save();\n    },\n  },\n};\n</script>\n","<template>\n  <div style=\"max-width: 1600px\" class=\"mx-auto pl-3 md:pl-4 h-full\">\n    <div\n      v-if=\"$slots.buttons || withTitle\"\n      id=\"title_container\"\n      class=\"flex justify-between py-1.5 items-center pr-4 top-0 z-10\"\n      :class=\"{ sticky: withStickySubmitters || isBreakpointLg }\"\n      :style=\"{ backgroundColor }\"\n    >\n      <div class=\"flex items-center space-x-3\">\n        <a v-if=\"withLogo\" href=\"/\">\n          <Logo />\n        </a>\n        <Contenteditable\n          v-if=\"withTitle\"\n          :model-value=\"template.name\"\n          :editable=\"editable\"\n          class=\"text-xl md:text-3xl font-semibold focus:text-clip\"\n          :icon-stroke-width=\"2.3\"\n          @update:model-value=\"updateName\"\n        />\n      </div>\n      <div class=\"space-x-3 flex items-center flex-shrink-0\">\n        <slot v-if=\"$slots.buttons\" name=\"buttons\" />\n        <template v-else>\n          <a\n            :href=\"\n              template.submitters.length > 1\n                ? `/templates/${template.id}/submissions/new?selfsign=true`\n                : `/d/${template.slug}`\n            \"\n            class=\"btn btn-primary btn-ghost text-base hidden md:flex\"\n            :target=\"template.submitters.length > 1 ? '' : '_blank'\"\n            :data-turbo-frame=\"template.submitters.length > 1 ? 'modal' : ''\"\n            @click=\"maybeShowErrorTemplateAlert\"\n          >\n            <IconWritingSign width=\"22\" class=\"inline\" />\n            <span class=\"hidden md:inline\">\n              {{ t(\"sign_yourself\") }}\n            </span>\n          </a>\n          <a\n            :href=\"`/templates/${template.id}/submissions/new?with_link=true`\"\n            data-turbo-frame=\"modal\"\n            class=\"white-button md:!px-6\"\n            @click=\"maybeShowErrorTemplateAlert\"\n          >\n            <IconUsersPlus width=\"20\" class=\"inline\" />\n            <span class=\"hidden md:inline\">\n              {{ t(\"send\") }}\n            </span>\n          </a>\n          <button\n            v-if=\"editable\"\n            class=\"base-button\"\n            :class=\"{ disabled: isSaving }\"\n            v-bind=\"isSaving ? { disabled: true } : {}\"\n            @click.prevent=\"onSaveClick\"\n          >\n            <IconInnerShadowTop\n              v-if=\"isSaving\"\n              width=\"22\"\n              class=\"animate-spin\"\n            />\n            <IconDeviceFloppy v-else width=\"22\" />\n            <span class=\"hidden md:inline\">\n              {{ t(\"save\") }}\n            </span>\n          </button>\n          <a v-else :href=\"`/templates/${template.id}`\" class=\"base-button\">\n            <span class=\"hidden md:inline\">\n              {{ t(\"back\") }}\n            </span>\n          </a>\n        </template>\n      </div>\n    </div>\n    <div\n      id=\"main_container\"\n      class=\"flex\"\n      :class=\"\n        $slots.buttons || withTitle\n          ? 'md:max-h-[calc(100%_-_60px)]'\n          : 'md:max-h-[100%]'\n      \"\n    >\n      <div\n        v-if=\"withDocumentsList\"\n        id=\"documents_container\"\n        ref=\"previews\"\n        :style=\"{ display: isBreakpointLg ? 'none' : 'initial' }\"\n        class=\"overflow-y-auto overflow-x-hidden w-52 flex-none pr-3 mt-0.5 pt-0.5 hidden lg:block\"\n      >\n        <DocumentPreview\n          v-for=\"(item, index) in template.schema\"\n          :key=\"index\"\n          :with-arrows=\"template.schema.length > 1\"\n          :item=\"item\"\n          :document=\"sortedDocuments[index]\"\n          :accept-file-types=\"acceptFileTypes\"\n          :with-replace-button=\"withUploadButton\"\n          :editable=\"editable\"\n          :template=\"template\"\n          @scroll-to=\"scrollIntoDocument(item)\"\n          @remove=\"onDocumentRemove\"\n          @replace=\"onDocumentReplace\"\n          @up=\"moveDocument(item, -1)\"\n          @down=\"moveDocument(item, 1)\"\n          @change=\"save\"\n        />\n        <div class=\"sticky bottom-0 py-2\" :style=\"{ backgroundColor }\">\n          <Upload\n            v-if=\"sortedDocuments.length && editable && withUploadButton\"\n            :accept-file-types=\"acceptFileTypes\"\n            :template-id=\"template.id\"\n            @success=\"updateFromUpload\"\n          />\n        </div>\n      </div>\n      <div\n        id=\"pages_container\"\n        class=\"w-full overflow-y-hidden md:overflow-y-auto overflow-x-hidden mt-0.5 pt-0.5\"\n      >\n        <div ref=\"documents\" class=\"pr-3.5 pl-0.5\">\n          <Dropzone\n            v-if=\"!sortedDocuments.length && withUploadButton\"\n            :template-id=\"template.id\"\n            :accept-file-types=\"acceptFileTypes\"\n            @success=\"updateFromUpload\"\n          />\n          <template v-else>\n            <template v-for=\"document in sortedDocuments\" :key=\"document.uuid\">\n              <Document\n                :ref=\"setDocumentRefs\"\n                :areas-index=\"fieldAreasIndex[document.uuid]\"\n                :selected-submitter=\"selectedSubmitter\"\n                :document=\"document\"\n                :is-drag=\"!!dragField\"\n                :default-fields=\"[...defaultRequiredFields, ...defaultFields]\"\n                :allow-draw=\"!onlyDefinedFields\"\n                :default-submitters=\"defaultSubmitters\"\n                :draw-field=\"drawField\"\n                :draw-field-type=\"drawFieldType\"\n                :editable=\"editable\"\n                :base-url=\"baseUrl\"\n                @draw=\"\n                  [\n                    onDraw($event),\n                    withSelectedFieldType ? '' : (drawFieldType = ''),\n                    (showDrawField = false),\n                  ]\n                \"\n                @drop-field=\"onDropfield\"\n                @remove-area=\"removeArea\"\n              />\n              <DocumentControls\n                v-if=\"isBreakpointLg && editable\"\n                :with-arrows=\"template.schema.length > 1\"\n                :item=\"\n                  template.schema.find(\n                    (item) => item.attachment_uuid === document.uuid\n                  )\n                \"\n                :with-replace-button=\"withUploadButton\"\n                :accept-file-types=\"acceptFileTypes\"\n                :document=\"document\"\n                :template=\"template\"\n                class=\"pb-2 mb-2 border-b border-base-300 border-dashed\"\n                @remove=\"onDocumentRemove\"\n                @replace=\"onDocumentReplace\"\n                @up=\"\n                  moveDocument(\n                    template.schema.find(\n                      (item) => item.attachment_uuid === document.uuid\n                    ),\n                    -1\n                  )\n                \"\n                @down=\"\n                  moveDocument(\n                    template.schema.find(\n                      (item) => item.attachment_uuid === document.uuid\n                    ),\n                    1\n                  )\n                \"\n                @change=\"save\"\n              />\n            </template>\n            <div\n              v-if=\"sortedDocuments.length && isBreakpointLg && editable\"\n              class=\"pb-4\"\n            >\n              <Upload\n                v-if=\"withUploadButton\"\n                :template-id=\"template.id\"\n                :accept-file-types=\"acceptFileTypes\"\n                @success=\"updateFromUpload\"\n              />\n            </div>\n          </template>\n        </div>\n      </div>\n      <div\n        v-if=\"withFieldsList\"\n        id=\"fields_list_container\"\n        class=\"relative w-80 flex-none mt-1 pr-4 pl-0.5 hidden md:block\"\n        :class=\"\n          drawField ? 'overflow-hidden' : 'overflow-y-auto overflow-x-hidden'\n        \"\n      >\n        <div\n          v-if=\"showDrawField || drawField\"\n          class=\"sticky inset-0 h-full z-20\"\n          :style=\"{ backgroundColor }\"\n        >\n          <div class=\"bg-base-200 rounded-lg p-5 text-center space-y-4\">\n            <p>\n              {{\n                t(\"draw_field_on_the_document\").replace(\n                  \"{field}\",\n                  drawField?.name || \"\"\n                )\n              }}\n            </p>\n            <div>\n              <button class=\"base-button\" @click=\"clearDrawField\">\n                {{ t(\"cancel\") }}\n              </button>\n              <a\n                v-if=\"\n                  !drawField &&\n                  !drawOption &&\n                  !['stamp', 'signature', 'initials'].includes(\n                    drawField?.type || drawFieldType\n                  )\n                \"\n                href=\"#\"\n                class=\"link block mt-3 text-sm\"\n                @click.prevent=\"\n                  [\n                    addField(drawFieldType),\n                    (drawField = null),\n                    (drawOption = null),\n                    withSelectedFieldType ? '' : (drawFieldType = ''),\n                    (showDrawField = false),\n                  ]\n                \"\n              >\n                {{ t(\"or_add_field_without_drawing\") }}\n              </a>\n            </div>\n          </div>\n        </div>\n        <div>\n          <Fields\n            ref=\"fields\"\n            :fields=\"template.fields\"\n            :submitters=\"template.submitters\"\n            :selected-submitter=\"selectedSubmitter\"\n            :with-help=\"withHelp\"\n            :default-submitters=\"defaultSubmitters\"\n            :draw-field-type=\"drawFieldType\"\n            :default-fields=\"[...defaultRequiredFields, ...defaultFields]\"\n            :default-required-fields=\"defaultRequiredFields\"\n            :field-types=\"fieldTypes\"\n            :with-sticky-submitters=\"withStickySubmitters\"\n            :only-defined-fields=\"onlyDefinedFields\"\n            :editable=\"editable\"\n            @add-field=\"addField\"\n            @set-draw=\"\n              [(drawField = $event.field), (drawOption = $event.option)]\n            \"\n            @set-draw-type=\"[(drawFieldType = $event), (showDrawField = true)]\"\n            @set-drag=\"dragField = $event\"\n            @change-submitter=\"selectedSubmitter = $event\"\n            @drag-end=\"dragField = null\"\n            @scroll-to-area=\"scrollToArea\"\n          />\n        </div>\n      </div>\n    </div>\n    <div class=\"sticky bottom-0\">\n      <MobileDrawField\n        v-if=\"drawField && isBreakpointLg\"\n        :draw-field=\"drawField\"\n        :fields=\"template.fields\"\n        :submitters=\"template.submitters\"\n        :selected-submitter=\"selectedSubmitter\"\n        class=\"md:hidden\"\n        :editable=\"editable\"\n        @cancel=\"[(drawField = null), (drawOption = null)]\"\n        @change-submitter=\"\n          [\n            (selectedSubmitter = $event),\n            (drawField.submitter_uuid = $event.uuid),\n          ]\n        \"\n      />\n      <MobileFields\n        v-if=\"sortedDocuments.length && !drawField && editable\"\n        :fields=\"template.fields\"\n        :default-fields=\"[...defaultRequiredFields, ...defaultFields]\"\n        :default-required-fields=\"defaultRequiredFields\"\n        :field-types=\"fieldTypes\"\n        :selected-submitter=\"selectedSubmitter\"\n        @select=\"startFieldDraw($event)\"\n      />\n    </div>\n    <div id=\"uvtsign_modal_container\" />\n  </div>\n</template>\n\n<script>\nimport Upload from \"./upload\";\nimport Dropzone from \"./dropzone\";\nimport Fields from \"./fields\";\nimport MobileDrawField from \"./mobile_draw_field\";\nimport Document from \"./document\";\nimport Logo from \"./logo\";\nimport Contenteditable from \"./contenteditable\";\nimport DocumentPreview from \"./preview\";\nimport DocumentControls from \"./controls\";\nimport MobileFields from \"./mobile_fields\";\nimport {\n  IconUsersPlus,\n  IconDeviceFloppy,\n  IconWritingSign,\n  IconInnerShadowTop,\n} from \"@tabler/icons-vue\";\nimport { v4 } from \"uuid\";\nimport { ref, computed } from \"vue\";\nimport { en as i18nEn } from \"./i18n\";\n\nexport default {\n  name: \"TemplateBuilder\",\n  components: {\n    Upload,\n    Document,\n    Fields,\n    MobileDrawField,\n    IconWritingSign,\n    MobileFields,\n    Logo,\n    Dropzone,\n    DocumentPreview,\n    DocumentControls,\n    IconInnerShadowTop,\n    Contenteditable,\n    IconUsersPlus,\n    IconDeviceFloppy,\n  },\n  provide() {\n    return {\n      template: this.template,\n      save: this.save,\n      t: this.t,\n      currencies: this.currencies,\n      baseFetch: this.baseFetch,\n      fieldTypes: this.fieldTypes,\n      backgroundColor: this.backgroundColor,\n      withPhone: this.withPhone,\n      withPayment: this.withPayment,\n      isPaymentConnected: this.isPaymentConnected,\n      withFormula: this.withFormula,\n      withConditions: this.withConditions,\n      defaultDrawFieldType: this.defaultDrawFieldType,\n      selectedAreaRef: computed(() => this.selectedAreaRef),\n      fieldsDragFieldRef: computed(() => this.fieldsDragFieldRef),\n    };\n  },\n  props: {\n    template: {\n      type: Object,\n      required: true,\n    },\n    i18n: {\n      type: Object,\n      required: false,\n      default: () => ({}),\n    },\n    backgroundColor: {\n      type: String,\n      required: false,\n      default: \"\",\n    },\n    editable: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n    withHelp: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n    autosave: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n    defaultFields: {\n      type: Array,\n      required: false,\n      default: () => [],\n    },\n    defaultRequiredFields: {\n      type: Array,\n      required: false,\n      default: () => [],\n    },\n    withSelectedFieldType: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    defaultDrawFieldType: {\n      type: String,\n      required: false,\n      default: \"text\",\n    },\n    currencies: {\n      type: Array,\n      required: false,\n      default: () => [],\n    },\n    fieldTypes: {\n      type: Array,\n      required: false,\n      default: () => [],\n    },\n    defaultSubmitters: {\n      type: Array,\n      required: false,\n      default: () => [],\n    },\n    acceptFileTypes: {\n      type: String,\n      required: false,\n      default: \"image/*, application/pdf\",\n    },\n    baseUrl: {\n      type: String,\n      required: false,\n      default: \"\",\n    },\n    withLogo: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n    onUpload: {\n      type: Function,\n      required: false,\n      default() {\n        return () => {};\n      },\n    },\n    onSave: {\n      type: Function,\n      required: false,\n      default() {\n        return () => {};\n      },\n    },\n    onChange: {\n      type: Function,\n      required: false,\n      default() {\n        return () => {};\n      },\n    },\n    withStickySubmitters: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n    withUploadButton: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n    withTitle: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n    withFieldsList: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n    authenticityToken: {\n      type: String,\n      required: false,\n      default: \"\",\n    },\n    withDocumentsList: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n    withPhone: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    withPayment: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    isPaymentConnected: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    withFormula: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    withConditions: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    onlyDefinedFields: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    fetchOptions: {\n      type: Object,\n      required: false,\n      default: () => ({ headers: {} }),\n    },\n  },\n  data() {\n    return {\n      documentRefs: [],\n      isBreakpointLg: false,\n      isSaving: false,\n      selectedSubmitter: null,\n      showDrawField: false,\n      drawField: null,\n      drawFieldType: null,\n      drawOption: null,\n      dragField: null,\n    };\n  },\n  computed: {\n    selectedAreaRef: () => ref(),\n    fieldsDragFieldRef: () => ref(),\n    fieldAreasIndex() {\n      const areas = {};\n\n      this.template.fields.forEach((f) => {\n        (f.areas || []).forEach((a) => {\n          areas[a.attachment_uuid] ||= {};\n\n          const acc = (areas[a.attachment_uuid][a.page] ||= []);\n\n          acc.push({ area: a, field: f });\n        });\n      });\n\n      return areas;\n    },\n    isAllRequiredFieldsAdded() {\n      return !this.defaultRequiredFields?.some((f) => {\n        return !this.template.fields?.some((field) => field.name === f.name);\n      });\n    },\n    selectedField() {\n      return this.template.fields.find((f) =>\n        f.areas?.includes(this.selectedAreaRef.value)\n      );\n    },\n    sortedDocuments() {\n      return this.template.schema.map((item) => {\n        return this.template.documents.find(\n          (doc) => doc.uuid === item.attachment_uuid\n        );\n      });\n    },\n  },\n  created() {\n    if (\n      !this.template.fields?.length &&\n      this.template.submitters?.length === 1\n    ) {\n      if (this.template.submitters[0]?.name === \"First Party\") {\n        this.template.submitters[0].name = this.t(\"first_party\");\n      }\n    }\n\n    const existingSubmittersUuids = this.defaultSubmitters.map((name) => {\n      return this.template.submitters.find((e) => e.name === name)?.uuid;\n    });\n\n    this.defaultSubmitters.forEach((name, index) => {\n      const submitter = (this.template.submitters[index] ||= {});\n\n      submitter.name = name;\n\n      if (existingSubmittersUuids.filter(Boolean).length) {\n        submitter.uuid =\n          existingSubmittersUuids[index] || submitter.uuid || v4();\n      } else {\n        submitter.uuid ||= v4();\n      }\n    });\n\n    this.selectedSubmitter = this.template.submitters[0];\n  },\n  mounted() {\n    this.undoStack = [JSON.stringify(this.template)];\n    this.redoStack = [];\n\n    this.$nextTick(() => {\n      this.onWindowResize();\n    });\n\n    document.addEventListener(\"keyup\", this.onKeyUp);\n    window.addEventListener(\"keydown\", this.onKeyDown);\n\n    window.addEventListener(\"resize\", this.onWindowResize);\n\n    this.$nextTick(() => {\n      if (document.location.search?.includes(\"stripe_connect_success\")) {\n        document\n          .querySelector('form[action=\"/auth/stripe_connect\"]')\n          ?.closest(\".dropdown\")\n          ?.querySelector(\"label\")\n          ?.focus();\n      }\n    });\n  },\n  unmounted() {\n    document.removeEventListener(\"keyup\", this.onKeyUp);\n    window.removeEventListener(\"keydown\", this.onKeyDown);\n\n    window.removeEventListener(\"resize\", this.onWindowResize);\n  },\n  beforeUpdate() {\n    this.documentRefs = [];\n  },\n  methods: {\n    t(key) {\n      return this.i18n[key] || i18nEn[key] || key;\n    },\n    addField(type, area = null) {\n      const field = {\n        name: \"\",\n        uuid: v4(),\n        required: type !== \"checkbox\",\n        areas: area ? [area] : [],\n        submitter_uuid: this.selectedSubmitter.uuid,\n        type,\n      };\n\n      if ([\"select\", \"multiple\", \"radio\"].includes(type)) {\n        field.options = [{ value: \"\", uuid: v4() }];\n      }\n\n      if (type === \"stamp\") {\n        field.readonly = true;\n      }\n\n      if (type === \"date\") {\n        field.preferences = {\n          format: Intl.DateTimeFormat().resolvedOptions().locale.endsWith(\"-US\")\n            ? \"MM/DD/YYYY\"\n            : \"DD/MM/YYYY\",\n        };\n      }\n\n      this.template.fields.push(field);\n\n      this.save();\n    },\n    startFieldDraw({ name, type }) {\n      const existingField = this.template.fields?.find(\n        (f) =>\n          f.submitter_uuid === this.selectedSubmitter.uuid &&\n          name &&\n          name === f.name\n      );\n\n      if (existingField) {\n        this.drawField = existingField;\n      } else {\n        const field = {\n          name: name || \"\",\n          uuid: v4(),\n          required: type !== \"checkbox\",\n          areas: [],\n          submitter_uuid: this.selectedSubmitter.uuid,\n          type,\n        };\n\n        if ([\"select\", \"multiple\", \"radio\"].includes(type)) {\n          field.options = [{ value: \"\", uuid: v4() }];\n        }\n\n        if (type === \"stamp\") {\n          field.readonly = true;\n        }\n\n        if (type === \"date\") {\n          field.preferences = {\n            format: Intl.DateTimeFormat()\n              .resolvedOptions()\n              .locale.endsWith(\"-US\")\n              ? \"MM/DD/YYYY\"\n              : \"DD/MM/YYYY\",\n          };\n        }\n\n        this.drawField = field;\n      }\n\n      this.drawOption = null;\n    },\n    undo() {\n      if (this.undoStack.length > 1) {\n        this.undoStack.pop();\n        const stringData = this.undoStack[this.undoStack.length - 1];\n        const currentStringData = JSON.stringify(this.template);\n\n        if (stringData && stringData !== currentStringData) {\n          this.redoStack.push(currentStringData);\n\n          Object.assign(this.template, JSON.parse(stringData));\n\n          this.save();\n        }\n      }\n    },\n    redo() {\n      const stringData = this.redoStack.pop();\n      this.lastRedoData = stringData;\n      const currentStringData = JSON.stringify(this.template);\n\n      if (stringData && stringData !== currentStringData) {\n        if (this.undoStack[this.undoStack.length - 1] !== currentStringData) {\n          this.undoStack.push(currentStringData);\n        }\n\n        Object.assign(this.template, JSON.parse(stringData));\n\n        this.save();\n      }\n    },\n    onWindowResize(e) {\n      const breakpointLg = 1024;\n\n      this.isBreakpointLg =\n        this.$el.getRootNode().querySelector(\"div[data-v-app]\").offsetWidth <\n        breakpointLg;\n    },\n    setDocumentRefs(el) {\n      if (el) {\n        this.documentRefs.push(el);\n      }\n    },\n    scrollIntoDocument(item) {\n      const ref = this.documentRefs.find(\n        (e) => e.document.uuid === item.attachment_uuid\n      );\n\n      ref.$el.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n    },\n    clearDrawField() {\n      this.drawField = null;\n      this.drawOption = null;\n      this.showDrawField = false;\n\n      if (!this.withSelectedFieldType) {\n        this.drawFieldType = \"\";\n      }\n    },\n    onKeyUp(e) {\n      if (e.code === \"Escape\") {\n        this.clearDrawField();\n\n        this.selectedAreaRef.value = null;\n      }\n\n      if (\n        this.editable &&\n        [\"Backspace\", \"Delete\"].includes(e.key) &&\n        this.selectedAreaRef.value &&\n        document.activeElement === document.body\n      ) {\n        this.removeArea(this.selectedAreaRef.value);\n\n        this.selectedAreaRef.value = null;\n      }\n    },\n    onKeyDown(event) {\n      if (\n        (event.metaKey && event.shiftKey && event.key === \"z\") ||\n        (event.ctrlKey && event.key === \"Z\")\n      ) {\n        event.stopImmediatePropagation();\n        event.preventDefault();\n\n        this.redo();\n      } else if ((event.ctrlKey || event.metaKey) && event.key === \"z\") {\n        event.stopImmediatePropagation();\n        event.preventDefault();\n\n        this.undo();\n      }\n    },\n    removeArea(area) {\n      const field = this.template.fields.find((f) => f.areas?.includes(area));\n\n      field.areas.splice(field.areas.indexOf(area), 1);\n\n      if (!field.areas.length) {\n        this.template.fields.splice(this.template.fields.indexOf(field), 1);\n      }\n\n      this.save();\n    },\n    pushUndo() {\n      const stringData = JSON.stringify(this.template);\n\n      if (this.undoStack[this.undoStack.length - 1] !== stringData) {\n        this.undoStack.push(stringData);\n\n        if (this.lastRedoData !== stringData) {\n          this.redoStack = [];\n        }\n      }\n    },\n    setDefaultAreaSize(area, type) {\n      const documentRef = this.documentRefs.find(\n        (e) => e.document.uuid === area.attachment_uuid\n      );\n      const pageMask = documentRef.pageRefs[area.page].$refs.mask;\n\n      if (type === \"checkbox\") {\n        area.w = pageMask.clientWidth / 30 / pageMask.clientWidth;\n        area.h =\n          (pageMask.clientWidth / 30 / pageMask.clientWidth) *\n          (pageMask.clientWidth / pageMask.clientHeight);\n      } else if (type === \"image\") {\n        area.w = pageMask.clientWidth / 5 / pageMask.clientWidth;\n        area.h =\n          (pageMask.clientWidth / 5 / pageMask.clientWidth) *\n          (pageMask.clientWidth / pageMask.clientHeight);\n      } else if (type === \"signature\" || type === \"stamp\") {\n        area.w = pageMask.clientWidth / 5 / pageMask.clientWidth;\n        area.h =\n          ((pageMask.clientWidth / 5 / pageMask.clientWidth) *\n            (pageMask.clientWidth / pageMask.clientHeight)) /\n          2;\n      } else if (type === \"initials\") {\n        area.w = pageMask.clientWidth / 10 / pageMask.clientWidth;\n        area.h = pageMask.clientWidth / 35 / pageMask.clientWidth;\n      } else {\n        area.w = pageMask.clientWidth / 5 / pageMask.clientWidth;\n        area.h = pageMask.clientWidth / 35 / pageMask.clientWidth;\n      }\n    },\n    onDraw(area) {\n      if (this.drawField) {\n        if (this.drawOption) {\n          const areaWithoutOption = this.drawField.areas?.find(\n            (a) => !a.option_uuid\n          );\n\n          if (\n            areaWithoutOption &&\n            !this.drawField.areas.find(\n              (a) => a.option_uuid === this.drawField.options[0].uuid\n            )\n          ) {\n            areaWithoutOption.option_uuid = this.drawField.options[0].uuid;\n          }\n\n          area.option_uuid = this.drawOption.uuid;\n        }\n\n        if (area.w === 0 || area.h === 0) {\n          const previousArea =\n            this.drawField.areas?.[this.drawField.areas.length - 1];\n\n          if (this.selectedField?.type === this.drawField.type) {\n            area.w = this.selectedAreaRef.value.w;\n            area.h = this.selectedAreaRef.value.h;\n          } else if (previousArea) {\n            area.w = previousArea.w;\n            area.h = previousArea.h;\n          } else {\n            this.setDefaultAreaSize(\n              area,\n              this.drawOption ? \"checkbox\" : this.drawField?.type\n            );\n          }\n\n          area.x -= area.w / 2;\n          area.y -= area.h / 2;\n        }\n\n        this.drawField.areas ||= [];\n\n        const insertBeforeAreaIndex = this.drawField.areas.findIndex((a) => {\n          return (\n            a.attachment_uuid === area.attachment_uuid && a.page > area.page\n          );\n        });\n\n        if (insertBeforeAreaIndex !== -1) {\n          this.drawField.areas.splice(insertBeforeAreaIndex, 0, area);\n        } else {\n          this.drawField.areas.push(area);\n        }\n\n        if (this.template.fields.indexOf(this.drawField) === -1) {\n          this.template.fields.push(this.drawField);\n        }\n\n        this.drawField = null;\n        this.drawOption = null;\n\n        this.selectedAreaRef.value = area;\n\n        this.save();\n      } else {\n        const documentRef = this.documentRefs.find(\n          (e) => e.document.uuid === area.attachment_uuid\n        );\n        const pageMask = documentRef.pageRefs[area.page].$refs.mask;\n\n        let type = pageMask.clientWidth * area.w < 35 ? \"checkbox\" : \"text\";\n\n        if (this.drawFieldType) {\n          type = this.drawFieldType;\n        } else if (\n          this.defaultDrawFieldType &&\n          this.defaultDrawFieldType !== \"text\"\n        ) {\n          type = this.defaultDrawFieldType;\n        } else if (\n          this.fieldTypes.length !== 0 &&\n          !this.fieldTypes.includes(type)\n        ) {\n          type = this.fieldTypes[0];\n        }\n\n        if (\n          type === \"checkbox\" &&\n          !this.drawFieldType &&\n          (this.template.fields[this.template.fields.length - 1]?.type ===\n            \"checkbox\" ||\n            area.w)\n        ) {\n          const previousField = [...this.template.fields]\n            .reverse()\n            .find((f) => f.type === type);\n          const previousArea =\n            previousField?.areas?.[previousField.areas.length - 1];\n\n          if (previousArea || area.w) {\n            const areaW = previousArea?.w || 30 / pageMask.clientWidth;\n            const areaH = previousArea?.h || 30 / pageMask.clientHeight;\n\n            if (pageMask.clientWidth * area.w < 5) {\n              area.x = area.x - areaW / 2;\n              area.y = area.y - areaH / 2;\n            }\n\n            area.w = areaW;\n            area.h = areaH;\n          }\n        }\n\n        if (this.drawFieldType && (area.w === 0 || area.h === 0)) {\n          if (this.selectedField?.type === this.drawFieldType) {\n            area.w = this.selectedAreaRef.value.w;\n            area.h = this.selectedAreaRef.value.h;\n          } else {\n            this.setDefaultAreaSize(area, this.drawFieldType);\n          }\n\n          area.x -= area.w / 2;\n          area.y -= area.h / 2;\n        }\n\n        if (area.w) {\n          this.addField(type, area);\n\n          this.selectedAreaRef.value = area;\n        }\n      }\n    },\n    onDropfield(area) {\n      const field = this.fieldsDragFieldRef.value || {\n        name: \"\",\n        uuid: v4(),\n        submitter_uuid: this.selectedSubmitter.uuid,\n        required: this.dragField.type !== \"checkbox\",\n        ...this.dragField,\n      };\n\n      if (!this.fieldsDragFieldRef.value) {\n        if ([\"select\", \"multiple\", \"radio\"].includes(field.type)) {\n          field.options = [{ value: \"\", uuid: v4() }];\n        }\n\n        if (field.type === \"stamp\") {\n          field.readonly = true;\n        }\n\n        if (field.type === \"date\") {\n          field.preferences = {\n            format: Intl.DateTimeFormat()\n              .resolvedOptions()\n              .locale.endsWith(\"-US\")\n              ? \"MM/DD/YYYY\"\n              : \"DD/MM/YYYY\",\n          };\n        }\n      }\n\n      const fieldArea = {\n        x: (area.x - 6) / area.maskW,\n        y: area.y / area.maskH,\n        page: area.page,\n        attachment_uuid: area.attachment_uuid,\n      };\n\n      const previousField = [...this.template.fields]\n        .reverse()\n        .find((f) => f.type === field.type);\n\n      let baseArea;\n\n      if (this.selectedField?.type === field.type) {\n        baseArea = this.selectedAreaRef.value;\n      } else if (previousField?.areas?.length) {\n        baseArea = previousField.areas[previousField.areas.length - 1];\n      } else {\n        if ([\"checkbox\"].includes(field.type)) {\n          baseArea = {\n            w: area.maskW / 30 / area.maskW,\n            h: (area.maskW / 30 / area.maskW) * (area.maskW / area.maskH),\n          };\n        } else if (field.type === \"image\") {\n          baseArea = {\n            w: area.maskW / 5 / area.maskW,\n            h: (area.maskW / 5 / area.maskW) * (area.maskW / area.maskH),\n          };\n        } else if (field.type === \"signature\" || field.type === \"stamp\") {\n          baseArea = {\n            w: area.maskW / 5 / area.maskW,\n            h: ((area.maskW / 5 / area.maskW) * (area.maskW / area.maskH)) / 2,\n          };\n        } else if (field.type === \"initials\") {\n          baseArea = {\n            w: area.maskW / 10 / area.maskW,\n            h: area.maskW / 35 / area.maskW,\n          };\n        } else {\n          baseArea = {\n            w: area.maskW / 5 / area.maskW,\n            h: area.maskW / 35 / area.maskW,\n          };\n        }\n      }\n\n      fieldArea.w = baseArea.w;\n      fieldArea.h = baseArea.h;\n      fieldArea.y = fieldArea.y - baseArea.h / 2;\n\n      if (field.type === \"cells\") {\n        fieldArea.cell_w = baseArea.cell_w || baseArea.w / 5;\n      }\n\n      field.areas ||= [];\n\n      const lastArea = field.areas[field.areas.length - 1];\n\n      if (lastArea) {\n        fieldArea.x -= lastArea.w / 2;\n        fieldArea.w = lastArea.w;\n        fieldArea.h = lastArea.h;\n      }\n\n      field.areas.push(fieldArea);\n\n      this.selectedAreaRef.value = fieldArea;\n\n      if (this.template.fields.indexOf(field) === -1) {\n        this.template.fields.push(field);\n      }\n\n      this.save();\n    },\n    updateFromUpload(data) {\n      this.template.schema.push(...data.schema);\n      this.template.documents.push(...data.documents);\n\n      if (data.fields) {\n        this.template.fields = data.fields;\n      }\n\n      if (data.submitters) {\n        this.template.submitters = data.submitters;\n\n        if (\n          !this.template.submitters.find(\n            (s) => s.uuid === this.selectedSubmitter?.uuid\n          )\n        ) {\n          this.selectedSubmitter = this.template.submitters[0];\n        }\n      }\n\n      this.$nextTick(() => {\n        this.$refs.previews.scrollTop = this.$refs.previews.scrollHeight;\n\n        this.scrollIntoDocument(data.schema[0]);\n      });\n\n      if (this.template.name === \"New Document\") {\n        this.template.name = this.template.schema[0].name;\n      }\n\n      if (this.onUpload) {\n        this.onUpload(this.template);\n      }\n\n      this.save();\n    },\n    updateName(value) {\n      this.template.name = value;\n\n      this.save();\n    },\n    onDocumentRemove(item) {\n      if (window.confirm(this.t(\"are_you_sure\"))) {\n        this.template.schema.splice(this.template.schema.indexOf(item), 1);\n      }\n\n      const removedFieldUuids = [];\n\n      this.template.fields.forEach((field) => {\n        [...(field.areas || [])].forEach((area) => {\n          if (area.attachment_uuid === item.attachment_uuid) {\n            field.areas.splice(field.areas.indexOf(area), 1);\n\n            removedFieldUuids.push(field.uuid);\n          }\n        });\n      });\n\n      this.template.fields = this.template.fields.filter(\n        (f) => !removedFieldUuids.includes(f.uuid) || f.areas?.length\n      );\n\n      this.save();\n    },\n    onDocumentReplace(data) {\n      const { replaceSchemaItem, schema, documents } = data;\n\n      this.template.schema.splice(\n        this.template.schema.indexOf(replaceSchemaItem),\n        1,\n        schema[0]\n      );\n      this.template.documents.push(...documents);\n\n      if (data.fields) {\n        this.template.fields = data.fields;\n\n        const removedFieldUuids = [];\n\n        this.template.fields.forEach((field) => {\n          [...(field.areas || [])].forEach((area) => {\n            if (area.attachment_uuid === replaceSchemaItem.attachment_uuid) {\n              field.areas.splice(field.areas.indexOf(area), 1);\n\n              removedFieldUuids.push(field.uuid);\n            }\n          });\n        });\n\n        this.template.fields = this.template.fields.filter(\n          (f) => !removedFieldUuids.includes(f.uuid) || f.areas?.length\n        );\n      }\n\n      if (data.submitters) {\n        this.template.submitters = data.submitters;\n\n        if (\n          !this.template.submitters.find(\n            (s) => s.uuid === this.selectedSubmitter?.uuid\n          )\n        ) {\n          this.selectedSubmitter = this.template.submitters[0];\n        }\n      }\n\n      this.template.fields.forEach((field) => {\n        (field.areas || []).forEach((area) => {\n          if (area.attachment_uuid === replaceSchemaItem.attachment_uuid) {\n            area.attachment_uuid = schema[0].attachment_uuid;\n          }\n        });\n      });\n\n      if (this.onUpload) {\n        this.onUpload(this.template);\n      }\n\n      this.save();\n    },\n    moveDocument(item, direction) {\n      const currentIndex = this.template.schema.indexOf(item);\n\n      this.template.schema.splice(currentIndex, 1);\n\n      if (currentIndex + direction > this.template.schema.length) {\n        this.template.schema.unshift(item);\n      } else if (currentIndex + direction < 0) {\n        this.template.schema.push(item);\n      } else {\n        this.template.schema.splice(currentIndex + direction, 0, item);\n      }\n\n      this.save();\n    },\n    maybeShowErrorTemplateAlert(e) {\n      if (!this.isAllRequiredFieldsAdded) {\n        e.preventDefault();\n\n        const fields = this.defaultRequiredFields?.filter((f) => {\n          return !this.template.fields?.some((field) => field.name === f.name);\n        });\n\n        if (fields?.length) {\n          return alert(\n            this.t(\"add_all_required_fields_to_continue\") +\n              \": \" +\n              fields.map((f) => f.name).join(\", \")\n          );\n        }\n      }\n\n      if (!this.template.fields.length) {\n        e.preventDefault();\n\n        alert(\"Please draw fields to prepare the document.\");\n      }\n    },\n    onSaveClick() {\n      if (!this.isAllRequiredFieldsAdded) {\n        const fields = this.defaultRequiredFields?.filter((f) => {\n          return !this.template.fields?.some((field) => field.name === f.name);\n        });\n\n        if (fields?.length) {\n          return alert(\n            this.t(\"add_all_required_fields_to_continue\") +\n              \": \" +\n              fields.map((f) => f.name).join(\", \")\n          );\n        }\n      }\n\n      if (this.template.fields.length) {\n        this.isSaving = true;\n\n        this.save()\n          .then(() => {\n            window.Turbo.visit(`/templates/${this.template.id}`);\n          })\n          .finally(() => {\n            this.isSaving = false;\n          });\n      } else {\n        alert(\"Please draw fields to prepare the document.\");\n      }\n    },\n    scrollToArea(area) {\n      const documentRef = this.documentRefs.find(\n        (a) => a.document.uuid === area.attachment_uuid\n      );\n\n      documentRef.scrollToArea(area);\n\n      this.selectedAreaRef.value = area;\n    },\n    baseFetch(path, options = {}) {\n      return fetch(this.baseUrl + path, {\n        ...options,\n        headers: {\n          \"X-CSRF-Token\": this.authenticityToken,\n          ...this.fetchOptions.headers,\n          ...options.headers,\n        },\n      });\n    },\n    save({ force } = { force: false }) {\n      if (this.onChange) {\n        this.onChange(this.template);\n      }\n\n      if (!this.autosave && !force) {\n        return Promise.resolve({});\n      }\n\n      this.$nextTick(() => {\n        if (this.$el.closest(\"template-builder\")) {\n          this.$el.closest(\"template-builder\").dataset.template =\n            JSON.stringify(this.template);\n        }\n      });\n\n      this.pushUndo();\n\n      return this.baseFetch(`/templates/${this.template.id}`, {\n        method: \"PUT\",\n        body: JSON.stringify({\n          template: {\n            name: this.template.name,\n            schema: this.template.schema,\n            submitters: this.template.submitters,\n            fields: this.template.fields,\n          },\n        }),\n        headers: { \"Content-Type\": \"application/json\" },\n      }).then(() => {\n        if (this.onSave) {\n          this.onSave(this.template);\n        }\n      });\n    },\n  },\n};\n</script>\n","<template>\n  <div class=\"modal modal-open items-start !animate-none overflow-y-auto\">\n    <div\n      class=\"absolute top-0 bottom-0 right-0 left-0\"\n      @click.prevent=\"$emit('close')\"\n    />\n    <div class=\"modal-box pt-4 pb-6 px-6 mt-20 max-h-none w-full max-w-xl\">\n      <div\n        class=\"flex justify-between items-center border-b pb-2 mb-2 font-medium\"\n      >\n        <span>\n          {{ t(\"condition\") }} -\n          {{ field.name || buildDefaultName(field, template.fields) }}\n        </span>\n        <a href=\"#\" class=\"text-xl\" @click.prevent=\"$emit('close')\">&times;</a>\n      </div>\n      <div>\n        <div\n          v-if=\"!withConditions\"\n          class=\"bg-base-300 rounded-xl py-2 px-3 text-center\"\n        >\n          <a href=\"https://www.uvtsign.co/pricing\" target=\"_blank\" class=\"link\"\n            >Available in Pro</a\n          >\n        </div>\n        <form @submit.prevent=\"validateSaveAndClose\">\n          <div class=\"my-4\">\n            <div class=\"space-y-4\">\n              <select\n                class=\"select select-bordered select-sm w-full bg-white h-11 pl-4 text-base font-normal\"\n                required\n                @change=\"\n                  [\n                    (newCondition.field_uuid = $event.target.value),\n                    delete newCondition.value,\n                    conditionActions.includes(newCondition.action)\n                      ? ''\n                      : (newCondition.action = conditionActions[0]),\n                  ]\n                \"\n              >\n                <option value=\"\" disabled :selected=\"!newCondition.field_uuid\">\n                  {{ t(\"select_field_\") }}\n                </option>\n                <option\n                  v-for=\"f in fields\"\n                  :key=\"f.uuid\"\n                  :value=\"f.uuid\"\n                  :selected=\"newCondition.field_uuid === f.uuid\"\n                >\n                  {{ f.name || buildDefaultName(f, template.fields) }}\n                </option>\n              </select>\n              <select\n                v-model=\"newCondition.action\"\n                class=\"select select-bordered select-sm w-full h-11 pl-4 text-base font-normal\"\n                :class=\"{\n                  'bg-white': newCondition.field_uuid,\n                  'bg-base-300': !newCondition.field_uuid,\n                }\"\n                :required=\"newCondition.field_uuid\"\n              >\n                <option\n                  v-for=\"action in conditionActions\"\n                  :key=\"action\"\n                  :value=\"action\"\n                >\n                  {{ t(action) }}\n                </option>\n              </select>\n              <select\n                v-if=\"conditionField?.options?.length\"\n                class=\"select select-bordered select-sm w-full bg-white h-11 pl-4 text-base font-normal\"\n                required\n                @change=\"newCondition.value = $event.target.value\"\n              >\n                <option value=\"\" disabled selected>\n                  {{ t(\"select_value_\") }}\n                </option>\n                <option\n                  v-for=\"(option, index) in conditionField.options\"\n                  :key=\"option.uuid\"\n                  :value=\"option.uuid\"\n                  :selected=\"newCondition.value === option.uuid\"\n                >\n                  {{ option.value || `${t(\"option\")} ${index + 1}` }}\n                </option>\n              </select>\n            </div>\n          </div>\n          <button class=\"base-button w-full mt-2\">\n            {{ t(\"save\") }}\n          </button>\n        </form>\n        <div\n          v-if=\"field.conditions?.[0]?.field_uuid\"\n          class=\"text-center w-full mt-4\"\n        >\n          <button\n            class=\"link\"\n            @click=\"\n              [\n                (newCondition.field_uuid = null),\n                delete field.conditions,\n                validateSaveAndClose(),\n              ]\n            \"\n          >\n            {{ t(\"remove_condition\") }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ConditionModal\",\n  inject: [\"t\", \"save\", \"template\", \"withConditions\"],\n  props: {\n    field: {\n      type: Object,\n      required: true,\n    },\n    buildDefaultName: {\n      type: Function,\n      required: true,\n    },\n  },\n  emits: [\"close\"],\n  data() {\n    return {\n      newCondition: this.field.conditions?.[0] || {},\n    };\n  },\n  computed: {\n    conditionField() {\n      return this.fields.find((f) => f.uuid === this.newCondition.field_uuid);\n    },\n    conditionActions() {\n      return this.fieldActions(this.conditionField);\n    },\n    fields() {\n      return this.template.fields.reduce((acc, f) => {\n        if (\n          f !== this.field &&\n          f.submitter_uuid === this.field.submitter_uuid\n        ) {\n          acc.push(f);\n        }\n\n        return acc;\n      }, []);\n    },\n  },\n  created() {\n    this.field.conditions ||= [];\n  },\n  methods: {\n    fieldActions(field) {\n      const actions = [];\n\n      if (!field) {\n        return actions;\n      }\n\n      if (field.type === \"checkbox\") {\n        actions.push(\"checked\", \"unchecked\");\n      } else if ([\"radio\", \"select\"].includes(field.type)) {\n        actions.push(\"equal\", \"not_equal\");\n      } else if ([\"multiple\"].includes(field.type)) {\n        actions.push(\"contains\", \"does_not_contain\");\n      } else {\n        actions.push(\"not_empty\", \"empty\");\n      }\n\n      return actions;\n    },\n    validateSaveAndClose() {\n      if (!this.withConditions) {\n        return alert(\"Available only in Pro\");\n      }\n\n      if (this.newCondition.field_uuid) {\n        this.field.conditions = [this.newCondition];\n      } else {\n        delete this.field.conditions;\n      }\n\n      this.save();\n      this.$emit(\"close\");\n    },\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"group/contenteditable relative overflow-visible\"\n    :class=\"{ 'flex items-center': !iconInline }\"\n  >\n    <span\n      ref=\"contenteditable\"\n      dir=\"auto\"\n      :contenteditable=\"editable\"\n      style=\"min-width: 2px\"\n      :class=\"iconInline ? 'inline' : 'block'\"\n      class=\"peer outline-none focus:block\"\n      @keydown.enter.prevent=\"blurContenteditable\"\n      @focus=\"$emit('focus', $event)\"\n      @blur=\"onBlur\"\n    >\n      {{ value }}\n    </span>\n    <span\n      v-if=\"withRequired\"\n      title=\"Required\"\n      class=\"text-red-500 peer-focus:hidden\"\n      @click=\"focusContenteditable\"\n    >\n      *\n    </span>\n    <IconPencil\n      class=\"cursor-pointer flex-none opacity-0 group-hover/contenteditable-container:opacity-100 group-hover/contenteditable:opacity-100 align-middle peer-focus:hidden\"\n      :style=\"iconInline ? {} : { right: -(1.1 * iconWidth) + 'px' }\"\n      :title=\"t('edit')\"\n      :class=\"{ invisible: !editable, 'ml-1': !withRequired, 'absolute': !iconInline, 'inline align-bottom': iconInline }\"\n      :width=\"iconWidth\"\n      :stroke-width=\"iconStrokeWidth\"\n      @click=\"[focusContenteditable(), selectOnEditClick && selectContent()]\"\n    />\n  </div>\n</template>\n\n<script>\nimport { IconPencil } from '@tabler/icons-vue'\n\nexport default {\n  name: 'ContenteditableField',\n  components: {\n    IconPencil\n  },\n  inject: ['t'],\n  props: {\n    modelValue: {\n      type: String,\n      required: false,\n      default: ''\n    },\n    iconInline: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    iconWidth: {\n      type: Number,\n      required: false,\n      default: 30\n    },\n    withRequired: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    selectOnEditClick: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    editable: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    iconStrokeWidth: {\n      type: Number,\n      required: false,\n      default: 2\n    }\n  },\n  emits: ['update:model-value', 'focus', 'blur'],\n  data () {\n    return {\n      value: ''\n    }\n  },\n  watch: {\n    modelValue: {\n      handler (value) {\n        this.value = value\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    selectContent () {\n      const el = this.$refs.contenteditable\n\n      const range = document.createRange()\n\n      range.selectNodeContents(el)\n\n      const sel = window.getSelection()\n\n      sel.removeAllRanges()\n\n      sel.addRange(range)\n    },\n    onBlur (e) {\n      setTimeout(() => {\n        this.value = this.$refs.contenteditable.innerText.trim() || this.modelValue\n        this.$emit('update:model-value', this.value)\n        this.$emit('blur', e)\n      }, 1)\n    },\n    focusContenteditable () {\n      this.$refs.contenteditable.focus()\n    },\n    blurContenteditable () {\n      this.$refs.contenteditable.blur()\n    }\n  }\n}\n</script>\n","<template>\n  <div class=\"flex space-x-2\">\n    <Contenteditable\n      class=\"w-full block mr-6\"\n      :model-value=\"item.name\"\n      :icon-width=\"16\"\n      @update:model-value=\"onUpdateName\"\n    />\n    <ReplaceButton\n      v-if=\"withReplaceButton\"\n      :template-id=\"template.id\"\n      :accept-file-types=\"acceptFileTypes\"\n      @click.stop\n      @success=\"$emit('replace', { replaceSchemaItem: item, ...$event })\"\n    />\n    <button\n      v-if=\"withArrows\"\n      class=\"btn border-base-200 bg-white text-base-content btn-xs rounded hover:text-base-100 hover:bg-base-content hover:border-base-content w-full transition-colors\"\n      style=\"width: 24px; height: 24px\"\n      @click.stop=\"$emit('up', item)\"\n    >\n      &uarr;\n    </button>\n    <button\n      v-if=\"withArrows\"\n      class=\"btn border-base-200 bg-white text-base-content btn-xs rounded hover:text-base-100 hover:bg-base-content hover:border-base-content w-full transition-colors\"\n      style=\"width: 24px; height: 24px\"\n      @click.stop=\"$emit('down', item)\"\n    >\n      &darr;\n    </button>\n    <button\n      class=\"btn border-base-200 bg-white text-base-content btn-xs rounded hover:text-base-100 hover:bg-base-content hover:border-base-content w-full transition-colors\"\n      style=\"width: 24px; height: 24px\"\n      @click.stop=\"$emit('remove', item)\"\n    >\n      &times;\n    </button>\n  </div>\n</template>\n\n<script>\nimport Contenteditable from './contenteditable'\nimport Upload from './upload'\nimport ReplaceButton from './replace'\n\nexport default {\n  name: 'DocumentControls',\n  components: {\n    Contenteditable,\n    ReplaceButton\n  },\n  props: {\n    item: {\n      type: Object,\n      required: true\n    },\n    template: {\n      type: Object,\n      required: true\n    },\n    document: {\n      type: Object,\n      required: true\n    },\n    acceptFileTypes: {\n      type: String,\n      required: false,\n      default: 'image/*, application/pdf'\n    },\n    withReplaceButton: {\n      type: Boolean,\n      required: true,\n      default: true\n    },\n    withArrows: {\n      type: Boolean,\n      required: false,\n      default: true\n    }\n  },\n  emits: ['change', 'remove', 'up', 'down', 'replace'],\n  methods: {\n    upload: Upload.methods.upload,\n    onUpdateName (value) {\n      this.item.name = value\n\n      this.$emit('change')\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"modal modal-open items-start !animate-none overflow-y-auto\"\n  >\n    <div\n      class=\"absolute top-0 bottom-0 right-0 left-0\"\n      @click.prevent=\"$emit('close')\"\n    />\n    <div class=\"modal-box pt-4 pb-6 px-6 mt-20 max-h-none w-full max-w-xl\">\n      <div class=\"flex justify-between items-center border-b pb-2 mb-2 font-medium\">\n        <span>\n          {{ field.name || buildDefaultName(field, template.fields) }}\n        </span>\n        <a\n          href=\"#\"\n          class=\"text-xl\"\n          @click.prevent=\"$emit('close')\"\n        >&times;</a>\n      </div>\n      <div>\n        <form @submit.prevent=\"saveAndClose\">\n          <div class=\"space-y-1 mb-1\">\n            <div>\n              <label\n                dir=\"auto\"\n                class=\"label text-sm\"\n                for=\"description_field\"\n              >\n                {{ t('description') }}\n              </label>\n              <textarea\n                id=\"description_field\"\n                ref=\"textarea\"\n                v-model=\"description\"\n                dir=\"auto\"\n                class=\"base-textarea !text-base w-full\"\n                :readonly=\"!editable\"\n                @input=\"resizeTextarea\"\n              />\n            </div>\n            <div>\n              <label\n                dir=\"auto\"\n                class=\"label text-sm\"\n                for=\"title_field\"\n              >\n                {{ t('display_title') }} ({{ t('optional') }})\n              </label>\n              <input\n                id=\"title_field\"\n                v-model=\"title\"\n                dir=\"auto\"\n                :readonly=\"!editable\"\n                class=\"base-input !text-base w-full\"\n              >\n            </div>\n          </div>\n          <button\n            class=\"base-button w-full mt-4\"\n          >\n            {{ t('save') }}\n          </button>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'DescriptionModal',\n  inject: ['t', 'save', 'template'],\n  props: {\n    field: {\n      type: Object,\n      required: true\n    },\n    editable: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    buildDefaultName: {\n      type: Function,\n      required: true\n    }\n  },\n  emits: ['close'],\n  data () {\n    return {\n      description: this.field.description,\n      title: this.field.title\n    }\n  },\n  mounted () {\n    this.resizeTextarea()\n  },\n  methods: {\n    saveAndClose () {\n      this.field.description = this.description\n      this.field.title = this.title\n\n      this.save()\n      this.$emit('close')\n    },\n    resizeTextarea () {\n      const textarea = this.$refs.textarea\n\n      textarea.style.height = 'auto'\n      textarea.style.height = textarea.scrollHeight + 'px'\n    }\n  }\n}\n</script>\n","<template>\n  <div>\n    <Page\n      v-for=\"(image, index) in sortedPreviewImages\"\n      :key=\"image.id\"\n      :ref=\"setPageRefs\"\n      :number=\"index\"\n      :editable=\"editable\"\n      :areas=\"areasIndex[index]\"\n      :allow-draw=\"allowDraw\"\n      :is-drag=\"isDrag\"\n      :default-fields=\"defaultFields\"\n      :default-submitters=\"defaultSubmitters\"\n      :draw-field=\"drawField\"\n      :draw-field-type=\"drawFieldType\"\n      :selected-submitter=\"selectedSubmitter\"\n      :image=\"image\"\n      @drop-field=\"$emit('drop-field', {...$event, attachment_uuid: document.uuid })\"\n      @remove-area=\"$emit('remove-area', $event)\"\n      @scroll-to=\"scrollToArea\"\n      @draw=\"$emit('draw', {...$event, attachment_uuid: document.uuid })\"\n    />\n  </div>\n</template>\n<script>\nimport Page from './page'\n\nexport default {\n  name: 'TemplateDocument',\n  components: {\n    Page\n  },\n  props: {\n    document: {\n      type: Object,\n      required: true\n    },\n    areasIndex: {\n      type: Object,\n      required: false,\n      default: () => ({})\n    },\n    defaultFields: {\n      type: Array,\n      required: false,\n      default: () => []\n    },\n    drawFieldType: {\n      type: String,\n      required: false,\n      default: ''\n    },\n    defaultSubmitters: {\n      type: Array,\n      required: false,\n      default: () => []\n    },\n    allowDraw: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    selectedSubmitter: {\n      type: Object,\n      required: true\n    },\n    editable: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    drawField: {\n      type: Object,\n      required: false,\n      default: null\n    },\n    baseUrl: {\n      type: String,\n      required: false,\n      default: ''\n    },\n    isDrag: {\n      type: Boolean,\n      required: false,\n      default: false\n    }\n  },\n  emits: ['draw', 'drop-field', 'remove-area'],\n  data () {\n    return {\n      pageRefs: []\n    }\n  },\n  computed: {\n    basePreviewUrl () {\n      if (this.baseUrl) {\n        return new URL(this.baseUrl).origin\n      } else {\n        return ''\n      }\n    },\n    numberOfPages () {\n      return this.document.metadata?.pdf?.number_of_pages || this.document.preview_images.length\n    },\n    sortedPreviewImages () {\n      const lazyloadMetadata = this.document.preview_images[this.document.preview_images.length - 1].metadata\n\n      return [...Array(this.numberOfPages).keys()].map((i) => {\n        return this.previewImagesIndex[i] || {\n          metadata: lazyloadMetadata,\n          id: Math.random().toString(),\n          url: this.basePreviewUrl + `/preview/${this.document.signed_uuid || this.document.uuid}/${i}.jpg`\n        }\n      })\n    },\n    previewImagesIndex () {\n      return this.document.preview_images.reduce((acc, e) => {\n        acc[parseInt(e.filename)] = e\n\n        return acc\n      }, {})\n    }\n  },\n  beforeUpdate () {\n    this.pageRefs = []\n  },\n  methods: {\n    scrollToArea (area) {\n      this.$nextTick(() => {\n        this.pageRefs[area.page].areaRefs.find((e) => e.area === area).$el.scrollIntoView({ behavior: 'smooth', block: 'center' })\n      })\n    },\n    setPageRefs (el) {\n      if (el) {\n        this.pageRefs.push(el)\n      }\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"flex h-60 w-full\"\n    @dragover.prevent\n    @drop.prevent=\"onDropFiles\"\n  >\n    <label\n      class=\"w-full relative hover:bg-base-200/30 rounded-md border border-2 border-base-content/10 border-dashed\"\n      :for=\"inputId\"\n      :class=\"{ 'opacity-50': isLoading || isProcessing }\"\n    >\n      <div class=\"absolute top-0 right-0 left-0 bottom-0 flex items-center justify-center\">\n        <div class=\"flex flex-col items-center\">\n          <IconInnerShadowTop\n            v-if=\"isLoading || isProcessing\"\n            class=\"animate-spin\"\n            :width=\"40\"\n            :height=\"40\"\n          />\n          <IconCloudUpload\n            v-else\n            :width=\"40\"\n            :height=\"40\"\n          />\n          <div\n            v-if=\"message\"\n            class=\"font-medium text-lg mb-1\"\n          >\n            {{ message }}\n          </div>\n          <div class=\"text-sm\">\n            <span class=\"font-medium\">{{ t('click_to_upload') }}</span> {{ t('or_drag_and_drop_files') }}\n          </div>\n        </div>\n      </div>\n      <form\n        ref=\"form\"\n        class=\"hidden\"\n      >\n        <input\n          :id=\"inputId\"\n          ref=\"input\"\n          type=\"file\"\n          name=\"files[]\"\n          :accept=\"acceptFileTypes\"\n          multiple\n          @change=\"upload\"\n        >\n      </form>\n    </label>\n  </div>\n</template>\n\n<script>\nimport Upload from './upload'\nimport { IconCloudUpload, IconInnerShadowTop } from '@tabler/icons-vue'\n\nexport default {\n  name: 'FileDropzone',\n  components: {\n    IconCloudUpload,\n    IconInnerShadowTop\n  },\n  inject: ['baseFetch', 't'],\n  props: {\n    templateId: {\n      type: [Number, String],\n      required: true\n    },\n    acceptFileTypes: {\n      type: String,\n      required: false,\n      default: 'image/*, application/pdf'\n    }\n  },\n  emits: ['success'],\n  data () {\n    return {\n      isLoading: false,\n      isProcessing: false\n    }\n  },\n  computed: {\n    inputId () {\n      return 'el' + Math.random().toString(32).split('.')[1]\n    },\n    message () {\n      if (this.isLoading) {\n        return this.t('uploading')\n      } else if (this.isProcessing) {\n        return this.t('processing_')\n      } else if (this.acceptFileTypes === 'image/*, application/pdf') {\n        return this.t('add_pdf_documents_or_images')\n      } else {\n        return this.t('add_documents_or_images')\n      }\n    }\n  },\n  methods: {\n    upload: Upload.methods.upload,\n    onDropFiles (e) {\n      if (this.acceptFileTypes !== 'image/*, application/pdf' || [...e.dataTransfer.files].every((f) => f.type.match(/(?:image\\/)|(?:application\\/pdf)/))) {\n        this.$refs.input.files = e.dataTransfer.files\n\n        this.upload()\n      } else {\n        alert('Only PDF and images are supported.')\n      }\n    }\n  }\n}\n</script>\n","<template>\n  <div class=\"list-field group mb-2\">\n    <div\n      class=\"border border-base-300 rounded rounded-tr-none relative group\"\n      :style=\"{ backgroundColor: backgroundColor }\"\n    >\n      <div\n        class=\"flex items-center justify-between relative group/contenteditable-container\"\n      >\n        <div\n          class=\"absolute top-0 bottom-0 right-0 left-0 cursor-pointer\"\n          @click=\"scrollToFirstArea\"\n        />\n        <div class=\"flex items-center p-1 space-x-1\">\n          <FieldType\n            v-model=\"field.type\"\n            :editable=\"editable && !defaultField\"\n            :button-width=\"20\"\n            :menu-classes=\"'mt-1.5'\"\n            :menu-style=\"{ backgroundColor: dropdownBgColor }\"\n            @update:model-value=\"[maybeUpdateOptions(), save()]\"\n            @click=\"scrollToFirstArea\"\n          />\n          <Contenteditable\n            ref=\"name\"\n            :model-value=\"\n              (defaultField ? field.title || field.name : field.name) ||\n              defaultName\n            \"\n            :editable=\"editable && !defaultField\"\n            :icon-inline=\"true\"\n            :icon-width=\"18\"\n            :icon-stroke-width=\"1.6\"\n            @focus=\"[onNameFocus(), scrollToFirstArea()]\"\n            @blur=\"onNameBlur\"\n          />\n        </div>\n        <div v-if=\"isNameFocus\" class=\"flex items-center relative\">\n          <template v-if=\"field.type != 'phone'\">\n            <input\n              :id=\"`required-checkbox-${field.uuid}`\"\n              v-model=\"field.required\"\n              type=\"checkbox\"\n              class=\"checkbox checkbox-xs no-animation rounded\"\n              @mousedown.prevent\n            />\n            <label\n              :for=\"`required-checkbox-${field.uuid}`\"\n              class=\"label text-xs\"\n              @click.prevent=\"field.required = !field.required\"\n              @mousedown.prevent\n              >{{ t(\"required\") }}</label\n            >\n          </template>\n        </div>\n        <div v-else-if=\"editable\" class=\"flex items-center space-x-1\">\n          <button\n            v-if=\"field && !field.areas?.length\"\n            :title=\"t('draw')\"\n            class=\"relative cursor-pointer text-transparent group-hover:text-base-content\"\n            @click=\"$emit('set-draw', { field })\"\n          >\n            <IconNewSection :width=\"18\" :stroke-width=\"1.6\" />\n          </button>\n          <button\n            v-if=\"field.preferences?.formula\"\n            class=\"relative cursor-pointer text-transparent group-hover:text-base-content\"\n            :title=\"t('formula')\"\n            @click=\"isShowFormulaModal = true\"\n          >\n            <IconMathFunction :width=\"18\" :stroke-width=\"1.6\" />\n          </button>\n          <button\n            v-if=\"field.conditions?.length\"\n            class=\"relative cursor-pointer text-transparent group-hover:text-base-content\"\n            :title=\"t('condition')\"\n            @click=\"isShowConditionsModal = true\"\n          >\n            <IconRouteAltLeft :width=\"18\" :stroke-width=\"1.6\" />\n          </button>\n          <PaymentSettings v-if=\"field.type === 'payment'\" :field=\"field\" />\n          <span\n            v-else\n            class=\"dropdown dropdown-end\"\n            @mouseenter=\"renderDropdown = true\"\n            @touchstart=\"renderDropdown = true\"\n          >\n            <label\n              tabindex=\"0\"\n              :title=\"t('settings')\"\n              class=\"cursor-pointer text-transparent group-hover:text-base-content\"\n            >\n              <IconSettings :width=\"18\" :stroke-width=\"1.6\" />\n            </label>\n            <ul\n              v-if=\"renderDropdown\"\n              tabindex=\"0\"\n              class=\"mt-1.5 dropdown-content menu menu-xs p-2 shadow rounded-box w-52 z-10\"\n              :style=\"{ backgroundColor: dropdownBgColor }\"\n              draggable=\"true\"\n              @dragstart.prevent.stop\n              @click=\"closeDropdown\"\n            >\n              <FieldSettings\n                :field=\"field\"\n                :default-field=\"defaultField\"\n                :editable=\"editable\"\n                :background-color=\"dropdownBgColor\"\n                @click-formula=\"isShowFormulaModal = true\"\n                @click-description=\"isShowDescriptionModal = true\"\n                @click-condition=\"isShowConditionsModal = true\"\n                @set-draw=\"$emit('set-draw', $event)\"\n                @scroll-to=\"$emit('scroll-to', $event)\"\n              />\n            </ul>\n          </span>\n          <button\n            class=\"relative text-transparent group-hover:text-base-content pr-1\"\n            :title=\"t('remove')\"\n            @click=\"$emit('remove', field)\"\n          >\n            <IconTrashX :width=\"18\" :stroke-width=\"1.6\" />\n          </button>\n        </div>\n      </div>\n      <div\n        v-if=\"field.options\"\n        ref=\"options\"\n        class=\"border-t border-base-300 mx-2 pt-2 space-y-1.5\"\n        draggable=\"true\"\n        @dragstart.prevent.stop\n      >\n        <div\n          v-for=\"(option, index) in field.options\"\n          :key=\"option.uuid\"\n          class=\"flex space-x-1.5 items-center\"\n        >\n          <span class=\"text-sm w-3.5\"> {{ index + 1 }}. </span>\n          <div\n            v-if=\"\n              editable &&\n              ['radio', 'multiple'].includes(field.type) &&\n              (index > 0 ||\n                field.areas.find((a) => a.option_uuid) ||\n                !field.areas.length) &&\n              !field.areas.find((a) => a.option_uuid === option.uuid)\n            \"\n            class=\"items-center flex w-full\"\n          >\n            <input\n              v-model=\"option.value\"\n              class=\"w-full input input-primary input-xs text-sm bg-transparent !pr-7 -mr-6\"\n              type=\"text\"\n              dir=\"auto\"\n              required\n              :placeholder=\"`${t('option')} ${index + 1}`\"\n              @blur=\"save\"\n            />\n            <button\n              :title=\"t('draw')\"\n              tabindex=\"-1\"\n              @click.prevent=\"$emit('set-draw', { field, option })\"\n            >\n              <IconNewSection :width=\"18\" :stroke-width=\"1.6\" />\n            </button>\n          </div>\n          <input\n            v-else\n            v-model=\"option.value\"\n            class=\"w-full input input-primary input-xs text-sm bg-transparent\"\n            :placeholder=\"`${t('option')} ${index + 1}`\"\n            type=\"text\"\n            :readonly=\"!editable\"\n            required\n            dir=\"auto\"\n            @focus=\"maybeFocusOnOptionArea(option)\"\n            @blur=\"save\"\n          />\n          <button\n            v-if=\"editable\"\n            class=\"text-sm w-3.5\"\n            tabindex=\"-1\"\n            @click=\"removeOption(option)\"\n          >\n            &times;\n          </button>\n        </div>\n        <div v-if=\"field.options && !editable\" class=\"pb-1\" />\n        <button\n          v-else-if=\"field.options && editable\"\n          class=\"text-center text-sm w-full pb-1\"\n          @click=\"addOption\"\n        >\n          + {{ t(\"add_option\") }}\n        </button>\n      </div>\n    </div>\n    <Teleport v-if=\"isShowFormulaModal\" :to=\"modalContainerEl\">\n      <FormulaModal\n        :field=\"field\"\n        :editable=\"editable && !defaultField\"\n        :build-default-name=\"buildDefaultName\"\n        @close=\"isShowFormulaModal = false\"\n      />\n    </Teleport>\n    <Teleport v-if=\"isShowConditionsModal\" :to=\"modalContainerEl\">\n      <ConditionsModal\n        :field=\"field\"\n        :build-default-name=\"buildDefaultName\"\n        @close=\"isShowConditionsModal = false\"\n      />\n    </Teleport>\n    <Teleport v-if=\"isShowDescriptionModal\" :to=\"modalContainerEl\">\n      <DescriptionModal\n        :field=\"field\"\n        :editable=\"editable && !defaultField\"\n        :build-default-name=\"buildDefaultName\"\n        @close=\"isShowDescriptionModal = false\"\n      />\n    </Teleport>\n  </div>\n</template>\n\n<script>\nimport Contenteditable from \"./contenteditable\";\nimport FieldType from \"./field_type\";\nimport PaymentSettings from \"./payment_settings\";\nimport FieldSettings from \"./field_settings\";\nimport FormulaModal from \"./formula_modal\";\nimport ConditionsModal from \"./conditions_modal\";\nimport DescriptionModal from \"./description_modal\";\nimport {\n  IconRouteAltLeft,\n  IconMathFunction,\n  IconNewSection,\n  IconTrashX,\n  IconSettings,\n} from \"@tabler/icons-vue\";\nimport { v4 } from \"uuid\";\n\nexport default {\n  name: \"TemplateField\",\n  components: {\n    Contenteditable,\n    IconSettings,\n    FieldSettings,\n    PaymentSettings,\n    IconNewSection,\n    FormulaModal,\n    DescriptionModal,\n    ConditionsModal,\n    IconRouteAltLeft,\n    IconTrashX,\n    IconMathFunction,\n    FieldType,\n  },\n  inject: [\"template\", \"save\", \"backgroundColor\", \"selectedAreaRef\", \"t\"],\n  props: {\n    field: {\n      type: Object,\n      required: true,\n    },\n    defaultField: {\n      type: Object,\n      required: false,\n      default: null,\n    },\n    editable: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n  },\n  emits: [\"set-draw\", \"remove\", \"scroll-to\"],\n  data() {\n    return {\n      isNameFocus: false,\n      showPaymentModal: false,\n      isShowFormulaModal: false,\n      isShowConditionsModal: false,\n      isShowDescriptionModal: false,\n      renderDropdown: false,\n    };\n  },\n  computed: {\n    fieldNames: FieldType.computed.fieldNames,\n    dropdownBgColor() {\n      return [\"\", null, \"transparent\"].includes(this.backgroundColor)\n        ? \"white\"\n        : this.backgroundColor;\n    },\n    schemaAttachmentsIndexes() {\n      return (this.template.schema || []).reduce((acc, item, index) => {\n        acc[item.attachment_uuid] = index;\n\n        return acc;\n      }, {});\n    },\n    sortedAreas() {\n      return (this.field.areas || []).sort((a, b) => {\n        return (\n          this.schemaAttachmentsIndexes[a.attachment_uuid] -\n          this.schemaAttachmentsIndexes[b.attachment_uuid]\n        );\n      });\n    },\n    modalContainerEl() {\n      return this.$el.getRootNode().querySelector(\"#uvtsign_modal_container\");\n    },\n    defaultName() {\n      return this.buildDefaultName(this.field, this.template.fields);\n    },\n    areas() {\n      return this.field.areas || [];\n    },\n  },\n  created() {\n    this.field.preferences ||= {};\n\n    if (this.field.type === \"date\") {\n      this.field.preferences.format ||= Intl.DateTimeFormat()\n        .resolvedOptions()\n        .locale.endsWith(\"-US\")\n        ? \"MM/DD/YYYY\"\n        : \"DD/MM/YYYY\";\n    }\n  },\n  methods: {\n    buildDefaultName(field, fields) {\n      if (field.type === \"payment\" && field.preferences?.price) {\n        const { price, currency } = field.preferences || {};\n\n        const formattedPrice = new Intl.NumberFormat([], {\n          style: \"currency\",\n          currency,\n        }).format(price);\n\n        return `${this.fieldNames[field.type]} ${formattedPrice}`;\n      } else {\n        const typeIndex = fields\n          .filter((f) => f.type === field.type)\n          .indexOf(field);\n\n        const suffix =\n          { multiple: this.t(\"select\"), radio: this.t(\"group\") }[field.type] ||\n          this.t(\"field\");\n\n        return `${this.fieldNames[field.type]} ${suffix} ${typeIndex + 1}`;\n      }\n    },\n    onNameFocus(e) {\n      this.isNameFocus = true;\n\n      if (!this.field.name) {\n        setTimeout(() => {\n          this.$refs.name.$refs.contenteditable.innerText = \" \";\n        }, 1);\n      }\n    },\n    maybeFocusOnOptionArea(option) {\n      const area = this.field.areas.find((a) => a.option_uuid === option.uuid);\n\n      if (area) {\n        this.selectedAreaRef.value = area;\n      }\n    },\n    scrollToFirstArea() {\n      return (\n        this.sortedAreas[0] && this.$emit(\"scroll-to\", this.sortedAreas[0])\n      );\n    },\n    closeDropdown() {\n      document.activeElement.blur();\n    },\n    addOption() {\n      this.field.options.push({ value: \"\", uuid: v4() });\n\n      this.$nextTick(() => {\n        const inputs = this.$refs.options.querySelectorAll(\"input\");\n\n        inputs[inputs.length - 1]?.focus();\n      });\n\n      this.save();\n    },\n    removeOption(option) {\n      this.field.options.splice(this.field.options.indexOf(option), 1);\n\n      const optionIndex = this.field.areas.findIndex(\n        (a) => a.option_uuid === option.uuid\n      );\n\n      if (optionIndex !== -1) {\n        this.field.areas.splice(\n          this.field.areas.findIndex((a) => a.option_uuid === option.uuid),\n          1\n        );\n      }\n\n      this.save();\n    },\n    maybeUpdateOptions() {\n      delete this.field.default_value;\n\n      if (![\"radio\", \"multiple\", \"select\"].includes(this.field.type)) {\n        delete this.field.options;\n      }\n\n      if ([\"radio\", \"multiple\", \"select\"].includes(this.field.type)) {\n        this.field.options ||= [{ value: \"\", uuid: v4() }];\n      }\n\n      (this.field.areas || []).forEach((area) => {\n        if (this.field.type === \"cells\") {\n          area.cell_w = (area.w * 2) / Math.floor(area.w / area.h);\n        } else {\n          delete area.cell_w;\n        }\n      });\n    },\n    onNameBlur(e) {\n      const text = this.$refs.name.$refs.contenteditable.innerText.trim();\n\n      if (text) {\n        this.field.name = text;\n      } else {\n        this.field.name = \"\";\n        this.$refs.name.$refs.contenteditable.innerText = this.defaultName;\n      }\n\n      this.isNameFocus = false;\n\n      this.save();\n    },\n  },\n};\n</script>\n","<template>\n  <div\n    v-if=\"field.type === 'number'\"\n    class=\"py-1.5 px-1 relative\"\n    @click.stop\n  >\n    <select\n      :placeholder=\"t('format')\"\n      class=\"select select-bordered select-xs font-normal w-full max-w-xs !h-7 !outline-0 bg-transparent\"\n      @change=\"[field.preferences ||= {}, field.preferences.format = $event.target.value, save()]\"\n    >\n      <option\n        v-for=\"format in numberFormats\"\n        :key=\"format\"\n        :value=\"format\"\n        :selected=\"format === field.preferences?.format || (format === 'none' && !field.preferences?.format)\"\n      >\n        {{ formatNumber(123456789.567, format) }}\n      </option>\n    </select>\n    <label\n      :style=\"{ backgroundColor }\"\n      class=\"absolute -top-1 left-2.5 px-1 h-4\"\n      style=\"font-size: 8px\"\n    >\n      {{ t('format') }}\n    </label>\n  </div>\n  <div\n    v-if=\"['number'].includes(field.type)\"\n    class=\"py-1.5 px-1 relative\"\n    @click.stop\n  >\n    <select\n      class=\"select select-bordered select-xs w-full max-w-xs h-7 !outline-0 font-normal bg-transparent\"\n      @change=\"[field.preferences ||= {}, field.preferences.align = $event.target.value, save()]\"\n    >\n      <option\n        v-for=\"value in ['left', 'right', 'center']\"\n        :key=\"value\"\n        :selected=\"field.preferences?.align ? value === field.preferences.align : value === 'left'\"\n        :value=\"value\"\n      >\n        {{ t(value) }}\n      </option>\n    </select>\n    <label\n      :style=\"{ backgroundColor }\"\n      class=\"absolute -top-1 left-2.5 px-1 h-4\"\n      style=\"font-size: 8px\"\n    >\n      {{ t('align') }}\n    </label>\n  </div>\n  <div\n    v-if=\"['text', 'number'].includes(field.type) && !defaultField\"\n    class=\"py-1.5 px-1 relative\"\n    @click.stop\n  >\n    <input\n      v-model=\"field.default_value\"\n      :placeholder=\"t('default_value')\"\n      dir=\"auto\"\n      :type=\"field.type\"\n      class=\"input input-bordered input-xs w-full max-w-xs h-7 !outline-0 bg-transparent\"\n      @blur=\"save\"\n    >\n    <label\n      v-if=\"field.default_value\"\n      :style=\"{ backgroundColor }\"\n      class=\"absolute -top-1 left-2.5 px-1 h-4\"\n      style=\"font-size: 8px\"\n    >\n      {{ t('default_value') }}\n    </label>\n  </div>\n  <div\n    v-if=\"field.type === 'date'\"\n    class=\"py-1.5 px-1 relative\"\n    @click.stop\n  >\n    <select\n      v-model=\"field.preferences.format\"\n      :placeholder=\"t('format')\"\n      class=\"select select-bordered select-xs font-normal w-full max-w-xs !h-7 !outline-0 bg-transparent\"\n      @change=\"save\"\n    >\n      <option\n        v-for=\"format in dateFormats\"\n        :key=\"format\"\n        :value=\"format\"\n      >\n        {{ formatDate(new Date(), format) }}\n      </option>\n    </select>\n    <label\n      :style=\"{ backgroundColor }\"\n      class=\"absolute -top-1 left-2.5 px-1 h-4\"\n      style=\"font-size: 8px\"\n    >\n      {{ t('format') }}\n    </label>\n  </div>\n  <div\n    v-if=\"field.type === 'signature'\"\n    class=\"py-1.5 px-1 relative\"\n    @click.stop\n  >\n    <select\n      :placeholder=\"t('format')\"\n      class=\"select select-bordered select-xs font-normal w-full max-w-xs !h-7 !outline-0 bg-transparent\"\n      @change=\"[field.preferences.format = $event.target.value, save()]\"\n    >\n      <option\n        value=\"any\"\n        :selected=\"!field.preferences?.format || field.preferences.format === 'any'\"\n      >\n        {{ t('any') }}\n      </option>\n      <option\n        value=\"drawn\"\n        :selected=\"field.preferences?.format === 'drawn'\"\n      >\n        {{ t('drawn') }}\n      </option>\n      <option\n        value=\"typed\"\n        :selected=\"field.preferences?.format === 'typed'\"\n      >\n        {{ t('typed') }}\n      </option>\n    </select>\n    <label\n      :style=\"{ backgroundColor }\"\n      class=\"absolute -top-1 left-2.5 px-1 h-4\"\n      style=\"font-size: 8px\"\n    >\n      {{ t('format') }}\n    </label>\n  </div>\n  <li\n    v-if=\"withRequired && field.type != 'phone' && field.type != 'stamp'\"\n    @click.stop\n  >\n    <label class=\"cursor-pointer py-1.5\">\n      <input\n        v-model=\"field.required\"\n        type=\"checkbox\"\n        :disabled=\"!editable || defaultField\"\n        class=\"toggle toggle-xs\"\n        @update:model-value=\"save\"\n      >\n      <span class=\"label-text\">{{ t('required') }}</span>\n    </label>\n  </li>\n  <li\n    v-if=\"field.type == 'stamp'\"\n    @click.stop\n  >\n    <label class=\"cursor-pointer py-1.5\">\n      <input\n        :checked=\"field.preferences?.with_logo != false\"\n        type=\"checkbox\"\n        class=\"toggle toggle-xs\"\n        @change=\"[field.preferences ||= {}, field.preferences.with_logo = field.preferences.with_logo == false, save()]\"\n      >\n      <span class=\"label-text\">{{ t('with_logo') }}</span>\n    </label>\n  </li>\n  <li\n    v-if=\"field.type == 'checkbox'\"\n    @click.stop\n  >\n    <label class=\"cursor-pointer py-1.5\">\n      <input\n        v-model=\"field.default_value\"\n        type=\"checkbox\"\n        class=\"toggle toggle-xs\"\n        @update:model-value=\"[field.default_value = $event, field.readonly = $event, save()]\"\n      >\n      <span class=\"label-text\">{{ t('checked') }}</span>\n    </label>\n  </li>\n  <li\n    v-if=\"field.type == 'date'\"\n    @click.stop\n  >\n    <label class=\"cursor-pointer py-1.5\">\n      <input\n        v-model=\"field.readonly\"\n        type=\"checkbox\"\n        class=\"toggle toggle-xs\"\n        @update:model-value=\"[field.default_value = $event ? '{{date}}' : null, field.readonly = $event, save()]\"\n      >\n      <span class=\"label-text\">{{ t('set_signing_date') }}</span>\n    </label>\n  </li>\n  <li\n    v-if=\"['text', 'number'].includes(field.type) && !defaultField\"\n    @click.stop\n  >\n    <label class=\"cursor-pointer py-1.5\">\n      <input\n        v-model=\"field.readonly\"\n        type=\"checkbox\"\n        class=\"toggle toggle-xs\"\n        @update:model-value=\"save\"\n      >\n      <span class=\"label-text\">{{ t('read_only') }}</span>\n    </label>\n  </li>\n  <hr\n    v-if=\"field.type != 'stamp'\"\n    class=\"pb-0.5 mt-0.5\"\n  >\n  <li\n    v-if=\"field.type != 'stamp'\"\n  >\n    <label\n      class=\"label-text cursor-pointer text-center w-full flex items-center\"\n      @click=\"$emit('click-description')\"\n    >\n      <IconInfoCircle\n        width=\"18\"\n      />\n      <span class=\"text-sm\">\n        {{ t('description') }}\n      </span>\n    </label>\n  </li>\n  <li\n    v-if=\"field.type != 'stamp'\"\n  >\n    <label\n      class=\"label-text cursor-pointer text-center w-full flex items-center\"\n      @click=\"$emit('click-condition')\"\n    >\n      <IconRouteAltLeft\n        width=\"18\"\n      />\n      <span class=\"text-sm\">\n        {{ t('condition') }}\n      </span>\n    </label>\n  </li>\n  <li v-if=\"field.type == 'number'\">\n    <label\n      class=\"label-text cursor-pointer text-center w-full flex items-center\"\n      @click=\"$emit('click-formula')\"\n    >\n      <IconMathFunction\n        width=\"18\"\n      />\n      <span class=\"text-sm\">\n        {{ t('formula') }}\n      </span>\n    </label>\n  </li>\n  <hr class=\"pb-0.5 mt-0.5\">\n  <template v-if=\"withAreas\">\n    <li\n      v-for=\"(area, index) in sortedAreas\"\n      :key=\"index\"\n    >\n      <a\n        href=\"#\"\n        class=\"text-sm py-1 px-2\"\n        @click.prevent=\"$emit('scroll-to', area)\"\n      >\n        <IconShape\n          :width=\"20\"\n          :stroke-width=\"1.6\"\n        />\n        {{ t('page') }}\n        <template v-if=\"template.schema.length > 1\">{{ template.schema.findIndex((item) => item.attachment_uuid === area.attachment_uuid) + 1 }}-</template>{{ area.page + 1 }}\n      </a>\n    </li>\n    <li v-if=\"!field.areas?.length || !['radio', 'multiple'].includes(field.type)\">\n      <a\n        href=\"#\"\n        class=\"text-sm py-1 px-2\"\n        @click.prevent=\"$emit('set-draw', { field })\"\n      >\n        <IconNewSection\n          :width=\"20\"\n          :stroke-width=\"1.6\"\n        />\n        {{ t('draw_new_area') }}\n      </a>\n    </li>\n  </template>\n  <li v-if=\"field.areas?.length === 1 && ['date', 'signature', 'initials', 'text', 'cells'].includes(field.type)\">\n    <a\n      href=\"#\"\n      class=\"text-sm py-1 px-2\"\n      @click.prevent=\"copyToAllPages(field)\"\n    >\n      <IconCopy\n        :width=\"20\"\n        :stroke-width=\"1.6\"\n      />\n      {{ t('copy_to_all_pages') }}\n    </a>\n  </li>\n</template>\n\n<script>\nimport { IconRouteAltLeft, IconShape, IconMathFunction, IconNewSection, IconInfoCircle, IconCopy } from '@tabler/icons-vue'\n\nexport default {\n  name: 'FieldSettings',\n  components: {\n    IconShape,\n    IconInfoCircle,\n    IconMathFunction,\n    IconRouteAltLeft,\n    IconCopy,\n    IconNewSection\n  },\n  inject: ['template', 'save', 't'],\n  props: {\n    field: {\n      type: Object,\n      required: true\n    },\n    backgroundColor: {\n      type: String,\n      required: false,\n      default: null\n    },\n    defaultField: {\n      type: Object,\n      required: false,\n      default: null\n    },\n    withRequired: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    withAreas: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    editable: {\n      type: Boolean,\n      required: false,\n      default: true\n    }\n  },\n  emits: ['set-draw', 'scroll-to', 'click-formula', 'click-description', 'click-condition'],\n  data () {\n    return {\n    }\n  },\n  computed: {\n    schemaAttachmentsIndexes () {\n      return (this.template.schema || []).reduce((acc, item, index) => {\n        acc[item.attachment_uuid] = index\n\n        return acc\n      }, {})\n    },\n    numberFormats () {\n      return [\n        'none',\n        'comma',\n        'dot',\n        'space'\n      ]\n    },\n    dateFormats () {\n      const formats = [\n        'MM/DD/YYYY',\n        'DD/MM/YYYY',\n        'YYYY-MM-DD',\n        'DD-MM-YYYY',\n        'DD.MM.YYYY',\n        'MMM D, YYYY',\n        'MMMM D, YYYY',\n        'D MMM YYYY',\n        'D MMMM YYYY'\n      ]\n\n      if (Intl.DateTimeFormat().resolvedOptions().timeZone?.includes('Seoul') || navigator.language?.startsWith('ko')) {\n        formats.push('YYYY년 MM월 DD일')\n      }\n\n      if (this.field.preferences?.format && !formats.includes(this.field.preferences.format)) {\n        formats.unshift(this.field.preferences.format)\n      }\n\n      return formats\n    },\n    sortedAreas () {\n      return (this.field.areas || []).sort((a, b) => {\n        return this.schemaAttachmentsIndexes[a.attachment_uuid] - this.schemaAttachmentsIndexes[b.attachment_uuid]\n      })\n    }\n  },\n  methods: {\n    copyToAllPages (field) {\n      const areaString = JSON.stringify(field.areas[0])\n\n      this.template.documents.forEach((attachment) => {\n        const numberOfPages = attachment.metadata?.pdf?.number_of_pages || attachment.preview_images.length\n\n        for (let page = 0; page <= numberOfPages - 1; page++) {\n          if (!field.areas.find((area) => area.attachment_uuid === attachment.uuid && area.page === page)) {\n            field.areas.push({ ...JSON.parse(areaString), attachment_uuid: attachment.uuid, page })\n          }\n        }\n      })\n\n      this.$emit('scroll-to', this.field.areas[this.field.areas.length - 1])\n\n      this.save()\n    },\n    formatNumber (number, format) {\n      if (format === 'comma') {\n        return new Intl.NumberFormat('en-US').format(number)\n      } else if (format === 'dot') {\n        return new Intl.NumberFormat('de-DE').format(number)\n      } else if (format === 'space') {\n        return new Intl.NumberFormat('fr-FR').format(number)\n      } else {\n        return number\n      }\n    },\n    formatDate (date, format) {\n      const monthFormats = {\n        M: 'numeric',\n        MM: '2-digit',\n        MMM: 'short',\n        MMMM: 'long'\n      }\n\n      const dayFormats = {\n        D: 'numeric',\n        DD: '2-digit'\n      }\n\n      const yearFormats = {\n        YYYY: 'numeric',\n        YY: '2-digit'\n      }\n\n      const parts = new Intl.DateTimeFormat([], {\n        day: dayFormats[format.match(/D+/)],\n        month: monthFormats[format.match(/M+/)],\n        year: yearFormats[format.match(/Y+/)]\n      }).formatToParts(date)\n\n      return format\n        .replace(/D+/, parts.find((p) => p.type === 'day').value)\n        .replace(/M+/, parts.find((p) => p.type === 'month').value)\n        .replace(/Y+/, parts.find((p) => p.type === 'year').value)\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    v-if=\"mobileView\"\n    @mouseenter=\"renderDropdown = true\"\n    @touchstart=\"renderDropdown = true\"\n  >\n    <div class=\"flex space-x-2 items-end\">\n      <div class=\"group/contenteditable-container bg-base-100 rounded-md p-2 border border-base-300 w-full flex justify-between items-end\">\n        <div class=\"flex items-center space-x-2\">\n          <span\n            class=\"w-3 h-3 flex-shrink-0 rounded-full\"\n            :class=\"colors[submitters.indexOf(selectedSubmitter)]\"\n          />\n          <Contenteditable\n            v-model=\"selectedSubmitter.name\"\n            class=\"cursor-text\"\n            :icon-inline=\"true\"\n            :editable=\"editable\"\n            :select-on-edit-click=\"true\"\n            :icon-width=\"18\"\n            @update:model-value=\"$emit('name-change', selectedSubmitter)\"\n          />\n        </div>\n      </div>\n      <div class=\"dropdown dropdown-top dropdown-end\">\n        <label\n          tabindex=\"0\"\n          class=\"bg-base-100 cursor-pointer rounded-md p-2 border border-base-300 w-full flex justify-center\"\n        >\n          <IconChevronUp\n            width=\"24\"\n            height=\"24\"\n          />\n        </label>\n        <ul\n          v-if=\"editable && renderDropdown\"\n          tabindex=\"0\"\n          class=\"rounded-md min-w-max mb-2\"\n          :class=\"menuClasses\"\n          :style=\"menuStyle\"\n          @click=\"closeDropdown\"\n        >\n          <li\n            v-for=\"(submitter, index) in submitters\"\n            :key=\"submitter.uuid\"\n          >\n            <a\n              href=\"#\"\n              class=\"flex px-2 group justify-between items-center\"\n              :class=\"{ 'active': submitter === selectedSubmitter }\"\n              @click.prevent=\"selectSubmitter(submitter)\"\n            >\n              <span class=\"py-1 flex items-center\">\n                <span\n                  class=\"rounded-full w-3 h-3 ml-1 mr-3\"\n                  :class=\"colors[index]\"\n                />\n                <span>\n                  {{ submitter.name }}\n                </span>\n              </span>\n              <button\n                v-if=\"submitters.length > 1 && editable\"\n                class=\"px-2\"\n                @click.prevent.stop=\"remove(submitter)\"\n              >\n                <IconTrashX :width=\"18\" />\n              </button>\n            </a>\n          </li>\n          <li v-if=\"submitters.length < names.length && editable\">\n            <a\n              href=\"#\"\n              class=\"flex px-2\"\n              @click.prevent=\"addSubmitter\"\n            >\n              <IconUserPlus\n                :width=\"20\"\n                :stroke-width=\"1.6\"\n              />\n              <span class=\"py-1\">\n                {{ t('add') }} {{ names[submitters.length] }}\n              </span>\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  <div\n    v-else\n    class=\"dropdown\"\n    @mouseenter=\"renderDropdown = true\"\n    @touchstart=\"renderDropdown = true\"\n  >\n    <label\n      v-if=\"compact\"\n      tabindex=\"0\"\n      :title=\"selectedSubmitter?.name\"\n      class=\"cursor-pointer text-base-100 flex h-full items-center justify-center\"\n    >\n      <button\n        class=\"mx-1 w-3 h-3 rounded-full\"\n        :class=\"colors[submitters.indexOf(selectedSubmitter)]\"\n      />\n    </label>\n    <label\n      v-else\n      ref=\"label\"\n      tabindex=\"0\"\n      class=\"group cursor-pointer group/contenteditable-container rounded-md p-2 border border-base-300 hover:border-content w-full flex justify-between\"\n    >\n      <div class=\"flex items-center space-x-2\">\n        <span\n          class=\"w-3 h-3 rounded-full\"\n          :class=\"colors[submitters.indexOf(selectedSubmitter)]\"\n        />\n        <Contenteditable\n          v-model=\"selectedSubmitter.name\"\n          class=\"cursor-text\"\n          :icon-inline=\"true\"\n          :editable=\"editable\"\n          :select-on-edit-click=\"true\"\n          :icon-width=\"18\"\n          @update:model-value=\"$emit('name-change', selectedSubmitter)\"\n        />\n      </div>\n      <span class=\"flex items-center transition-all duration-75 group-hover:border border-base-content/20 border-dashed w-6 h-6 flex justify-center items-center rounded\">\n        <component\n          :is=\"editable ? 'IconPlus' : 'IconChevronDown'\"\n          width=\"18\"\n          height=\"18\"\n        />\n      </span>\n    </label>\n    <ul\n      v-if=\"(editable || !compact) && renderDropdown\"\n      tabindex=\"0\"\n      :class=\"menuClasses\"\n      :style=\"menuStyle\"\n      @click=\"closeDropdown\"\n    >\n      <li\n        v-for=\"(submitter, index) in submitters\"\n        :key=\"submitter.uuid\"\n      >\n        <a\n          href=\"#\"\n          class=\"flex px-2 group justify-between items-center\"\n          :class=\"{ 'active': submitter === selectedSubmitter, 'py-0.5': submitters.length > 8 }\"\n          @click.prevent=\"selectSubmitter(submitter)\"\n        >\n          <span class=\"py-1 flex items-center\">\n            <span\n              class=\"rounded-full w-3 h-3 ml-1 mr-3\"\n              :class=\"colors[index]\"\n            />\n            <span>\n              {{ submitter.name }}\n            </span>\n          </span>\n          <div\n            v-if=\"!compact && submitters.length > 1 && editable\"\n            class=\"flex\"\n          >\n            <div class=\"flex-col pr-1 hidden group-hover:flex -mt-1 h-0\">\n              <button\n                :title=\"t('up')\"\n                class=\"relative w-2\"\n                style=\"font-size: 10px; margin-bottom: -4px\"\n                @click.prevent.stop=\"[move(submitter, -1), $refs.label.focus()] \"\n              >\n                ▲\n              </button>\n              <button\n                :title=\"t('down')\"\n                class=\"relative w-2\"\n                style=\"font-size: 10px; margin-top: -4px\"\n                @click.prevent.stop=\"[move(submitter, 1), $refs.label.focus()] \"\n              >\n                ▼\n              </button>\n            </div>\n            <button\n              v-if=\"!compact && submitters.length > 1 && editable\"\n              class=\"hidden group-hover:block px-2\"\n              @click.prevent.stop=\"remove(submitter)\"\n            >\n              <IconTrashX :width=\"18\" />\n            </button>\n          </div>\n        </a>\n      </li>\n      <li v-if=\"submitters.length < names.length && editable && allowAddNew\">\n        <a\n          href=\"#\"\n          class=\"flex px-2\"\n          @click.prevent=\"addSubmitter\"\n        >\n          <IconUserPlus\n            :width=\"20\"\n            :stroke-width=\"1.6\"\n          />\n          <span class=\"py-1\">\n            {{ t('add') }} {{ names[submitters.length] }}\n          </span>\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { IconUserPlus, IconTrashX, IconPlus, IconChevronUp, IconChevronDown } from '@tabler/icons-vue'\nimport Contenteditable from './contenteditable'\nimport { v4 } from 'uuid'\n\nexport default {\n  name: 'FieldSubmitter',\n  components: {\n    IconUserPlus,\n    IconChevronDown,\n    Contenteditable,\n    IconPlus,\n    IconTrashX,\n    IconChevronUp\n  },\n  inject: ['t', 'save'],\n  props: {\n    submitters: {\n      type: Array,\n      required: true\n    },\n    editable: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    compact: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    mobileView: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    allowAddNew: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    modelValue: {\n      type: String,\n      required: true\n    },\n    menuStyle: {\n      type: Object,\n      required: false,\n      default: () => ({})\n    },\n    menuClasses: {\n      type: String,\n      required: false,\n      default: 'dropdown-content menu p-2 shadow rounded-box w-full z-10'\n    }\n  },\n  emits: ['update:model-value', 'remove', 'new-submitter', 'name-change'],\n  data () {\n    return {\n      renderDropdown: false\n    }\n  },\n  computed: {\n    colors () {\n      return [\n        'bg-red-500',\n        'bg-sky-500',\n        'bg-emerald-500',\n        'bg-yellow-300',\n        'bg-purple-600',\n        'bg-pink-500',\n        'bg-cyan-500',\n        'bg-orange-500',\n        'bg-lime-500',\n        'bg-indigo-500',\n        'bg-red-500',\n        'bg-sky-500',\n        'bg-emerald-500',\n        'bg-yellow-300',\n        'bg-purple-600',\n        'bg-pink-500',\n        'bg-cyan-500',\n        'bg-orange-500',\n        'bg-lime-500',\n        'bg-indigo-500'\n      ]\n    },\n    names () {\n      return [\n        this.t('first_party'),\n        this.t('second_party'),\n        this.t('third_party'),\n        this.t('fourth_party'),\n        this.t('fifth_party'),\n        this.t('sixth_party'),\n        this.t('seventh_party'),\n        this.t('eighth_party'),\n        this.t('ninth_party'),\n        this.t('tenth_party'),\n        this.t('eleventh_party'),\n        this.t('twelfth_party'),\n        this.t('thirteenth_party'),\n        this.t('fourteenth_party'),\n        this.t('fifteenth_party'),\n        this.t('sixteenth_party'),\n        this.t('seventeenth_party'),\n        this.t('eighteenth_party'),\n        this.t('nineteenth_party'),\n        this.t('twentieth_party')\n      ]\n    },\n    selectedSubmitter () {\n      return this.submitters.find((e) => e.uuid === this.modelValue)\n    }\n  },\n  methods: {\n    selectSubmitter (submitter) {\n      this.$emit('update:model-value', submitter.uuid)\n    },\n    remove (submitter) {\n      if (window.confirm(this.t('are_you_sure'))) {\n        this.$emit('remove', submitter)\n      }\n    },\n    move (submitter, direction) {\n      const currentIndex = this.submitters.indexOf(submitter)\n\n      this.submitters.splice(currentIndex, 1)\n\n      if (currentIndex + direction > this.submitters.length) {\n        this.submitters.unshift(submitter)\n      } else if (currentIndex + direction < 0) {\n        this.submitters.push(submitter)\n      } else {\n        this.submitters.splice(currentIndex + direction, 0, submitter)\n      }\n\n      this.selectSubmitter(submitter)\n\n      this.save()\n    },\n    addSubmitter () {\n      const newSubmitter = {\n        name: this.names[this.submitters.length],\n        uuid: v4()\n      }\n\n      this.submitters.push(newSubmitter)\n\n      this.$emit('update:model-value', newSubmitter.uuid)\n      this.$emit('new-submitter', newSubmitter)\n    },\n    closeDropdown () {\n      document.activeElement.blur()\n    }\n  }\n}\n</script>\n","<template>\n  <span\n    class=\"dropdown\"\n    @mouseenter=\"renderDropdown = true\"\n    @touchstart=\"renderDropdown = true\"\n  >\n    <slot>\n      <label\n        tabindex=\"0\"\n        :title=\"fieldNames[modelValue]\"\n        class=\"cursor-pointer\"\n      >\n        <component\n          :is=\"fieldIcons[modelValue]\"\n          :width=\"buttonWidth\"\n          :class=\"buttonClasses\"\n          :stroke-width=\"1.6\"\n        />\n      </label>\n    </slot>\n    <ul\n      v-if=\"editable && renderDropdown\"\n      tabindex=\"0\"\n      class=\"dropdown-content menu menu-xs p-2 shadow rounded-box w-52 z-10 mb-3\"\n      :style=\"menuStyle\"\n      :class=\"menuClasses\"\n      @click=\"closeDropdown\"\n    >\n      <template\n        v-for=\"(icon, type) in fieldIconsSorted\"\n        :key=\"type\"\n      >\n        <li v-if=\"(fieldTypes.length === 0 || fieldTypes.includes(type)) && (withPhone || type != 'phone') && (withPayment || type != 'payment')\">\n          <a\n            href=\"#\"\n            class=\"text-sm py-1 px-2\"\n            :class=\"{ 'active': type === modelValue }\"\n            @click.prevent=\"$emit('update:model-value', type)\"\n          >\n            <component\n              :is=\"icon\"\n              :stroke-width=\"1.6\"\n              :width=\"20\"\n            />\n            {{ fieldNames[type] }}\n          </a>\n        </li>\n      </template>\n    </ul>\n  </span>\n</template>\n\n<script>\nimport { IconTextSize, IconWritingSign, IconCalendarEvent, IconPhoto, IconCheckbox, IconPaperclip, IconSelect, IconCircleDot, IconChecks, IconColumns3, IconPhoneCheck, IconLetterCaseUpper, IconCreditCard, IconRubberStamp, IconSquareNumber1 } from '@tabler/icons-vue'\n\nexport default {\n  name: 'FiledTypeDropdown',\n  inject: ['withPhone', 'withPayment', 't', 'fieldTypes'],\n  props: {\n    modelValue: {\n      type: String,\n      required: true\n    },\n    menuClasses: {\n      type: String,\n      required: false,\n      default: 'mt-1.5 bg-base-100'\n    },\n    menuStyle: {\n      type: Object,\n      required: false,\n      default: () => ({})\n    },\n    buttonClasses: {\n      type: String,\n      required: false,\n      default: ''\n    },\n    editable: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    buttonWidth: {\n      type: Number,\n      required: false,\n      default: 18\n    }\n  },\n  emits: ['update:model-value'],\n  data () {\n    return {\n      renderDropdown: false\n    }\n  },\n  computed: {\n    fieldNames () {\n      return {\n        text: this.t('text'),\n        signature: this.t('signature'),\n        initials: this.t('initials'),\n        date: this.t('date'),\n        number: this.t('number'),\n        image: this.t('image'),\n        file: this.t('file'),\n        select: this.t('select'),\n        checkbox: this.t('checkbox'),\n        multiple: this.t('multiple'),\n        radio: this.t('radio'),\n        cells: this.t('cells'),\n        stamp: this.t('stamp'),\n        payment: this.t('payment'),\n        phone: this.t('phone')\n      }\n    },\n    fieldIcons () {\n      return {\n        text: IconTextSize,\n        signature: IconWritingSign,\n        initials: IconLetterCaseUpper,\n        date: IconCalendarEvent,\n        number: IconSquareNumber1,\n        image: IconPhoto,\n        checkbox: IconCheckbox,\n        multiple: IconChecks,\n        file: IconPaperclip,\n        radio: IconCircleDot,\n        select: IconSelect,\n        cells: IconColumns3,\n        stamp: IconRubberStamp,\n        payment: IconCreditCard,\n        phone: IconPhoneCheck\n      }\n    },\n    fieldIconsSorted () {\n      if (this.fieldTypes.length) {\n        return this.fieldTypes.reduce((acc, type) => {\n          acc[type] = this.fieldIcons[type]\n\n          return acc\n        }, {})\n      } else {\n        return this.fieldIcons\n      }\n    }\n  },\n  methods: {\n    closeDropdown () {\n      document.activeElement.blur()\n    }\n  }\n}\n</script>\n","<template>\n  <div :class=\"withStickySubmitters ? 'sticky top-0 z-10' : ''\">\n    <FieldSubmitter\n      :model-value=\"selectedSubmitter.uuid\"\n      class=\"roles-dropdown w-full rounded-lg\"\n      :style=\"withStickySubmitters ? { backgroundColor } : {}\"\n      :submitters=\"submitters\"\n      :menu-style=\"{\n        backgroundColor: ['', null, 'transparent'].includes(backgroundColor)\n          ? 'white'\n          : backgroundColor,\n      }\"\n      :editable=\"editable && !defaultSubmitters.length\"\n      @new-submitter=\"save\"\n      @remove=\"removeSubmitter\"\n      @name-change=\"save\"\n      @update:model-value=\"\n        $emit(\n          'change-submitter',\n          submitters.find((s) => s.uuid === $event)\n        )\n      \"\n    />\n  </div>\n  <div\n    ref=\"fields\"\n    class=\"fields mb-1 mt-2\"\n    @dragover.prevent=\"onFieldDragover\"\n    @drop=\"reorderFields\"\n  >\n    <Field\n      v-for=\"field in submitterFields\"\n      :key=\"field.uuid\"\n      :data-uuid=\"field.uuid\"\n      :field=\"field\"\n      :type-index=\"fields.filter((f) => f.type === field.type).indexOf(field)\"\n      :editable=\"\n        editable &&\n        (!fieldsDragFieldRef.value || fieldsDragFieldRef.value !== field)\n      \"\n      :default-field=\"defaultFields.find((f) => f.name === field.name)\"\n      :draggable=\"editable\"\n      @dragstart=\"fieldsDragFieldRef.value = field\"\n      @dragend=\"fieldsDragFieldRef.value = null\"\n      @remove=\"removeField\"\n      @scroll-to=\"$emit('scroll-to-area', $event)\"\n      @set-draw=\"$emit('set-draw', $event)\"\n    />\n  </div>\n  <div v-if=\"submitterDefaultFields.length && editable\">\n    <hr class=\"mb-2\" />\n    <template v-if=\"isShowFieldSearch\">\n      <input\n        v-model=\"defaultFieldsSearch\"\n        :placeholder=\"t('search_field')\"\n        class=\"input input-ghost input-xs px-0 text-base mb-2 !outline-0 !rounded bg-transparent w-full\"\n      />\n      <hr class=\"mb-2\" />\n    </template>\n    <div\n      class=\"overflow-auto relative\"\n      :style=\"{\n        maxHeight: isShowFieldSearch ? '210px' : '',\n        minHeight: isShowFieldSearch ? '210px' : '',\n      }\"\n    >\n      <div\n        v-if=\"!filteredSubmitterDefaultFields.length && defaultFieldsSearch\"\n        class=\"top-0 bottom-0 text-center absolute flex items-center justify-center w-full flex-col\"\n      >\n        <div>\n          {{ t(\"field_not_found\") }}\n        </div>\n        <a href=\"#\" class=\"link\" @click.prevent=\"defaultFieldsSearch = ''\">\n          {{ t(\"clear\") }}\n        </a>\n      </div>\n      <template\n        v-for=\"field in filteredSubmitterDefaultFields\"\n        :key=\"field.name\"\n      >\n        <div\n          :style=\"{ backgroundColor }\"\n          draggable=\"true\"\n          class=\"default-field border border-base-300 rounded rounded-tr-none relative group mb-2\"\n          @dragstart=\"onDragstart({ type: 'text', ...field })\"\n          @dragend=\"$emit('drag-end')\"\n        >\n          <div class=\"flex items-center justify-between relative cursor-grab\">\n            <div class=\"flex items-center p-1 space-x-1\">\n              <IconDrag />\n              <FieldType\n                :model-value=\"field.type || 'text'\"\n                :editable=\"false\"\n                :button-width=\"20\"\n              />\n              <span class=\"block pl-0.5\">\n                {{ field.title || field.name }}\n              </span>\n            </div>\n            <span\n              v-if=\"defaultRequiredFields.includes(field)\"\n              :data-tip=\"t('required')\"\n              class=\"text-red-400 text-3xl pr-1.5 tooltip tooltip-left h-8\"\n            >\n              *\n            </span>\n          </div>\n        </div>\n      </template>\n    </div>\n  </div>\n  <div\n    v-if=\"editable && !onlyDefinedFields\"\n    class=\"grid grid-cols-3 gap-1 pb-2\"\n  >\n    <template v-for=\"(icon, type) in fieldIconsSorted\" :key=\"type\">\n      <button\n        v-if=\"\n          (fieldTypes.length === 0 || fieldTypes.includes(type)) &&\n          (withPhone || type != 'phone') &&\n          (withPayment || type != 'payment')\n        \"\n        draggable=\"true\"\n        class=\"field-type-button group flex items-center justify-center border border-dashed w-full rounded relative\"\n        :style=\"{ backgroundColor }\"\n        :class=\"\n          drawFieldType === type\n            ? 'border-base-content/40'\n            : 'border-base-300 hover:border-base-content/20'\n        \"\n        @dragstart=\"onDragstart({ type: type })\"\n        @dragend=\"$emit('drag-end')\"\n        @click=\"\n          ['file', 'payment'].includes(type)\n            ? $emit('add-field', type)\n            : $emit('set-draw-type', type)\n        \"\n      >\n        <div\n          class=\"flex items-console transition-all cursor-grab h-full absolute left-0\"\n          :class=\"\n            drawFieldType === type\n              ? 'bg-base-200/50'\n              : 'group-hover:bg-base-200/50'\n          \"\n        >\n          <IconDrag class=\"my-auto\" />\n        </div>\n        <div class=\"flex items-center flex-col px-2 py-2\">\n          <component :is=\"icon\" />\n          <span class=\"text-xs mt-1\">\n            {{ fieldNames[type] }}\n          </span>\n        </div>\n      </button>\n      <div\n        v-else-if=\"\n          type == 'phone' &&\n          (fieldTypes.length === 0 || fieldTypes.includes(type))\n        \"\n        class=\"tooltip tooltip-bottom flex\"\n        :class=\"{\n          'tooltip-bottom-end': withPayment,\n          'tooltip-bottom': !withPayment,\n        }\"\n        data-tip=\"Unlock SMS-verified phone number field with paid plan. Use text field for phone numbers without verification.\"\n      >\n        <a\n          href=\"https://www.uvtsign.co/pricing\"\n          target=\"_blank\"\n          class=\"opacity-50 flex items-center justify-center border border-dashed border-base-300 w-full rounded relative\"\n          :style=\"{ backgroundColor }\"\n        >\n          <div class=\"w-0 absolute left-0\">\n            <IconLock width=\"18\" height=\"18\" stroke-width=\"1.5\" />\n          </div>\n          <div class=\"flex items-center flex-col px-2 py-2\">\n            <component :is=\"icon\" />\n            <span class=\"text-xs mt-1\">\n              {{ fieldNames[type] }}\n            </span>\n          </div>\n        </a>\n      </div>\n    </template>\n  </div>\n  <div\n    v-if=\"fields.length < 4 && editable && withHelp\"\n    class=\"text-xs p-2 border border-base-200 rounded\"\n  >\n    <ul class=\"list-disc list-outside ml-3\">\n      <li>Draw a text field on the page with a mouse</li>\n      <li>Drag &amp; drop any other field type on the page</li>\n      <li>Click on the field type above to start drawing it</li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport Field from \"./field\";\nimport FieldType from \"./field_type\";\nimport FieldSubmitter from \"./field_submitter\";\nimport { IconLock, IconCirclePlus } from \"@tabler/icons-vue\";\nimport IconDrag from \"./icon_drag\";\n\nexport default {\n  name: \"TemplateFields\",\n  components: {\n    Field,\n    FieldType,\n    IconCirclePlus,\n    FieldSubmitter,\n    IconDrag,\n    IconLock,\n  },\n  inject: [\n    \"save\",\n    \"backgroundColor\",\n    \"withPhone\",\n    \"withPayment\",\n    \"t\",\n    \"fieldsDragFieldRef\",\n  ],\n  props: {\n    fields: {\n      type: Array,\n      required: true,\n    },\n    withHelp: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n    editable: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n    defaultFields: {\n      type: Array,\n      required: false,\n      default: () => [],\n    },\n    defaultRequiredFields: {\n      type: Array,\n      required: false,\n      default: () => [],\n    },\n    onlyDefinedFields: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n    drawFieldType: {\n      type: String,\n      required: false,\n      default: \"\",\n    },\n    defaultSubmitters: {\n      type: Array,\n      required: false,\n      default: () => [],\n    },\n    withStickySubmitters: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n    fieldTypes: {\n      type: Array,\n      required: false,\n      default: () => [],\n    },\n    submitters: {\n      type: Array,\n      required: true,\n    },\n    selectedSubmitter: {\n      type: Object,\n      required: true,\n    },\n  },\n  emits: [\n    \"add-field\",\n    \"set-draw\",\n    \"set-draw-type\",\n    \"set-drag\",\n    \"drag-end\",\n    \"scroll-to-area\",\n    \"change-submitter\",\n  ],\n  data() {\n    return {\n      defaultFieldsSearch: \"\",\n    };\n  },\n  computed: {\n    fieldNames: FieldType.computed.fieldNames,\n    fieldIcons: FieldType.computed.fieldIcons,\n    isShowFieldSearch() {\n      return this.submitterDefaultFields.length > 15;\n    },\n    fieldIconsSorted() {\n      if (this.fieldTypes.length) {\n        return this.fieldTypes.reduce((acc, type) => {\n          acc[type] = this.fieldIcons[type];\n\n          return acc;\n        }, {});\n      } else {\n        return this.fieldIcons;\n      }\n    },\n    submitterFields() {\n      return this.fields.filter(\n        (f) => f.submitter_uuid === this.selectedSubmitter.uuid\n      );\n    },\n    submitterDefaultFields() {\n      return this.defaultFields.filter((f) => {\n        return (\n          !this.submitterFields.find((field) => field.name === f.name) &&\n          (!f.role || f.role === this.selectedSubmitter.name)\n        );\n      });\n    },\n    filteredSubmitterDefaultFields() {\n      if (this.defaultFieldsSearch) {\n        return this.submitterDefaultFields.filter((f) =>\n          f.name.toLowerCase().includes(this.defaultFieldsSearch.toLowerCase())\n        );\n      } else {\n        return this.submitterDefaultFields;\n      }\n    },\n  },\n  methods: {\n    onDragstart(field) {\n      this.$emit(\"set-drag\", field);\n    },\n    onFieldDragover(e) {\n      const targetField = e.target.closest(\"[data-uuid]\");\n      const dragField = this.$refs.fields.querySelector(\n        `[data-uuid=\"${this.fieldsDragFieldRef.value.uuid}\"]`\n      );\n\n      if (dragField && targetField && targetField !== dragField) {\n        const fields = Array.from(this.$refs.fields.children);\n        const currentIndex = fields.indexOf(dragField);\n        const targetIndex = fields.indexOf(targetField);\n\n        if (currentIndex < targetIndex) {\n          targetField.after(dragField);\n        } else {\n          targetField.before(dragField);\n        }\n      }\n    },\n    reorderFields() {\n      Array.from(this.$refs.fields.children).forEach((el, index) => {\n        if (el.dataset.uuid !== this.fields[index].uuid) {\n          const field = this.fields.find((f) => f.uuid === el.dataset.uuid);\n\n          this.fields.splice(this.fields.indexOf(field), 1);\n          this.fields.splice(index, 0, field);\n        }\n      });\n\n      this.save();\n    },\n    removeSubmitter(submitter) {\n      [...this.fields].forEach((field) => {\n        if (field.submitter_uuid === submitter.uuid) {\n          this.removeField(field);\n        }\n      });\n\n      this.submitters.splice(this.submitters.indexOf(submitter), 1);\n\n      if (this.selectedSubmitter === submitter) {\n        this.$emit(\"change-submitter\", this.submitters[0]);\n      }\n\n      this.save();\n    },\n    removeField(field) {\n      this.fields.splice(this.fields.indexOf(field), 1);\n\n      this.fields.forEach((f) => {\n        (f.conditions || []).forEach((c) => {\n          if (c.field_uuid === field.uuid) {\n            f.conditions.splice(f.conditions.indexOf(c), 1);\n          }\n        });\n      });\n\n      this.save();\n    },\n  },\n};\n</script>\n","<template>\n  <div class=\"modal modal-open items-start !animate-none overflow-y-auto\">\n    <div\n      class=\"absolute top-0 bottom-0 right-0 left-0\"\n      @click.prevent=\"$emit('close')\"\n    />\n    <div class=\"modal-box pt-4 pb-6 px-6 mt-20 max-h-none w-full max-w-xl\">\n      <div\n        class=\"flex justify-between items-center border-b pb-2 mb-2 font-medium\"\n      >\n        <span>\n          {{ t(\"formula\") }} -\n          {{ field.name || buildDefaultName(field, template.fields) }}\n        </span>\n        <a href=\"#\" class=\"text-xl\" @click.prevent=\"$emit('close')\">&times;</a>\n      </div>\n      <div>\n        <div\n          v-if=\"!withFormula\"\n          class=\"bg-base-300 rounded-xl py-2 px-3 text-center\"\n        >\n          <a href=\"https://www.uvtsign.co/pricing\" target=\"_blank\" class=\"link\"\n            >Available in Pro</a\n          >\n        </div>\n        <div class=\"flex-inline mb-2 gap-2 space-y-1\">\n          <button\n            v-for=\"f in fields\"\n            :key=\"f.uuid\"\n            class=\"mr-1 btn btn-neutral btn-outline border-base-content/20 btn-sm normal-case font-normal bg-white !rounded-xl\"\n            @click.prevent=\"\n              insertTextUnderCursor(\n                `{{${f.name || buildDefaultName(f, template.fields)}}}`\n              )\n            \"\n          >\n            <IconCodePlus width=\"20\" height=\"20\" stroke-width=\"1.5\" />\n            {{ f.name || buildDefaultName(f, template.fields) }}\n          </button>\n        </div>\n        <div>\n          <div class=\"flex\">\n            <textarea\n              ref=\"textarea\"\n              v-model=\"formula\"\n              class=\"base-textarea !rounded-xl !text-base font-mono w-full !outline-0 !ring-0 !px-3\"\n              :readonly=\"!editable\"\n              required=\"true\"\n              @input=\"resizeTextarea\"\n            />\n          </div>\n          <div class=\"mb-3 mt-1\">\n            <div target=\"blank\" class=\"text-sm mb-2 inline space-x-2\">\n              <button\n                class=\"bg-base-200 px-2 rounded-xl\"\n                @click=\"insertTextUnderCursor(' + ')\"\n              >\n                +\n              </button>\n              <button\n                class=\"bg-base-200 px-2 rounded-xl\"\n                @click=\"insertTextUnderCursor(' - ')\"\n              >\n                -\n              </button>\n              <button\n                class=\"bg-base-200 px-2 rounded-xl\"\n                @click=\"insertTextUnderCursor(' * ')\"\n              >\n                *\n              </button>\n              <button\n                class=\"bg-base-200 px-2 rounded-xl\"\n                @click=\"insertTextUnderCursor(' / ')\"\n              >\n                /\n              </button>\n              <button\n                class=\"bg-base-200 px-2 rounded-xl\"\n                @click=\"insertTextUnderCursor(' % ')\"\n              >\n                %\n              </button>\n              <button\n                class=\"bg-base-200 px-2 rounded-xl\"\n                @click=\"insertTextUnderCursor('^')\"\n              >\n                ^\n              </button>\n              <button\n                class=\"bg-base-200 px-2 rounded-xl\"\n                @click=\"insertTextUnderCursor('round()')\"\n              >\n                round(n, d)\n              </button>\n              <button\n                class=\"bg-base-200 px-2 rounded-xl\"\n                @click=\"insertTextUnderCursor('abs()')\"\n              >\n                abs(n)\n              </button>\n            </div>\n          </div>\n        </div>\n        <button\n          class=\"base-button w-full\"\n          @click.prevent=\"validateSaveAndClose\"\n        >\n          {{ t(\"save\") }}\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { IconCodePlus } from \"@tabler/icons-vue\";\n\nexport default {\n  name: \"FormulaModal\",\n  components: {\n    IconCodePlus,\n  },\n  inject: [\"t\", \"save\", \"template\", \"withFormula\"],\n  props: {\n    field: {\n      type: Object,\n      required: true,\n    },\n    editable: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n    buildDefaultName: {\n      type: Function,\n      required: true,\n    },\n  },\n  emits: [\"close\"],\n  data() {\n    return {\n      formula: \"\",\n    };\n  },\n  computed: {\n    fields() {\n      return this.template.fields.reduce((acc, f) => {\n        if (\n          f !== this.field &&\n          f.submitter_uuid === this.field.submitter_uuid &&\n          [\"number\"].includes(f.type) &&\n          !f.preferences?.formula\n        ) {\n          acc.push(f);\n        }\n\n        return acc;\n      }, []);\n    },\n  },\n  created() {\n    this.field.preferences ||= {};\n  },\n  mounted() {\n    this.formula = this.humanizeFormula(this.field.preferences.formula || \"\");\n  },\n  methods: {\n    humanizeFormula(text) {\n      return text.replace(/{{(.*?)}}/g, (match, uuid) => {\n        const foundField = this.fields.find((f) => f.uuid === uuid);\n\n        if (foundField) {\n          return `{{${\n            foundField.name ||\n            this.buildDefaultName(foundField, this.template.fields)\n          }}}`;\n        } else {\n          return \"{{FIELD NOT FOUND}}\";\n        }\n      });\n    },\n    normalizeFormula(text) {\n      return text.replace(/{{(.*?)}}/g, (match, name) => {\n        const foundField = this.fields.find((f) => {\n          return (\n            (\n              f.name || this.buildDefaultName(f, this.template.fields)\n            ).trim() === name.trim()\n          );\n        });\n\n        if (foundField) {\n          return `{{${foundField.uuid}}}`;\n        } else {\n          return \"{{FIELD NOT FOUND}}\";\n        }\n      });\n    },\n    validateSaveAndClose() {\n      if (!this.withFormula) {\n        return alert(\"Available only in Pro\");\n      }\n\n      const normalizedFormula = this.normalizeFormula(this.formula);\n\n      if (normalizedFormula.includes(\"FIELD NOT FOUND\")) {\n        alert(\"Some fields are missing in the formula.\");\n      } else {\n        this.field.preferences.formula = normalizedFormula;\n        this.field.readonly = !!normalizedFormula;\n\n        this.save();\n\n        this.$emit(\"close\");\n      }\n    },\n    insertTextUnderCursor(textToInsert) {\n      const textarea = this.$refs.textarea;\n\n      const selectionEnd = textarea.selectionEnd;\n      const cursorPos = selectionEnd;\n\n      const newText =\n        textarea.value.substring(0, cursorPos) +\n        textToInsert +\n        textarea.value.substring(cursorPos);\n\n      this.formula = newText;\n\n      textarea.setSelectionRange(\n        cursorPos + textToInsert.length,\n        cursorPos + textToInsert.length\n      );\n\n      textarea.focus();\n    },\n    resizeTextarea() {\n      const textarea = this.$refs.textarea;\n\n      textarea.style.height = \"auto\";\n      textarea.style.height = textarea.scrollHeight + \"px\";\n    },\n  },\n};\n</script>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"18\"\n    viewBox=\"0 0 24 24\"\n    stroke-width=\"1.5\"\n    stroke=\"currentColor\"\n    fill=\"none\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n  >\n    <path\n      stroke=\"none\"\n      d=\"M0 0h24v24H0z\"\n      fill=\"none\"\n    />\n    <path d=\"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0\" />\n    <path d=\"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0\" />\n    <path d=\"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0\" />\n    <path d=\"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0\" />\n    <path d=\"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0\" />\n    <path d=\"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0\" />\n  </svg>\n</template>\n\n<script>\nexport default {\n  name: 'DragIcon'\n}\n</script>\n","<template>\n  <div>\n    <div v-if=\"selectedSheetIndex === null && spreadsheet\">\n      <form @submit.prevent=\"[selectedSheetIndex = $refs.selectWorksheet.value, buildDefaultMappings()]\">\n        <label class=\"label\">\n          Select Worksheet\n        </label>\n        <select\n          ref=\"selectWorksheet\"\n          class=\"base-select\"\n        >\n          <option\n            v-for=\"(sheet, index) in spreadsheet\"\n            :key=\"index\"\n            :value=\"index\"\n          >\n            {{ sheet[0] || index }}\n          </option>\n        </select>\n        <button class=\"base-button mt-4 w-full\">\n          Open\n        </button>\n      </form>\n    </div>\n    <div v-else-if=\"selectedSheetIndex !== null\">\n      <div\n        v-for=\"submitter in submitters\"\n        :key=\"submitter.uuid\"\n        class=\"mb-4\"\n      >\n        <div\n          v-if=\"submitters.length > 1\"\n          class=\"px-3 border-y py-2 border-base-300 text-center w-full\"\n        >\n          {{ submitter.name }}\n        </div>\n        <div class=\"flex\">\n          <div class=\"relative w-full py-2 px-2 text-sm\">\n            Recipient field\n          </div>\n          <div class=\"relative w-full py-2 pl-4 text-sm\">\n            Spreadsheet column\n          </div>\n        </div>\n        <div\n          v-for=\"mapping in mappings.filter((m) => m.submitter_uuid === submitter.uuid)\"\n          :key=\"mapping.uuid\"\n          class=\"mb-2\"\n        >\n          <div class=\"flex\">\n            <select\n              class=\"base-select !select-sm !h-10\"\n              required\n              @change=\"mapping.field_name = $event.target.value\"\n            >\n              <option\n                disabled\n                value=\"\"\n                :selected=\"!mapping.field_name\"\n              >\n                Select Field\n              </option>\n              <option\n                v-for=\"(field, index) in selectFieldsForSubmitter(submitter)\"\n                :key=\"index\"\n                :value=\"field.name\"\n                :selected=\"mapping.field_name === field.name\"\n              >\n                {{ field.name }}\n              </option>\n            </select>\n            <div class=\"flex items-center px-1\">\n              <IconArrowsHorizontal style=\"width: 19px; height: 19px\" />\n            </div>\n            <div class=\"w-full relative\">\n              <select\n                class=\"base-select !select-sm !h-10\"\n                required\n                @change=\"mapping.column_index = parseInt($event.target.value)\"\n              >\n                <option\n                  disabled\n                  value=\"\"\n                  :selected=\"mapping.column_index == null\"\n                >\n                  Select Column\n                </option>\n                <template\n                  v-for=\"(column, index) in columns\"\n                  :key=\"index\"\n                >\n                  <option\n                    v-if=\"column\"\n                    :value=\"index\"\n                    :selected=\"index === mapping.column_index\"\n                  >\n                    {{ column }}\n                  </option>\n                </template>\n              </select>\n              <div\n                v-if=\"mapping.column_index != null\"\n                class=\"absolute top-0 bottom-0 right-1 flex items-center\"\n              >\n                <span\n                  class=\"tooltip tooltip-bottom-end pr-1 tooltip-pre\"\n                  style=\"padding-top: 2px\"\n                  :data-tip=\"[0, 1, 2].map((i) => rows[i]?.[mapping.column_index] ?? '---').join('\\n')\"\n                >\n                  <button\n                    class=\"btn btn-xs btn-circle bg-white border-0 border-gray-300\"\n                    @click.prevent\n                  >\n                    <IconInfoCircle class=\"h-4 w-4\" />\n                  </button>\n                </span>\n              </div>\n            </div>\n            <div class=\"flex items-center pl-1\">\n              <span\n                class=\"tooltip tooltip-top\"\n                data-tip=\"Remove\"\n              >\n                <button\n                  :disabled=\"mappings.filter((m) => m.submitter_uuid === submitter.uuid).length < 2\"\n                  class=\"btn btn-xs btn-circle\"\n                  @click.prevent=\"mappings.splice(mappings.indexOf(mapping), 1)\"\n                >\n                  <IconX class=\"h-3.5 w-3.5\" />\n                </button>\n              </span>\n            </div>\n          </div>\n        </div>\n        <div>\n          <button\n            class=\"btn btn-sm btn-primary w-full !normal-case font-medium\"\n            @click.prevent=\"addMapping(submitter)\"\n          >\n            <IconPlus class=\"w-4 h-4\" />\n            New Field Mapping\n          </button>\n        </div>\n      </div>\n      <div>\n        <input\n          name=\"submissions_json\"\n          hidden\n          :value=\"JSON.stringify(submissionsData.slice(0, 1100))\"\n        >\n      </div>\n      <div\n        class=\"px-3 border-y py-2 border-base-300 text-center w-full text-sm font-semibold\"\n      >\n        Total entries: {{ submissionsData.length }}\n        <template v-if=\"submissionsData.length >= 1000\">\n          / 1000\n        </template>\n      </div>\n    </div>\n    <div\n      v-else\n    >\n      <div\n        class=\"flex h-52 w-full\"\n        @dragover.prevent\n        @drop.prevent=\"onDropFiles\"\n      >\n        <label\n          class=\"w-full relative bg-base-200/20  hover:bg-base-200/30 rounded-md border border-2 border-base-content/10 border-dashed\"\n          for=\"import_list_file\"\n          :class=\"{ 'opacity-50': isLoading }\"\n        >\n          <div class=\"absolute top-0 right-0 left-0 bottom-0 flex items-center justify-center\">\n            <div class=\"flex flex-col items-center\">\n              <IconInnerShadowTop\n                v-if=\"isLoading\"\n                class=\"animate-spin\"\n                :width=\"40\"\n                :height=\"40\"\n              />\n              <IconCloudUpload\n                v-else\n                :width=\"40\"\n                :height=\"40\"\n              />\n              <div\n                class=\"font-medium text-lg mb-1\"\n              >\n                Upload CSV or XLSX Spreadsheet\n              </div>\n              <div class=\"text-sm\">\n                <span class=\"font-medium\">Click to Upload</span> or drag and drop files.\n              </div>\n            </div>\n          </div>\n          <form\n            ref=\"form\"\n            class=\"hidden\"\n          >\n            <input\n              id=\"import_list_file\"\n              ref=\"input\"\n              type=\"file\"\n              name=\"file\"\n              accept=\".xlsx, .xls, .csv\"\n              @change=\"onSelectFile\"\n            >\n          </form>\n        </label>\n      </div>\n      <div class=\"text-center mt-2\">\n        Or <a\n          :download=\"`${template.name}.csv`\"\n          :href=\"`data:text/csv;base64,${csvBase64}`\"\n          class=\"link font-medium\"\n        >download</a> a spreadsheet to fill and import\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { IconCloudUpload, IconX, IconPlus, IconArrowsHorizontal, IconInfoCircle, IconInnerShadowTop } from '@tabler/icons-vue'\nimport { v4 } from 'uuid'\n\nexport default {\n  name: 'FileDropzone',\n  components: {\n    IconCloudUpload,\n    IconX,\n    IconArrowsHorizontal,\n    IconPlus,\n    IconInfoCircle,\n    IconInnerShadowTop\n  },\n  props: {\n    template: {\n      type: Object,\n      required: true\n    },\n    authenticityToken: {\n      type: String,\n      required: false,\n      default: ''\n    }\n  },\n  data () {\n    return {\n      isLoading: false,\n      spreadsheet: null,\n      selectedSheetIndex: null,\n      mappings: []\n    }\n  },\n  computed: {\n    table () {\n      return this.spreadsheet[this.selectedSheetIndex][1]\n    },\n    submissionsData () {\n      const submissions = []\n\n      this.rows.forEach((row) => {\n        const submittersIndex = {}\n\n        this.mappings.forEach((mapping) => {\n          if (mapping.field_name && mapping.column_index != null) {\n            submittersIndex[mapping.submitter_uuid] ||= { uuid: mapping.submitter_uuid, fields: [] }\n\n            if (['name', 'email', 'phone'].includes(mapping.field_name.toLowerCase())) {\n              submittersIndex[mapping.submitter_uuid][mapping.field_name.toLowerCase()] = row[mapping.column_index]\n            } else {\n              submittersIndex[mapping.submitter_uuid].fields.push({\n                name: mapping.field_name, default_value: row[mapping.column_index], readonly: true\n              })\n            }\n          }\n        })\n\n        if (Object.keys(submittersIndex).length !== 0) {\n          submissions.push({ submitters: Object.values(submittersIndex) })\n        }\n      })\n\n      return submissions\n    },\n    csvBase64 () {\n      const rows = []\n\n      this.submitters.forEach((submitter) => {\n        this.selectFieldsForSubmitter(submitter).forEach((field) => {\n          rows.push(this.submitters.length > 1 ? `${submitter.name} - ${field.name}` : field.name)\n        })\n      })\n\n      const csv = rows.map(item => {\n        if (/[\",\\n]/.test(item)) {\n          return `\"${item.replace(/\"/g, '\"\"')}\"`\n        } else {\n          return item\n        }\n      }).join(',')\n\n      return window.btoa(window.unescape(window.encodeURIComponent(csv + '\\n' + rows.map(() => '').join(',') + '\\n')))\n    },\n    submitters () {\n      return this.template.submitters\n    },\n    columns () {\n      return this.table[0]\n    },\n    form () {\n      return this.$el.closest('form')\n    },\n    fieldTypes () {\n      return ['text', 'cells', 'date', 'number', 'radio', 'select', 'checkbox']\n    },\n    defaultFields () {\n      return [\n        { name: 'Name' },\n        { name: 'Email' },\n        { name: 'Phone' }\n      ]\n    },\n    rows () {\n      return this.table.slice(1)\n    }\n  },\n  watch: {\n    selectedSheetIndex (value) {\n      if (value !== null) {\n        document.getElementById('list_form_buttons')?.classList?.remove('hidden')\n      }\n    }\n  },\n  methods: {\n    onDropFiles (e) {\n      this.uploadFile(e.dataTransfer.files[0])\n    },\n    onSelectFile (e) {\n      this.uploadFile(e.target.files[0])\n    },\n    addMapping (submitter) {\n      this.mappings.push({ uuid: v4(), field_name: '', column_index: null, submitter_uuid: submitter.uuid })\n    },\n    selectFieldsForSubmitter (submitter) {\n      const templateFields = this.template.fields.filter((field) => {\n        return field.submitter_uuid === submitter.uuid &&\n          field.name &&\n          this.fieldTypes.includes(field.type) &&\n          this.defaultFields.every((f) => field.name?.toLowerCase() !== f.name?.toLowerCase())\n      })\n\n      return [...this.defaultFields, ...templateFields]\n    },\n    buildDefaultMappings () {\n      this.submitters.forEach((submitter) => {\n        const fields = this.selectFieldsForSubmitter(submitter)\n\n        fields.forEach((field) => {\n          const columnIndex = this.columns.findIndex((column, index) => {\n            return column &&\n              column.toString().toLowerCase().includes(field.name?.toLowerCase()) &&\n              this.mappings.every((m) => m.column_index !== index)\n          })\n\n          if (columnIndex !== -1) {\n            this.mappings.push({ uuid: v4(), field_name: field.name, column_index: columnIndex, submitter_uuid: submitter.uuid })\n          }\n        })\n\n        if (!this.mappings.some((m) => m.field_name.toLowerCase() === 'name' && m.submitter_uuid === submitter.uuid)) {\n          this.mappings.unshift({ uuid: v4(), field_name: 'Name', submitter_uuid: submitter.uuid })\n        }\n\n        if (!this.mappings.some((m) => m.field_name.toLowerCase() === 'email' && m.submitter_uuid === submitter.uuid)) {\n          this.mappings.unshift({ uuid: v4(), field_name: 'Email', submitter_uuid: submitter.uuid })\n        }\n      })\n    },\n    uploadFile (file) {\n      this.isLoading = true\n\n      const formData = new FormData()\n\n      formData.append('file', file)\n\n      return fetch('/upload_spreadsheet', {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'X-CSRF-Token': this.authenticityToken\n        }\n      }).then(resp => resp.json()).then((data) => {\n        if (data.error) {\n          return alert(data.error)\n        }\n\n        this.spreadsheet = data\n\n        if (data.length === 1) {\n          this.selectedSheetIndex = 0\n\n          this.buildDefaultMappings()\n        }\n      }).finally(() => {\n        this.isLoading = false\n      })\n    }\n  }\n}\n</script>\n","<template>\n  <svg\n    height=\"40\"\n    width=\"40\"\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n    viewBox=\"0 0 511.998 511.998\"\n    xml:space=\"preserve\"\n  >\n    <path\n      style=\"fill:#AA968C;\"\n      d=\"M503.999,247.999c0,128.13-111.033,240-248,240S8,376.129,8,247.999s111.033-224,248-224\n    S503.999,119.869,503.999,247.999z\"\n    />\n    <path\n      style=\"fill:#AA968C;\"\n      d=\"M255.999,23.999C119.033,23.999,8,119.868,8,247.999c0,24.631,4.138,48.647,11.74,71.397\n    c25.518,34.29,66.232,56.602,112.26,56.602c53.893,0,100.6-30.495,124-75.13c23.4,44.636,70.107,75.13,124,75.13\n    c46.028,0,86.743-22.312,112.26-56.602c7.602-22.75,11.74-46.767,11.74-71.397C503.999,119.868,392.966,23.999,255.999,23.999z\"\n    />\n    <circle\n      style=\"fill:#C8AF9B;\"\n      cx=\"256\"\n      cy=\"351.999\"\n      r=\"136\"\n    />\n    <g>\n      <circle\n        style=\"fill:#464655;\"\n        cx=\"132\"\n        cy=\"203.999\"\n        r=\"28\"\n      />\n      <circle\n        style=\"fill:#464655;\"\n        cx=\"380\"\n        cy=\"203.999\"\n        r=\"28\"\n      />\n      <path\n        style=\"fill:#464655;\"\n        d=\"M269.949,284.516c-7.672,10.741-20.227,10.741-27.899,0l-12.101-16.941\n      c-7.672-10.741-3.15-19.53,10.05-19.53h32c13.2,0,17.723,8.788,10.05,19.53L269.949,284.516z\"\n      />\n    </g>\n    <path\n      style=\"fill:#AA968C;\"\n      d=\"M 350.964 399.998 C 316.628 399.998 299.021 351.998 255.882 351.998 C 212.742 351.998 195.135 399.998 160.801 399.998 C 145.395 399.998 131.723 394.147 120.621 374.798 C 131.595 439.03 187.893 487.998 255.881 487.998 C 323.868 487.998 380.168 439.03 391.14 374.798 C 380.04 394.148 366.368 399.998 350.964 399.998 Z\"\n    />\n    <g>\n      <path\n        style=\"fill:#8C7873;\"\n        d=\"M32,423.998c-3.172,0-6.18-1.906-7.43-5.031c-1.641-4.105,0.359-8.758,4.461-10.402l160.008-64\n      c4.062-1.617,8.758,0.352,10.398,4.457s-0.359,8.758-4.461,10.402l-160.008,64C34,423.811,32.992,423.998,32,423.998z\"\n      />\n      <path\n        style=\"fill:#8C7873;\"\n        d=\"M15.992,375.995c-3.547,0-6.781-2.375-7.727-5.965c-1.125-4.273,1.422-8.648,5.695-9.773l152-40\n      c4.289-1.121,8.648,1.426,9.773,5.703c1.125,4.273-1.422,8.648-5.695,9.773l-152,40C17.351,375.913,16.672,375.995,15.992,375.995z\n      \"\n      />\n      <path\n        style=\"fill:#8C7873;\"\n        d=\"M7.992,335.995c-3.812,0-7.187-2.73-7.867-6.609c-0.773-4.352,2.133-8.5,6.484-9.27l136-24\n      c4.328-0.77,8.508,2.141,9.266,6.488c0.773,4.352-2.133,8.5-6.484,9.27l-136,24C8.922,335.956,8.453,335.995,7.992,335.995z\"\n      />\n      <path\n        style=\"fill:#8C7873;\"\n        d=\"M480,423.998c3.172,0,6.18-1.906,7.43-5.031c1.641-4.105-0.359-8.758-4.461-10.402l-160.008-64\n      c-4.063-1.617-8.758,0.352-10.398,4.457s0.359,8.758,4.461,10.402l160.008,64C478,423.811,479.007,423.998,480,423.998z\"\n      />\n      <path\n        style=\"fill:#8C7873;\"\n        d=\"M496.007,375.995c3.547,0,6.781-2.375,7.727-5.965c1.125-4.273-1.422-8.648-5.695-9.773l-152-40\n      c-4.289-1.121-8.648,1.426-9.773,5.703c-1.125,4.273,1.422,8.648,5.695,9.773l152,40\n      C494.648,375.913,495.328,375.995,496.007,375.995z\"\n      />\n      <path\n        style=\"fill:#8C7873;\"\n        d=\"M504.007,335.995c3.813,0,7.188-2.73,7.867-6.609c0.773-4.352-2.133-8.5-6.484-9.27l-136-24\n      c-4.328-0.77-8.508,2.141-9.266,6.488c-0.773,4.352,2.133,8.5,6.484,9.27l136,24C503.078,335.956,503.546,335.995,504.007,335.995z\n      \"\n      />\n    </g>\n  </svg>\n</template>\n\n<script>\nexport default {\n  name: 'ProjectLogo'\n}\n</script>\n","<template>\n  <div class=\"absolute text-center w-full bottom-0 pr-3 mb-4\">\n    <span class=\"w-full bg-base-200 px-4 py-2 rounded-md inline-flex space-x-2 mx-auto items-center justify-between mb-2 z-20 md:hidden\">\n      <div class=\"flex items-center space-x-2\">\n        <component\n          :is=\"fieldIcons[drawField.type]\"\n          :width=\"20\"\n          :height=\"20\"\n          class=\"inline\"\n          :stroke-width=\"1.6\"\n        />\n        <span>{{ t('draw_field').replace('{field}', fieldNames[drawField.type]) }}</span>\n      </div>\n      <a\n        href=\"#\"\n        class=\"link block text-center\"\n        @click.prevent=\"$emit('cancel')\"\n      >\n        {{ t('cancel') }}\n      </a>\n    </span>\n    <FieldSubmitter\n      :model-value=\"selectedSubmitter.uuid\"\n      :submitters=\"submitters\"\n      :editable=\"editable\"\n      :mobile-view=\"true\"\n      :menu-style=\"{ backgroundColor: ['', null, 'transparent'].includes(backgroundColor) ? 'white' : backgroundColor }\"\n      @new-submitter=\"save\"\n      @remove=\"removeSubmitter\"\n      @name-change=\"save\"\n      @update:model-value=\"$emit('change-submitter', submitters.find((s) => s.uuid === $event))\"\n    />\n  </div>\n</template>\n\n<script>\nimport Field from './field'\nimport FieldType from './field_type'\nimport FieldSubmitter from './field_submitter'\n\nexport default {\n  name: 'MobileDrawField',\n  components: {\n    Field,\n    FieldSubmitter\n  },\n  inject: ['save', 't', 'backgroundColor'],\n  props: {\n    drawField: {\n      type: Object,\n      required: true\n    },\n    editable: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    submitters: {\n      type: Array,\n      required: true\n    },\n    fields: {\n      type: Array,\n      required: true\n    },\n    selectedSubmitter: {\n      type: Object,\n      required: true\n    }\n  },\n  emits: ['change-submitter', 'cancel'],\n  computed: {\n    fieldNames: FieldType.computed.fieldNames,\n    fieldIcons: FieldType.computed.fieldIcons\n  },\n  methods: {\n    removeSubmitter (submitter) {\n      [...this.fields].forEach((field) => {\n        if (field.submitter_uuid === submitter.uuid) {\n          this.removeField(field)\n        }\n      })\n\n      this.submitters.splice(this.submitters.indexOf(submitter), 1)\n\n      if (this.selectedSubmitter === submitter) {\n        this.$emit('change-submitter', this.submitters[0])\n      }\n\n      this.save()\n    },\n    removeField (field) {\n      this.fields.splice(this.fields.indexOf(field), 1)\n\n      this.save()\n    }\n  }\n}\n</script>\n","<template>\n  <span\n    class=\"dropdown dropdown-top dropdown-end absolute bottom-4 right-4 z-10 md:hidden\"\n  >\n    <label\n      class=\"btn btn-neutral text-white btn-circle btn-lg group\"\n      tabindex=\"0\"\n    >\n      <IconPlus\n        class=\"group-focus:hidden\"\n        width=\"28\"\n        height=\"28\"\n      />\n      <IconX\n        class=\"hidden group-focus:inline\"\n        width=\"28\"\n        height=\"28\"\n      />\n    </label>\n    <ul\n      tabindex=\"0\"\n      class=\"dropdown-content menu menu-xs p-2 shadow rounded-box w-52 z-10 mb-3 mt-1.5 bg-base-100\"\n      @click=\"closeDropdown\"\n    >\n      <template v-if=\"submitterDefaultFields.length\">\n        <template\n          v-for=\"field in submitterDefaultFields\"\n          :key=\"field.name\"\n        >\n          <li>\n            <a\n              href=\"#\"\n              class=\"text-sm py-1 px-2\"\n              @click.prevent=\"$emit('select', { name: field.name || '', type: field.type || 'text' })\"\n            >\n              <component\n                :is=\"fieldIcons[field.type || 'text']\"\n                :stroke-width=\"1.6\"\n                :width=\"20\"\n              />\n              {{ field.title || field.name }}\n              <span\n                v-if=\"defaultRequiredFields.includes(field)\"\n                :data-tip=\"t('required')\"\n                class=\"text-red-400 text-2xl tooltip tooltip-left h-6\"\n              >\n                *\n              </span>\n            </a>\n          </li>\n        </template>\n      </template>\n      <template v-else>\n        <template\n          v-for=\"(icon, type) in fieldIcons\"\n          :key=\"type\"\n        >\n          <li v-if=\"(fieldTypes.length === 0 || fieldTypes.includes(type)) && (withPhone || type != 'phone') && (withPayment || type != 'payment')\">\n            <a\n              href=\"#\"\n              class=\"text-sm py-1 px-2\"\n              :class=\"{ 'active': type === modelValue }\"\n              @click.prevent=\"$emit('select', { type })\"\n            >\n              <component\n                :is=\"icon\"\n                :stroke-width=\"1.6\"\n                :width=\"20\"\n              />\n              {{ fieldNames[type] }}\n            </a>\n          </li>\n        </template>\n      </template>\n    </ul>\n  </span>\n</template>\n<script>\nimport { IconPlus, IconX } from '@tabler/icons-vue'\nimport FieldType from './field_type'\n\nexport default {\n  name: 'MobileFields',\n  components: {\n    IconPlus,\n    IconX\n  },\n  inject: ['withPhone', 'withPayment', 'backgroundColor', 't'],\n  props: {\n    modelValue: {\n      type: String,\n      required: false,\n      default: ''\n    },\n    fields: {\n      type: Array,\n      required: false,\n      default: () => []\n    },\n    selectedSubmitter: {\n      type: Object,\n      required: true\n    },\n    fieldTypes: {\n      type: Array,\n      required: false,\n      default: () => []\n    },\n    defaultRequiredFields: {\n      type: Array,\n      required: false,\n      default: () => []\n    },\n    defaultFields: {\n      type: Array,\n      required: false,\n      default: () => []\n    }\n  },\n  emits: ['select'],\n  computed: {\n    ...FieldType.computed,\n    submitterFields () {\n      return this.fields.filter((f) => f.submitter_uuid === this.selectedSubmitter.uuid)\n    },\n    submitterDefaultFields () {\n      return this.defaultFields.filter((f) => {\n        return (!f.role || f.role === this.selectedSubmitter.name)\n      })\n    }\n  },\n  methods: {\n    closeDropdown () {\n      document.activeElement.blur()\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"relative cursor-crosshair select-none\"\n    :style=\"drawField ? 'touch-action: none' : ''\"\n  >\n    <img\n      ref=\"image\"\n      loading=\"lazy\"\n      :src=\"image.url\"\n      :width=\"width\"\n      :height=\"height\"\n      class=\"border rounded mb-4\"\n      @load=\"onImageLoad\"\n    >\n    <div\n      class=\"top-0 bottom-0 left-0 right-0 absolute\"\n      @pointerdown=\"onStartDraw\"\n    >\n      <FieldArea\n        v-for=\"(item, i) in areas\"\n        :key=\"i\"\n        :ref=\"setAreaRefs\"\n        :area=\"item.area\"\n        :field=\"item.field\"\n        :editable=\"editable\"\n        :default-field=\"defaultFields.find((f) => f.name === item.field.name)\"\n        :default-submitters=\"defaultSubmitters\"\n        @start-resize=\"resizeDirection = $event\"\n        @stop-resize=\"resizeDirection = null\"\n        @start-drag=\"isMove = true\"\n        @stop-drag=\"isMove = false\"\n        @remove=\"$emit('remove-area', item.area)\"\n        @scroll-to=\"$emit('scroll-to', $event)\"\n      />\n      <FieldArea\n        v-if=\"newArea\"\n        :is-draw=\"true\"\n        :field=\"{ submitter_uuid: selectedSubmitter.uuid, type: drawField?.type || defaultFieldType }\"\n        :area=\"newArea\"\n      />\n    </div>\n    <div\n      v-show=\"resizeDirection || isMove || isDrag || showMask || (drawField && isMobile) || fieldsDragFieldRef.value\"\n      id=\"mask\"\n      ref=\"mask\"\n      class=\"top-0 bottom-0 left-0 right-0 absolute\"\n      :class=\"{ 'z-10': !isMobile, 'cursor-grab': isDrag || isMove, 'cursor-nwse-resize': drawField, [resizeDirectionClasses[resizeDirection]]: !!resizeDirectionClasses }\"\n      @pointermove=\"onPointermove\"\n      @pointerdown=\"onStartDraw\"\n      @dragover.prevent\n      @drop=\"onDrop\"\n      @pointerup=\"onPointerup\"\n    />\n  </div>\n</template>\n\n<script>\nimport FieldArea from './area'\n\nexport default {\n  name: 'TemplatePage',\n  components: {\n    FieldArea\n  },\n  inject: ['fieldTypes', 'defaultDrawFieldType', 'fieldsDragFieldRef'],\n  props: {\n    image: {\n      type: Object,\n      required: true\n    },\n    areas: {\n      type: Array,\n      required: false,\n      default: () => []\n    },\n    defaultFields: {\n      type: Array,\n      required: false,\n      default: () => []\n    },\n    drawFieldType: {\n      type: String,\n      required: false,\n      default: ''\n    },\n    allowDraw: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    selectedSubmitter: {\n      type: Object,\n      required: true\n    },\n    defaultSubmitters: {\n      type: Array,\n      required: false,\n      default: () => []\n    },\n    drawField: {\n      type: Object,\n      required: false,\n      default: null\n    },\n    editable: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    isDrag: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    number: {\n      type: Number,\n      required: true\n    }\n  },\n  emits: ['draw', 'drop-field', 'remove-area', 'scroll-to'],\n  data () {\n    return {\n      areaRefs: [],\n      showMask: false,\n      isMove: false,\n      resizeDirection: null,\n      newArea: null\n    }\n  },\n  computed: {\n    defaultFieldType () {\n      if (this.drawFieldType) {\n        return this.drawFieldType\n      } else if (this.defaultDrawFieldType && this.defaultDrawFieldType !== 'text') {\n        return this.defaultDrawFieldType\n      } else if (this.fieldTypes.length !== 0 && !this.fieldTypes.includes('text')) {\n        return this.fieldTypes[0]\n      } else {\n        return 'text'\n      }\n    },\n    isMobile () {\n      return /android|iphone|ipad/i.test(navigator.userAgent)\n    },\n    resizeDirectionClasses () {\n      return {\n        nwse: 'cursor-nwse-resize',\n        ew: 'cursor-ew-resize'\n      }\n    },\n    width () {\n      return this.image.metadata.width\n    },\n    height () {\n      return this.image.metadata.height\n    }\n  },\n  beforeUpdate () {\n    this.areaRefs = []\n  },\n  methods: {\n    onImageLoad (e) {\n      e.target.setAttribute('width', e.target.naturalWidth)\n      e.target.setAttribute('height', e.target.naturalHeight)\n    },\n    setAreaRefs (el) {\n      if (el) {\n        this.areaRefs.push(el)\n      }\n    },\n    onDrop (e) {\n      this.$emit('drop-field', {\n        x: e.offsetX,\n        y: e.offsetY,\n        maskW: this.$refs.mask.clientWidth,\n        maskH: this.$refs.mask.clientHeight,\n        page: this.number\n      })\n    },\n    onStartDraw (e) {\n      if (!this.allowDraw) {\n        return\n      }\n\n      if (this.isMobile && !this.drawField) {\n        return\n      }\n\n      if (!this.editable) {\n        return\n      }\n\n      this.showMask = true\n\n      this.$nextTick(() => {\n        this.newArea = {\n          initialX: e.offsetX / this.$refs.mask.clientWidth,\n          initialY: e.offsetY / this.$refs.mask.clientHeight,\n          x: e.offsetX / this.$refs.mask.clientWidth,\n          y: e.offsetY / this.$refs.mask.clientHeight,\n          w: 0,\n          h: 0\n        }\n      })\n    },\n    onPointermove (e) {\n      if (this.newArea) {\n        const dx = e.offsetX / this.$refs.mask.clientWidth - this.newArea.initialX\n        const dy = e.offsetY / this.$refs.mask.clientHeight - this.newArea.initialY\n\n        if (dx > 0) {\n          this.newArea.x = this.newArea.initialX\n        } else {\n          this.newArea.x = e.offsetX / this.$refs.mask.clientWidth\n        }\n\n        if (dy > 0) {\n          this.newArea.y = this.newArea.initialY\n        } else {\n          this.newArea.y = e.offsetY / this.$refs.mask.clientHeight\n        }\n\n        if ((this.drawField?.type || this.drawFieldType) === 'cells') {\n          this.newArea.cell_w = this.newArea.h * (this.$refs.mask.clientHeight / this.$refs.mask.clientWidth)\n        }\n\n        this.newArea.w = Math.abs(dx)\n        this.newArea.h = Math.abs(dy)\n      }\n    },\n    onPointerup (e) {\n      if (this.newArea) {\n        const area = {\n          x: this.newArea.x,\n          y: this.newArea.y,\n          w: this.newArea.w,\n          h: this.newArea.h,\n          page: this.number\n        }\n\n        if ('cell_w' in this.newArea) {\n          area.cell_w = this.newArea.cell_w\n        }\n\n        this.$emit('draw', area)\n      }\n\n      this.showMask = false\n      this.newArea = null\n    }\n  }\n}\n</script>\n","<template>\n  <span\n    class=\"dropdown dropdown-end\"\n    :class=\"{\n      'dropdown-open':\n        (!field.preferences?.price || !isConnected) && !isLoading,\n    }\"\n  >\n    <label\n      tabindex=\"0\"\n      :title=\"t('settings')\"\n      class=\"cursor-pointer text-transparent group-hover:text-base-content\"\n    >\n      <IconSettings :width=\"18\" :stroke-width=\"1.6\" />\n    </label>\n    <ul\n      tabindex=\"0\"\n      class=\"mt-1.5 dropdown-content menu menu-xs p-2 shadow bg-base-100 rounded-box w-52 z-10\"\n      draggable=\"true\"\n      @dragstart.prevent.stop\n      @click=\"closeDropdown\"\n    >\n      <div class=\"py-1.5 px-1 relative\" @click.stop>\n        <select\n          v-model=\"field.preferences.currency\"\n          placeholder=\"Price\"\n          class=\"select select-bordered select-xs font-normal w-full max-w-xs !h-7 !outline-0\"\n          @change=\"save\"\n        >\n          <option\n            v-for=\"currency in currenciesList\"\n            :key=\"currency\"\n            :value=\"currency\"\n          >\n            {{ currency }}\n          </option>\n        </select>\n        <label\n          :style=\"{ backgroundColor: backgroundColor }\"\n          class=\"absolute -top-1 left-2.5 px-1 h-4\"\n          style=\"font-size: 8px\"\n        >\n          Currency\n        </label>\n      </div>\n      <div class=\"py-1.5 px-1 relative\" @click.stop>\n        <input\n          v-model=\"field.preferences.price\"\n          type=\"number\"\n          placeholder=\"Price\"\n          class=\"input input-bordered input-xs w-full max-w-xs h-7 !outline-0\"\n          @blur=\"save\"\n        />\n        <label\n          v-if=\"field.preferences.price\"\n          :style=\"{ backgroundColor: backgroundColor }\"\n          class=\"absolute -top-1 left-2.5 px-1 h-4\"\n          style=\"font-size: 8px\"\n        >\n          Price\n        </label>\n      </div>\n      <div\n        v-if=\"!isConnected || isOauthSuccess\"\n        class=\"py-1.5 px-1 relative\"\n        @click.stop\n      >\n        <div v-if=\"isConnected && isOauthSuccess\" class=\"text-sm text-center\">\n          <IconCircleCheck class=\"inline text-green-600 w-4 h-4\" />\n          Stripe Connected\n        </div>\n        <form\n          v-if=\"!isConnected\"\n          data-turbo=\"false\"\n          action=\"/auth/stripe_connect\"\n          accept-charset=\"UTF-8\"\n          target=\"_blank\"\n          method=\"post\"\n        >\n          <input\n            type=\"hidden\"\n            name=\"state\"\n            :value=\"oauthState\"\n            autocomplete=\"off\"\n          />\n          <input\n            type=\"hidden\"\n            name=\"redirect_uri\"\n            :value=\"redirectUri\"\n            autocomplete=\"off\"\n          />\n          <input\n            type=\"hidden\"\n            name=\"scope\"\n            value=\"read_write\"\n            autocomplete=\"off\"\n          />\n          <input\n            type=\"hidden\"\n            name=\"authenticity_token\"\n            :value=\"authenticityToken\"\n            autocomplete=\"off\"\n          />\n          <button\n            type=\"submit\"\n            :disabled=\"isLoading\"\n            class=\"btn bg-[#7B73FF] hover:bg-[#0A2540] btn-sm text-white w-full\"\n          >\n            <span v-if=\"isLoading\" class=\"flex items-center space-x-1\">\n              <IconInnerShadowTop class=\"w-4 h-4 animate-spin inline\" />\n              <span> Connect Stripe </span>\n            </span>\n            <span v-else class=\"flex items-center space-x-1\">\n              <IconBrandStripe class=\"w-4 h-4 inline\" />\n              <span> Connect Stripe </span>\n            </span>\n          </button>\n        </form>\n        <a\n          v-if=\"!isConnected\"\n          class=\"block link text-center mt-1\"\n          href=\"https://www.uvtsign.co/blog/accept-payments-and-request-signatures-with-ease\"\n          target=\"_blank\"\n          data-turbo=\"false\"\n          >Learn more</a\n        >\n      </div>\n    </ul>\n  </span>\n</template>\n\n<script>\nimport {\n  IconSettings,\n  IconCircleCheck,\n  IconBrandStripe,\n  IconInnerShadowTop,\n} from \"@tabler/icons-vue\";\nimport { ref } from \"vue\";\n\nconst isConnected = ref(false);\n\nexport default {\n  name: \"PaymentSettings\",\n  components: {\n    IconSettings,\n    IconCircleCheck,\n    IconInnerShadowTop,\n    IconBrandStripe,\n  },\n  inject: [\"backgroundColor\", \"save\", \"currencies\", \"t\", \"isPaymentConnected\"],\n  props: {\n    field: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      isLoading: false,\n    };\n  },\n  computed: {\n    isConnected: () => isConnected.value,\n    isOauthSuccess() {\n      return document.location.search?.includes(\"stripe_connect_success\");\n    },\n    redirectUri() {\n      return document.location.origin + \"/auth/stripe_connect/callback\";\n    },\n    defaultCurrencies() {\n      return [\"USD\", \"EUR\", \"GBP\"];\n    },\n    currenciesList() {\n      return this.currencies.length ? this.currencies : this.defaultCurrencies;\n    },\n    authenticityToken() {\n      return document.querySelector('meta[name=\"csrf-token\"]')?.content;\n    },\n    oauthState() {\n      const params = new URLSearchParams(\"\");\n\n      params.set(\"redir\", document.location.href);\n\n      return params.toString();\n    },\n    defaultCurrency() {\n      const userTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n      if (userTimezone.startsWith(\"Europe\")) {\n        return \"EUR\";\n      } else if (\n        userTimezone.includes(\"London\") ||\n        userTimezone.includes(\"Belfast\")\n      ) {\n        return \"GBP\";\n      } else {\n        return \"USD\";\n      }\n    },\n  },\n  created() {\n    this.field.preferences ||= {};\n  },\n  mounted() {\n    this.field.preferences.currency ||= this.defaultCurrency;\n\n    isConnected.value ||= this.isPaymentConnected;\n\n    if (!this.isConnected) {\n      this.checkStatus();\n    }\n  },\n  methods: {\n    checkStatus() {\n      this.isLoading = true;\n\n      fetch(\"/api/stripe_connect\")\n        .then(async (resp) => {\n          const { status } = await resp.json();\n\n          if (status === \"connected\") {\n            isConnected.value = true;\n          }\n        })\n        .finally(() => {\n          this.isLoading = false;\n        });\n    },\n    closeDropdown() {\n      document.activeElement.blur();\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <div class=\"relative\">\n      <img\n        :src=\"previewImage.url\"\n        :width=\"previewImage.metadata.width\"\n        :height=\"previewImage.metadata.height\"\n        class=\"rounded border\"\n        loading=\"lazy\"\n      >\n      <div\n        class=\"group flex justify-end cursor-pointer top-0 bottom-0 left-0 right-0 absolute p-1\"\n        @click=\"$emit('scroll-to', item)\"\n      >\n        <div\n          v-if=\"editable\"\n          class=\"flex justify-between w-full\"\n        >\n          <div style=\"width: 26px\" />\n          <div class=\"\">\n            <ReplaceButton\n              v-if=\"withReplaceButton\"\n              :template-id=\"template.id\"\n              :accept-file-types=\"acceptFileTypes\"\n              class=\"opacity-0 group-hover:opacity-100\"\n              @click.stop\n              @success=\"$emit('replace', { replaceSchemaItem: item, ...$event })\"\n            />\n          </div>\n          <div\n            class=\"flex flex-col justify-between opacity-0 group-hover:opacity-100\"\n          >\n            <div>\n              <button\n                class=\"btn border-base-200 bg-white text-base-content btn-xs rounded hover:text-base-100 hover:bg-base-content hover:border-base-content w-full transition-colors\"\n                style=\"width: 24px; height: 24px\"\n                @click.stop=\"$emit('remove', item)\"\n              >\n                &times;\n              </button>\n            </div>\n            <div\n              v-if=\"withArrows\"\n              class=\"flex flex-col space-y-1\"\n            >\n              <button\n                class=\"btn border-base-200 bg-white text-base-content btn-xs rounded hover:text-base-100 hover:bg-base-content hover:border-base-content w-full transition-colors\"\n                style=\"width: 24px; height: 24px\"\n                @click.stop=\"$emit('up', item)\"\n              >\n                &uarr;\n              </button>\n              <button\n                class=\"btn border-base-200 bg-white text-base-content btn-xs rounded hover:text-base-100 hover:bg-base-content hover:border-base-content w-full transition-colors\"\n                style=\"width: 24px; height: 24px\"\n                @click.stop=\"$emit('down', item)\"\n              >\n                &darr;\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"flex pb-2 pt-1.5\">\n      <Contenteditable\n        :model-value=\"item.name\"\n        :icon-width=\"16\"\n        :editable=\"editable\"\n        style=\"max-width: 95%\"\n        class=\"mx-auto\"\n        @update:model-value=\"onUpdateName\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Contenteditable from './contenteditable'\nimport Upload from './upload'\nimport ReplaceButton from './replace'\n\nexport default {\n  name: 'DocumentPreview',\n  components: {\n    Contenteditable,\n    ReplaceButton\n  },\n  props: {\n    item: {\n      type: Object,\n      required: true\n    },\n    template: {\n      type: Object,\n      required: true\n    },\n    document: {\n      type: Object,\n      required: true\n    },\n    editable: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    acceptFileTypes: {\n      type: String,\n      required: false,\n      default: 'image/*, application/pdf'\n    },\n    withReplaceButton: {\n      type: Boolean,\n      required: true,\n      default: true\n    },\n    withArrows: {\n      type: Boolean,\n      required: false,\n      default: true\n    }\n  },\n  emits: ['scroll-to', 'change', 'remove', 'up', 'down', 'replace'],\n  computed: {\n    previewImage () {\n      return [...this.document.preview_images].sort((a, b) => parseInt(a.filename) - parseInt(b.filename))[0]\n    }\n  },\n  methods: {\n    upload: Upload.methods.upload,\n    onUpdateName (value) {\n      this.item.name = value\n\n      this.$emit('change')\n    }\n  }\n}\n</script>\n","<template>\n  <label\n    :for=\"inputId\"\n    class=\"btn btn-neutral btn-xs text-white transition-none\"\n    :class=\"{ 'opacity-100': isLoading || isProcessing }\"\n  >\n    {{ message }}\n    <form\n      ref=\"form\"\n      class=\"hidden\"\n    >\n      <input\n        :id=\"inputId\"\n        ref=\"input\"\n        name=\"files[]\"\n        type=\"file\"\n        :accept=\"acceptFileTypes\"\n        @change=\"upload\"\n      >\n    </form>\n  </label>\n</template>\n\n<script>\nimport Upload from './upload'\n\nexport default {\n  name: 'ReplaceDocument',\n  inject: ['baseFetch', 't'],\n  props: {\n    templateId: {\n      type: [Number, String],\n      required: true\n    },\n    acceptFileTypes: {\n      type: String,\n      required: false,\n      default: 'image/*, application/pdf'\n    }\n  },\n  emits: ['success'],\n  data () {\n    return {\n      isLoading: false,\n      isProcessing: false\n    }\n  },\n  computed: {\n    inputId () {\n      return 'el' + Math.random().toString(32).split('.')[1]\n    },\n    message () {\n      if (this.isLoading) {\n        return this.t('uploading_')\n      } else if (this.isProcessing) {\n        return this.t('processing_')\n      } else {\n        return this.t('replace')\n      }\n    }\n  },\n  methods: {\n    upload: Upload.methods.upload\n  }\n}\n</script>\n","<template>\n  <div>\n    <label\n      :for=\"inputId\"\n      class=\"btn btn-outline w-full\"\n      :class=\"{ 'btn-disabled': isLoading || isProcessing }\"\n    >\n      <IconInnerShadowTop\n        v-if=\"isLoading || isProcessing\"\n        width=\"20\"\n        class=\"animate-spin\"\n      />\n      <IconUpload\n        v-else\n        width=\"20\"\n      />\n      <span v-if=\"isLoading\">\n        {{ t('uploading_') }}\n      </span>\n      <span v-else-if=\"isProcessing\">\n        {{ t('processing_') }}\n      </span>\n      <span v-else>\n        {{ t('add_document') }}\n      </span>\n    </label>\n    <form\n      ref=\"form\"\n      class=\"hidden\"\n    >\n      <input\n        :id=\"inputId\"\n        ref=\"input\"\n        name=\"files[]\"\n        type=\"file\"\n        :accept=\"acceptFileTypes\"\n        multiple\n        @change=\"upload\"\n      >\n    </form>\n  </div>\n</template>\n\n<script>\nimport { IconUpload, IconInnerShadowTop } from '@tabler/icons-vue'\n\nexport default {\n  name: 'DocumentsUpload',\n  components: {\n    IconUpload,\n    IconInnerShadowTop\n  },\n  inject: ['baseFetch', 't'],\n  props: {\n    templateId: {\n      type: [Number, String],\n      required: true\n    },\n    acceptFileTypes: {\n      type: String,\n      required: false,\n      default: 'image/*, application/pdf'\n    }\n  },\n  emits: ['success'],\n  data () {\n    return {\n      isLoading: false,\n      isProcessing: false\n    }\n  },\n  computed: {\n    inputId () {\n      return 'el' + Math.random().toString(32).split('.')[1]\n    }\n  },\n  methods: {\n    async upload () {\n      this.isLoading = true\n\n      this.baseFetch(`/templates/${this.templateId}/documents`, {\n        method: 'POST',\n        body: new FormData(this.$refs.form)\n      }).then((resp) => {\n        if (resp.ok) {\n          resp.json().then((data) => {\n            this.$emit('success', data)\n            this.$refs.input.value = ''\n          })\n        } else if (resp.status === 422) {\n          resp.json().then((data) => {\n            if (data.error === 'PDF encrypted') {\n              const formData = new FormData(this.$refs.form)\n\n              formData.append('password', prompt('Enter PDF password'))\n\n              this.baseFetch(`/templates/${this.templateId}/documents`, {\n                method: 'POST',\n                body: formData\n              }).then(async (resp) => {\n                if (resp.ok) {\n                  this.$emit('success', await resp.json())\n                  this.$refs.input.value = ''\n                } else {\n                  alert('Wrong password')\n                }\n              })\n            }\n          })\n        }\n      }).finally(() => {\n        this.isLoading = false\n      })\n    }\n  }\n}\n</script>\n","// extracted by mini-css-extract-plugin\nexport {};","import { render } from \"./area.vue?vue&type=template&id=e12e7680\"\nimport script from \"./area.vue?vue&type=script&lang=js\"\nexport * from \"./area.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/area.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"e12e7680\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('e12e7680', __exports__)) {\n    api.reload('e12e7680', __exports__)\n  }\n  \n  module.hot.accept(\"./area.vue?vue&type=template&id=e12e7680\", () => {\n    api.rerender('e12e7680', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./builder.vue?vue&type=template&id=14575a90\"\nimport script from \"./builder.vue?vue&type=script&lang=js\"\nexport * from \"./builder.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/builder.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"14575a90\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('14575a90', __exports__)) {\n    api.reload('14575a90', __exports__)\n  }\n  \n  module.hot.accept(\"./builder.vue?vue&type=template&id=14575a90\", () => {\n    api.rerender('14575a90', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./conditions_modal.vue?vue&type=template&id=f57e8cce\"\nimport script from \"./conditions_modal.vue?vue&type=script&lang=js\"\nexport * from \"./conditions_modal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/conditions_modal.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"f57e8cce\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('f57e8cce', __exports__)) {\n    api.reload('f57e8cce', __exports__)\n  }\n  \n  module.hot.accept(\"./conditions_modal.vue?vue&type=template&id=f57e8cce\", () => {\n    api.rerender('f57e8cce', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./contenteditable.vue?vue&type=template&id=1e6c36fa\"\nimport script from \"./contenteditable.vue?vue&type=script&lang=js\"\nexport * from \"./contenteditable.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/contenteditable.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"1e6c36fa\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('1e6c36fa', __exports__)) {\n    api.reload('1e6c36fa', __exports__)\n  }\n  \n  module.hot.accept(\"./contenteditable.vue?vue&type=template&id=1e6c36fa\", () => {\n    api.rerender('1e6c36fa', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./controls.vue?vue&type=template&id=6f5b78e9\"\nimport script from \"./controls.vue?vue&type=script&lang=js\"\nexport * from \"./controls.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/controls.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"6f5b78e9\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('6f5b78e9', __exports__)) {\n    api.reload('6f5b78e9', __exports__)\n  }\n  \n  module.hot.accept(\"./controls.vue?vue&type=template&id=6f5b78e9\", () => {\n    api.rerender('6f5b78e9', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./description_modal.vue?vue&type=template&id=4d6193f2\"\nimport script from \"./description_modal.vue?vue&type=script&lang=js\"\nexport * from \"./description_modal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/description_modal.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"4d6193f2\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('4d6193f2', __exports__)) {\n    api.reload('4d6193f2', __exports__)\n  }\n  \n  module.hot.accept(\"./description_modal.vue?vue&type=template&id=4d6193f2\", () => {\n    api.rerender('4d6193f2', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./document.vue?vue&type=template&id=773d48ce\"\nimport script from \"./document.vue?vue&type=script&lang=js\"\nexport * from \"./document.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/document.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"773d48ce\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('773d48ce', __exports__)) {\n    api.reload('773d48ce', __exports__)\n  }\n  \n  module.hot.accept(\"./document.vue?vue&type=template&id=773d48ce\", () => {\n    api.rerender('773d48ce', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./dropzone.vue?vue&type=template&id=1aa0bace\"\nimport script from \"./dropzone.vue?vue&type=script&lang=js\"\nexport * from \"./dropzone.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/dropzone.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"1aa0bace\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('1aa0bace', __exports__)) {\n    api.reload('1aa0bace', __exports__)\n  }\n  \n  module.hot.accept(\"./dropzone.vue?vue&type=template&id=1aa0bace\", () => {\n    api.rerender('1aa0bace', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./field.vue?vue&type=template&id=9c8e0c52\"\nimport script from \"./field.vue?vue&type=script&lang=js\"\nexport * from \"./field.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/field.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"9c8e0c52\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('9c8e0c52', __exports__)) {\n    api.reload('9c8e0c52', __exports__)\n  }\n  \n  module.hot.accept(\"./field.vue?vue&type=template&id=9c8e0c52\", () => {\n    api.rerender('9c8e0c52', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./field_settings.vue?vue&type=template&id=23787ebb\"\nimport script from \"./field_settings.vue?vue&type=script&lang=js\"\nexport * from \"./field_settings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/field_settings.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"23787ebb\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('23787ebb', __exports__)) {\n    api.reload('23787ebb', __exports__)\n  }\n  \n  module.hot.accept(\"./field_settings.vue?vue&type=template&id=23787ebb\", () => {\n    api.rerender('23787ebb', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./field_submitter.vue?vue&type=template&id=a96674be\"\nimport script from \"./field_submitter.vue?vue&type=script&lang=js\"\nexport * from \"./field_submitter.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/field_submitter.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"a96674be\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('a96674be', __exports__)) {\n    api.reload('a96674be', __exports__)\n  }\n  \n  module.hot.accept(\"./field_submitter.vue?vue&type=template&id=a96674be\", () => {\n    api.rerender('a96674be', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./field_type.vue?vue&type=template&id=7437ae52\"\nimport script from \"./field_type.vue?vue&type=script&lang=js\"\nexport * from \"./field_type.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/field_type.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"7437ae52\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('7437ae52', __exports__)) {\n    api.reload('7437ae52', __exports__)\n  }\n  \n  module.hot.accept(\"./field_type.vue?vue&type=template&id=7437ae52\", () => {\n    api.rerender('7437ae52', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./fields.vue?vue&type=template&id=eddc3ba8\"\nimport script from \"./fields.vue?vue&type=script&lang=js\"\nexport * from \"./fields.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/fields.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"eddc3ba8\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('eddc3ba8', __exports__)) {\n    api.reload('eddc3ba8', __exports__)\n  }\n  \n  module.hot.accept(\"./fields.vue?vue&type=template&id=eddc3ba8\", () => {\n    api.rerender('eddc3ba8', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./formula_modal.vue?vue&type=template&id=68fd1d1e\"\nimport script from \"./formula_modal.vue?vue&type=script&lang=js\"\nexport * from \"./formula_modal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/formula_modal.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"68fd1d1e\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('68fd1d1e', __exports__)) {\n    api.reload('68fd1d1e', __exports__)\n  }\n  \n  module.hot.accept(\"./formula_modal.vue?vue&type=template&id=68fd1d1e\", () => {\n    api.rerender('68fd1d1e', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./icon_drag.vue?vue&type=template&id=3bed9b97\"\nimport script from \"./icon_drag.vue?vue&type=script&lang=js\"\nexport * from \"./icon_drag.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/icon_drag.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"3bed9b97\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('3bed9b97', __exports__)) {\n    api.reload('3bed9b97', __exports__)\n  }\n  \n  module.hot.accept(\"./icon_drag.vue?vue&type=template&id=3bed9b97\", () => {\n    api.rerender('3bed9b97', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./import_list.vue?vue&type=template&id=664b5715\"\nimport script from \"./import_list.vue?vue&type=script&lang=js\"\nexport * from \"./import_list.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/import_list.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"664b5715\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('664b5715', __exports__)) {\n    api.reload('664b5715', __exports__)\n  }\n  \n  module.hot.accept(\"./import_list.vue?vue&type=template&id=664b5715\", () => {\n    api.rerender('664b5715', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./logo.vue?vue&type=template&id=6b91fade\"\nimport script from \"./logo.vue?vue&type=script&lang=js\"\nexport * from \"./logo.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/logo.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"6b91fade\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('6b91fade', __exports__)) {\n    api.reload('6b91fade', __exports__)\n  }\n  \n  module.hot.accept(\"./logo.vue?vue&type=template&id=6b91fade\", () => {\n    api.rerender('6b91fade', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./mobile_draw_field.vue?vue&type=template&id=71223b4e\"\nimport script from \"./mobile_draw_field.vue?vue&type=script&lang=js\"\nexport * from \"./mobile_draw_field.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/mobile_draw_field.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"71223b4e\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('71223b4e', __exports__)) {\n    api.reload('71223b4e', __exports__)\n  }\n  \n  module.hot.accept(\"./mobile_draw_field.vue?vue&type=template&id=71223b4e\", () => {\n    api.rerender('71223b4e', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./mobile_fields.vue?vue&type=template&id=139036d3\"\nimport script from \"./mobile_fields.vue?vue&type=script&lang=js\"\nexport * from \"./mobile_fields.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/mobile_fields.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"139036d3\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('139036d3', __exports__)) {\n    api.reload('139036d3', __exports__)\n  }\n  \n  module.hot.accept(\"./mobile_fields.vue?vue&type=template&id=139036d3\", () => {\n    api.rerender('139036d3', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./page.vue?vue&type=template&id=25f285c2\"\nimport script from \"./page.vue?vue&type=script&lang=js\"\nexport * from \"./page.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/page.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"25f285c2\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('25f285c2', __exports__)) {\n    api.reload('25f285c2', __exports__)\n  }\n  \n  module.hot.accept(\"./page.vue?vue&type=template&id=25f285c2\", () => {\n    api.rerender('25f285c2', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./payment_settings.vue?vue&type=template&id=4282d66f\"\nimport script from \"./payment_settings.vue?vue&type=script&lang=js\"\nexport * from \"./payment_settings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/payment_settings.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"4282d66f\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('4282d66f', __exports__)) {\n    api.reload('4282d66f', __exports__)\n  }\n  \n  module.hot.accept(\"./payment_settings.vue?vue&type=template&id=4282d66f\", () => {\n    api.rerender('4282d66f', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./preview.vue?vue&type=template&id=03f96865\"\nimport script from \"./preview.vue?vue&type=script&lang=js\"\nexport * from \"./preview.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/preview.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"03f96865\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('03f96865', __exports__)) {\n    api.reload('03f96865', __exports__)\n  }\n  \n  module.hot.accept(\"./preview.vue?vue&type=template&id=03f96865\", () => {\n    api.rerender('03f96865', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./replace.vue?vue&type=template&id=6a93e151\"\nimport script from \"./replace.vue?vue&type=script&lang=js\"\nexport * from \"./replace.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/replace.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"6a93e151\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('6a93e151', __exports__)) {\n    api.reload('6a93e151', __exports__)\n  }\n  \n  module.hot.accept(\"./replace.vue?vue&type=template&id=6a93e151\", () => {\n    api.rerender('6a93e151', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./upload.vue?vue&type=template&id=57278d74\"\nimport script from \"./upload.vue?vue&type=script&lang=js\"\nexport * from \"./upload.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"app/javascript/template_builder/upload.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"57278d74\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('57278d74', __exports__)) {\n    api.reload('57278d74', __exports__)\n  }\n  \n  module.hot.accept(\"./upload.vue?vue&type=template&id=57278d74\", () => {\n    api.rerender('57278d74', render)\n  })\n\n}\n\n\nexport default __exports__","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./area.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./area.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./builder.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./builder.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./conditions_modal.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./conditions_modal.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./contenteditable.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./contenteditable.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./controls.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./controls.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./description_modal.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./description_modal.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./document.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./document.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./dropzone.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./dropzone.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./field.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./field.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./field_settings.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./field_settings.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./field_submitter.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./field_submitter.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./field_type.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./field_type.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./fields.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./fields.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./formula_modal.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./formula_modal.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./icon_drag.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./icon_drag.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./import_list.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./import_list.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./logo.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./logo.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./mobile_draw_field.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./mobile_draw_field.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./mobile_fields.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./mobile_fields.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./page.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./page.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./payment_settings.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./payment_settings.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./preview.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./preview.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./replace.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./replace.vue?vue&type=script&lang=js\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./upload.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./upload.vue?vue&type=script&lang=js\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./area.vue?vue&type=template&id=e12e7680\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./builder.vue?vue&type=template&id=14575a90\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./conditions_modal.vue?vue&type=template&id=f57e8cce\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./contenteditable.vue?vue&type=template&id=1e6c36fa\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./controls.vue?vue&type=template&id=6f5b78e9\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./description_modal.vue?vue&type=template&id=4d6193f2\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./document.vue?vue&type=template&id=773d48ce\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./dropzone.vue?vue&type=template&id=1aa0bace\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./field.vue?vue&type=template&id=9c8e0c52\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./field_settings.vue?vue&type=template&id=23787ebb\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./field_submitter.vue?vue&type=template&id=a96674be\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./field_type.vue?vue&type=template&id=7437ae52\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./fields.vue?vue&type=template&id=eddc3ba8\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./formula_modal.vue?vue&type=template&id=68fd1d1e\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./icon_drag.vue?vue&type=template&id=3bed9b97\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./import_list.vue?vue&type=template&id=664b5715\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./logo.vue?vue&type=template&id=6b91fade\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./mobile_draw_field.vue?vue&type=template&id=71223b4e\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./mobile_fields.vue?vue&type=template&id=139036d3\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./page.vue?vue&type=template&id=25f285c2\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./payment_settings.vue?vue&type=template&id=4282d66f\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./preview.vue?vue&type=template&id=03f96865\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./replace.vue?vue&type=template&id=6a93e151\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./upload.vue?vue&type=template&id=57278d74\"","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"uvtsign:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/packs/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"application\": 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkuvtsign\"] = self[\"webpackChunkuvtsign\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [\"applicationVendors-node_modules_hotwired_turbo-rails_app_javascript_turbo_fetch_requests_js-n-cc26b3\"], () => (__webpack_require__(\"./app/javascript/application.js\")))\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"applicationVendors-node_modules_hotwired_turbo-rails_app_javascript_turbo_fetch_requests_js-n-cc26b3\"], () => (__webpack_require__(\"./app/javascript/application.scss\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":[],"sourceRoot":""}